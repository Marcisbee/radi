{"version":3,"file":"radi.js","sources":["../src/consts/GLOBALS.js","../src/utils/capitalise.js","../src/utils/ensureArray.js","../src/utils/flatten.js","../src/component/Component.js","../src/component/service.js","../src/html/destroyTree.js","../src/html/fireEvent.js","../src/html/insertAfter.js","../src/html/nodeChanged.js","../src/html/props.js","../src/html/patch.js","../src/mount.js","../src/html/createElement.js","../src/html/customAttribute.js","../src/html/customTag.js","../src/html/html.js","../src/store/Store.js","../src/subscribe/Subscribe.js","../src/custom/tags/portal.js","../src/custom/index.js","../src/index.js"],"sourcesContent":["const GLOBALS = {\n  VERSION: '0.5.0',\n  CUSTOM_ATTRIBUTES: {},\n  CUSTOM_TAGS: {},\n  SERVICES: {},\n};\n\nexport default GLOBALS;\n","\n/**\n * @param {string} str\n * @returns {string}\n */\nexport function capitalise(str) {\n  return str.charAt(0).toUpperCase() + str.substr(1);\n}\n","\n/**\n * @param {*[]} list\n * @returns {*[]}\n */\nexport function ensureArray(list) {\n  if (arguments.length === 0) return [];\n  if (arguments.length === 1) {\n    if (list === undefined || list === null) return [];\n    if (Array.isArray(list)) return list;\n  }\n  return Array.prototype.slice.call(arguments);\n}\n","\n/**\n * @param {*[]} list\n * @returns {*[]}\n */\nexport function flatten(list) {\n  return list.reduce((a, b) => a.concat(Array.isArray(b) ? flatten(b) : b), []);\n}\n","import { capitalise } from '../utils';\n\nexport class Component {\n  /**\n   * @param {Function} fn\n   * @param {string} name\n   */\n  constructor(fn, name) {\n    this.self = fn;\n    this.name = name || fn.name;\n    this.__$events = {};\n  }\n\n  /**\n   * @param  {string}   event\n   * @param  {Function} fn\n   * @return {Function}\n   */\n  on(event, fn) {\n    const e = this.__$events;\n    const name = `on${capitalise(event)}`;\n    if (!e[name]) e[name] = [];\n    e[name].push(fn);\n    return fn;\n  }\n\n  /**\n   * @param  {string} event\n   * @param  {*[]} args\n   */\n  trigger(event, ...args) {\n    const name = `on${capitalise(event)}`;\n\n    (this.__$events[name] || [])\n      .map(e => e(...args));\n\n    if (typeof this[name] === 'function') {\n      this[name](...args);\n    }\n\n    if (typeof this.self[name] === 'function') {\n      this.self[name](...args);\n    }\n  }\n}\n","import { Component } from './Component';\nimport GLOBALS from '../consts/GLOBALS';\n\n/**\n * @param  {string}   key\n * @param  {Function} fn\n * @param  {*[]}   args\n * @return {Function}\n */\nexport function service(key, fn, ...args) {\n  if (typeof key !== 'string') {\n    throw new Error('[Radi.js] Service first argument has to be string');\n  }\n\n  if (typeof fn !== 'function') {\n    throw new Error('[Radi.js] Service second argument has to be function');\n  }\n\n  const name = '$'.concat(key);\n  const mounted = fn(...args);\n\n  Component.prototype[name] = mounted;\n\n  return GLOBALS.SERVICES[name] = mounted;\n}\n","import { fireEvent } from './index';\n\n/**\n * @param  {HTMLElement} node\n */\nexport function destroyTree(node) {\n  fireEvent('destroy', node);\n\n  if (node.nodeType === 1) {\n    let curChild = node.firstChild;\n    while (curChild) {\n      destroyTree(curChild);\n      curChild = curChild.nextSibling;\n    }\n  }\n}\n","\n/**\n * @param  {string} type\n * @param  {HTMLElement} $node\n * @return {HTMLElement}\n */\nexport function fireEvent(type, $node) {\n  const onEvent = document.createEvent('Event');\n  onEvent.initEvent(type, true, true);\n\n  if (typeof $node.dispatchEvent === 'function') {\n    $node._eventFired = true;\n    $node.dispatchEvent(onEvent);\n  }\n\n  return $node;\n}\n","\n/**\n * @param  {HTMLElement} newNode\n * @param  {HTMLElement} $reference\n * @param  {HTMLElement} $parent\n * @return {HTMLElement}\n */\nexport function insertAfter(newNode, $reference, $parent) {\n  if (!$parent) $parent = $reference.parentNode;\n\n  if (newNode instanceof Node) {\n    if ($reference === null || $reference === undefined) {\n      return $parent.insertBefore(newNode, $reference);\n    }\n\n    if ($reference instanceof Node) {\n      return $parent.insertBefore(newNode, $reference.nextSibling);\n    }\n  }\n\n  return newNode;\n}\n","\n/**\n * @param  {Node} node1\n * @param  {Node} node2\n * @return {boolean}\n */\nexport function nodeChanged(node1, node2) {\n  if (node1 === undefined || node2 === undefined) return false;\n  if (typeof node1 !== typeof node2) return true;\n  if ((typeof node1 === 'string' || typeof node1 === 'number')\n    && node1 !== node2) return true;\n  if (node1.type !== node2.type) return true;\n  if (node1.props) return true;\n\n  return false;\n}\n","\nfunction autoUpdate(value, fn) {\n  if (typeof value === 'function' && value.__radiStateUpdater) {\n    return value(fn);\n  }\n  return fn(value);\n}\n\nfunction setBooleanProp($target, name, value) {\n  if (value) {\n    $target.setAttribute(name, value);\n    $target[name] = true;\n  } else {\n    $target[name] = false;\n  }\n}\n\nfunction removeBooleanProp($target, name) {\n  $target.removeAttribute(name);\n  $target[name] = false;\n}\n\nfunction isEventProp(name) {\n  return /^on/.test(name);\n}\n\nfunction extractEventName(name) {\n  return name.slice(2).toLowerCase();\n}\n\nfunction isCustomProp(name) {\n  return isEventProp(name);\n}\n\nexport function setProp($target, name, value) {\n  if (name === 'style') {\n    setStyles($target, value);\n  } else if (isCustomProp(name)) {\n\n  } else if (name === 'className') {\n    $target.setAttribute('class', value);\n  } else if (typeof value === 'boolean') {\n    setBooleanProp($target, name, value);\n  } else {\n    $target.setAttribute(name, value);\n  }\n}\n\nexport function removeProp($target, name, value) {\n  if (isCustomProp(name)) {\n\n  } else if (name === 'className') {\n    $target.removeAttribute('class');\n  } else if (typeof value === 'boolean') {\n    removeBooleanProp($target, name);\n  } else {\n    $target.removeAttribute(name);\n  }\n}\n\nexport function setStyles($target, styles) {\n  Object.keys(styles).forEach(name => {\n    autoUpdate(styles[name], value => {\n      $target.style[name] = value;\n    });\n  });\n}\n\nexport function setProps($target, props) {\n  Object.keys(props).forEach(name => {\n    autoUpdate(props[name], value => {\n      if (name === 'class' || name === 'className') {\n        if (Array.isArray(value)) {\n          value = value.filter(v => v && typeof v !== 'function').join(' ');\n        }\n      }\n      setProp($target, name, value);\n    });\n  });\n}\n\nexport function updateProp($target, name, newVal, oldVal) {\n  if (!newVal) {\n    removeProp($target, name, oldVal);\n  } else if (!oldVal || newVal !== oldVal) {\n    setProp($target, name, newVal);\n  }\n}\n\nexport function updateProps($target, newProps, oldProps = {}) {\n  const props = Object.assign({}, newProps, oldProps);\n  Object.keys(props).forEach(name => {\n    autoUpdate(newProps[name], value => {\n      updateProp($target, name, value, oldProps[name]);\n    });\n  });\n}\n\nexport function addEventListeners($target, props) {\n  const exceptions = ['mount', 'destroy'];\n  Object.keys(props).forEach(name => {\n    if (isEventProp(name)) {\n      $target.addEventListener(\n        extractEventName(name),\n        (e) => {\n          if (exceptions.indexOf(name) >= 0) {\n            if ($target === e.target) props[name](e);\n          } else {\n            props[name](e);\n          }\n        },\n        false\n      );\n    }\n  });\n}\n","import {\n  ensureArray,\n  flatten,\n} from '../utils';\nimport { createElement } from './createElement';\nimport { destroyTree } from './destroyTree';\nimport { fireEvent } from './fireEvent';\nimport { insertAfter } from './insertAfter';\nimport { nodeChanged } from './nodeChanged';\nimport { updateProps } from './props';\n\n/**\n * @param  {HTMLElement} $parent\n * @param  {Object|Object[]} newNode\n * @param  {Object|Object[]} oldNode\n * @param  {number} [index=0]\n * @param  {HTMLElement} $pointer\n * @return {Object[]}\n */\nexport function patch($parent, newNode, oldNode, index = 0, $pointer) {\n  let $output = $parent && $parent.childNodes[index];\n  if ($pointer) {\n    index = Array.prototype.indexOf.call($parent.childNodes, $pointer) + 1;\n  }\n\n  const normalNewNode = flatten(ensureArray(newNode));\n  const normalOldNode = flatten(ensureArray(oldNode));\n  const newLength = normalNewNode.length;\n  const oldLength = normalOldNode.length;\n\n  let modifier = 0;\n  for (let i = 0; i < newLength || i < oldLength; i++) {\n    if (normalNewNode[i] instanceof Date) normalNewNode[i] = normalNewNode[i].toString();\n    if (normalOldNode[i] === false || normalOldNode[i] === undefined || normalOldNode[i] === null) {\n      $output = createElement(normalNewNode[i], $parent);\n      if ($pointer) {\n        insertAfter($output, $parent.childNodes[((index + i) - 1)], $parent);\n      } else {\n        $parent.appendChild($output);\n      }\n      fireEvent('mount', $output);\n    } else\n    if (normalNewNode[i] === false || normalNewNode[i] === undefined || normalNewNode[i] === null) {\n      const $target = $parent.childNodes[index + i + modifier];\n      if ($target) {\n        $parent.removeChild($target);\n        destroyTree($target);\n        modifier -= 1;\n      }\n    } else\n    if (nodeChanged(normalNewNode[i], normalOldNode[i])) {\n      $parent.replaceChild(\n        $output = createElement(normalNewNode[i], $parent),\n        $parent.childNodes[index + i]\n      );\n      fireEvent('mount', $output);\n    } else if (typeof normalNewNode[i].type === 'string') {\n      const childNew = normalNewNode[i];\n      const childOld = normalOldNode[i];\n      updateProps(\n        $parent.childNodes[index + i],\n        childNew.props,\n        childOld.props\n      );\n      const newLength2 = childNew.children.length;\n      const oldLength2 = childOld.children.length;\n      for (let n = 0; n < newLength2 || n < oldLength2; n++) {\n        patch(\n          $parent.childNodes[index + i],\n          childNew.children[n],\n          childOld.children[n],\n          n\n        );\n      }\n    }\n  }\n\n  return normalNewNode;\n}\n","import { patch } from './html/patch';\n\n/**\n * @typedef {Object} Mount\n * @property {Object} component\n * @property {Object} node\n * @property {function} destroy\n */\n\n/**\n * @param  {Object} component\n * @param  {HTMLElement} container\n * @return {Mount}\n */\nexport function mount(component, container) {\n  return {\n    component: component,\n    node: patch(container, component),\n    destroy: () => {\n      return patch(container, null, component);\n    },\n  };\n};\n","import {\n  addEventListeners,\n  fireEvent,\n  insertAfter,\n  setProps,\n} from './index';\n\nimport { Component } from '../component';\nimport { mount } from '../mount';\n\n/**\n * @param  {Object} node\n * @param  {HTMLElement} $parent\n * @return {HTMLElement|null}\n */\nexport function createElement(node, $parent) {\n  if (typeof node === 'string' || typeof node === 'number') {\n    return document.createTextNode(node);\n  }\n\n  if (node === undefined || node === false || node === null) {\n    return document.createComment('');\n  }\n\n  if (Array.isArray(node)) {\n    const $pointer = document.createTextNode('');\n\n    $pointer.addEventListener('mount', () => {\n      for (let i = 0; i < node.length; i++) {\n        mount(node[i], $parent);\n      }\n    });\n\n    return $pointer;\n  }\n\n  if (typeof node === 'function' || typeof node.type === 'function') {\n    const fn = node.type || node;\n\n    const lifecycles = new Component(fn);\n\n    const $element = createElement(\n      fn.call(lifecycles, {\n        ...(node.props || {}),\n        children: node.children || [],\n      }),\n      $parent\n    );\n\n    let $styleRef;\n\n    if ($element && typeof $element.addEventListener === 'function') {\n      $element.addEventListener('mount', () => {\n        if (typeof lifecycles.style === 'string') {\n          $styleRef = document.createElement('style');\n          $styleRef.innerHTML = lifecycles.style;\n          document.head.appendChild($styleRef);\n        }\n        lifecycles.trigger('mount', $element, $parent);\n      }, {\n        passive: true,\n        once: true,\n      }, false);\n\n      $element.addEventListener('destroy', () => {\n        lifecycles.trigger('destroy', $element, $parent);\n        if ($styleRef instanceof Node) {\n          document.head.removeChild($styleRef);\n        }\n      }, {\n        passive: true,\n        once: true,\n      }, false);\n    }\n\n    return $element;\n  }\n\n  if (typeof node === 'object') {\n    if (node.type) {\n      let $el;\n      if (node.type === 'svg' || $parent instanceof SVGElement) {\n        $el = document.createElementNS(\n          'http://www.w3.org/2000/svg',\n          node.type\n        );\n      } else {\n        $el = document.createElement(node.type);\n      }\n      const $lastEl = null;\n      setProps($el, node.props);\n      addEventListeners($el, node.props);\n      const applyChildren = $child => n => {\n        const $n = createElement(n, $child);\n        if ($n) {\n          if ($lastEl) {\n            insertAfter($n, $lastEl, $child);\n          } else {\n            $child.appendChild.call($el, $n);\n            fireEvent('mount', $n);\n          }\n        }\n      };\n      node.children.map(applyChildren($el));\n      return $el;\n    }\n    return createElement(JSON.stringify(node), $parent);\n  }\n\n  console.error('Unhandled node', node);\n  return null;\n}\n","import GLOBALS from '../consts/GLOBALS';\n\n/**\n * @param {string} attributeName\n * @param {function} caller\n * @param {Object} object\n * @returns {Object}\n */\nexport function customAttribute(attributeName, caller, {\n  allowedTags,\n  addToElement,\n} = {}) {\n  return GLOBALS.CUSTOM_ATTRIBUTES[attributeName] = {\n    name: attributeName,\n    caller,\n    allowedTags: allowedTags || null,\n    addToElement,\n  };\n}\n","import GLOBALS from '../consts/GLOBALS';\n\n/**\n * @param {string} tagName\n * @param {function} onmount\n * @returns {object}\n */\nexport function customTag(tagName, render) {\n  return GLOBALS.CUSTOM_TAGS[tagName] = {\n    name: tagName,\n    render: render || (() => {}),\n  };\n}\n","import GLOBALS from '../consts/GLOBALS';\nimport { flatten } from '../utils';\n\n/**\n * @typedef {Object} Node\n * @property {*} type\n * @property {Object} props\n * @property {*[]} children\n */\n\n/**\n * @param  {*} type\n * @param  {Object} props\n * @param  {*[]} children\n * @return {Node}\n */\nexport function html(type, props, ...children) {\n  let finalType = type;\n\n  if (typeof GLOBALS.CUSTOM_TAGS[type] !== 'undefined') {\n    finalType = GLOBALS.CUSTOM_TAGS[type].render;\n  }\n\n  return {\n    type: (typeof finalType === 'number') ? finalType + '' : finalType,\n    props: props || {},\n    children: flatten(children),\n  };\n}\n","import { patch } from '../html/patch';\n\nfunction setDataInObject(source, path, data) {\n  const name = path[0];\n  const out = {\n    [name]: source[name],\n  };\n  let temp = out;\n  let i = 0;\n  while (i < path.length - 1) {\n    temp = temp[path[i++]];\n  }\n  temp[path[i]] = data;\n  return out;\n}\n\nfunction mapData(target, store, source, path = []) {\n  const out = {};\n  if (target && target.$loading) {\n    Object.defineProperty(out, '$loading', {\n      value: true,\n      writable: false,\n    });\n  }\n  if (!source) source = out;\n\n  for (const i in target) {\n    const name = i;\n    if (typeof target[i] === 'function') {\n      const tempOutput = target[i]((data, useUpdate) => {\n        const payload = setDataInObject(source, path.concat(name), data);\n        if (!useUpdate) {\n          store.dispatch(() => payload);\n        } else {\n          store.update(payload);\n        }\n      });\n      out[name] = typeof tempOutput === 'object' ? tempOutput : {};\n\n      Object.defineProperty(out[name], '$loading', {\n        value: true,\n        writable: false,\n      });\n    } else {\n      out[name] = target[name] && typeof target[name] === 'object'\n        && !Array.isArray(target[name])\n        ? mapData(target[name], store, source, path.concat(name))\n        : target[name];\n    }\n  }\n\n  return out;\n}\n\n// TODO: Check out why initial state for Subscribe is `{}`\n\nexport function Store(state = {}) {\n  const OUT = {};\n  const subscriptions = [];\n  const subscriptionsStrict = [];\n  let latestStore;\n\n  Object.setPrototypeOf(OUT, {\n    getInitial() {\n      return STORE;\n    },\n    get() {\n      return latestStore;\n    },\n    update(chunkState, noStrictSubs) {\n      const newState = {\n        ...latestStore,\n        ...mapData(chunkState, OUT),\n      };\n      latestStore = newState;\n      if (!noStrictSubs) {\n        subscriptionsStrict.map(s => {\n          if (typeof s === 'function') {\n            s(newState);\n          }\n          return false;\n        });\n      }\n      subscriptions.map(s => {\n        if (typeof s === 'function') {\n          s(newState);\n        }\n        return false;\n      });\n      return latestStore;\n    },\n    subscribe(fn, strict) {\n      if (strict) {\n        subscriptionsStrict.push(fn);\n      } else {\n        subscriptions.push(fn);\n      }\n    },\n    dispatch(fn, ...args) {\n      const payload = fn(latestStore, ...args);\n      // console.log('dispatch', {\n      //   action: fn.name,\n      //   args: args,\n      //   payload,\n      // });\n      // console.log('dispatch', fn.name, payload);\n      return this.update(payload);\n    },\n    render(fn = (s) => JSON.stringify(s)) {\n      let $parent;\n      let $pointer;\n      let newTree;\n      let oldTree;\n      let mounted = false;\n\n      function update(data) {\n        newTree = fn(data);\n        patch($parent, newTree, oldTree, 0, $pointer);\n        oldTree = newTree;\n        return data;\n      }\n\n      subscriptions.push((data) => {\n        if (mounted) {\n          update(data);\n        }\n        return data;\n      });\n\n      function item() {\n        this.onMount = (element, parent) => {\n          mounted = true;\n          $pointer = element;\n          $parent = parent || element.parentNode;\n          update(latestStore);\n        };\n        return '';\n      }\n\n      return item;\n    },\n    inject(update) {\n      if (typeof update !== 'function') {\n        console.warn('[Radi.js] Store\\'s `.inject()` method must not be called on it\\'s own. Instead use `{ field: Store.inject }`.');\n        return;\n      }\n      OUT.subscribe(update, true);\n      update(latestStore, true);\n      return latestStore;\n    },\n    out(fn) {\n      let lastValue;\n      function stateUpdater(update) {\n        if (typeof update === 'function') {\n          OUT.subscribe(s => {\n            const newValue = fn(s);\n            if (lastValue !== newValue) {\n              update(newValue);\n            }\n          });\n          update(lastValue = fn(latestStore), true);\n        } else {\n          const a = OUT.render(fn);\n          return a;\n        }\n        return lastValue;\n      }\n      stateUpdater.__radiStateUpdater = true;\n      return stateUpdater;\n    },\n  });\n\n  const STORE = mapData(state, OUT);\n\n  latestStore = STORE;\n\n  return OUT;\n}\n","\n/**\n * @param       {EventTarget} [target=document] [description]\n * @constructor\n */\nexport function Subscribe(target = document) {\n  return {\n    on: (event, fn = e => e) => {\n      let eventSubscription = null;\n      let staticDefaults = null;\n      let staticUpdate = null;\n      let state = false;\n      const transformer = typeof fn === 'object'\n        ? (e) => (Object.keys(fn)\n          .reduce((acc, key) => ({\n            ...acc,\n            [key]: e[key],\n          }), {}))\n        : fn;\n\n      if (typeof transformer !== 'function') {\n        throw new Error('[Radi.js] Subscription `'+event+'` must be transformed by function');\n        return;\n      }\n\n      function updater(defaults) {\n        return update => {\n          state = true;\n          staticDefaults = defaults;\n          staticUpdate = update;\n          target.addEventListener(event, eventSubscription = (...args) => update(transformer(...args)));\n          return defaults;\n        };\n      }\n\n      updater.stop = () => (state && (target.removeEventListener(event, eventSubscription), state = !state));\n      updater.start = () => (!state && updater(staticDefaults)(staticUpdate));\n\n      return updater;\n    }\n  }\n}\n","import { mount } from '../../mount';\nimport {\n  customTag,\n  patch,\n} from '../../html';\n\nexport const Portal = customTag('portal',\n  function (data) {\n    let $ref;\n    let $parent;\n    const toRender = data.children || [];\n\n    this.onMount = ($element) => {\n      mount(function () {\n        this.onMount = ($el, $p) => {\n          $ref = $el;\n          $parent = $p;\n        };\n\n        return () => toRender;\n      }, data.on || document.body);\n    };\n\n    this.onDestroy = (el, parent) => {\n      patch($parent, null, toRender, 0, $ref || el);\n    };\n\n    return null;\n  }\n);\n","// import {} from './attributes/animation';\nexport * from './tags';\n","import GLOBALS from './consts/GLOBALS';\nimport { service } from './component';\nimport {\n  customAttribute,\n  customTag,\n  html,\n  patch,\n} from './html';\nimport { Store } from './store';\nimport { Subscribe } from './subscribe';\nimport { mount } from './mount';\nimport {\n  Portal,\n} from './custom';\n// import {} from './custom';\n// import validate from './custom/validation/validate';\n// import { Validator } from './custom/validation/Validator';\n\nconst Radi = {\n  v: GLOBALS.VERSION,\n  version: GLOBALS.VERSION,\n  h: html,\n  html,\n  Store,\n  customTag,\n  customAttribute,\n  patch,\n  mount,\n  service,\n  Subscribe,\n  // Validator,\n};\n\n// Pass Radi instance to plugins\nRadi.plugin = (fn, ...args) => fn(Radi, ...args);\n\n// Radi.plugin(validate);\n\nif (window) window.Radi = Radi;\nexport default Radi;\n"],"names":["const","destroyTree","let","createElement"],"mappings":"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"}