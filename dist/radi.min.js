var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,f){b!=Array.prototype&&b!=Object.prototype&&(b[d]=f.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var d=0;return $jscomp.iteratorPrototype(function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();var d=b[Symbol.iterator];return d?d.call(b):$jscomp.arrayIterator(b)};
$jscomp.polyfill=function(b,d,f,h){if(d){f=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var g=b[h];g in f||(f[g]={});f=f[g]}b=b[b.length-1];h=f[b];d=d(h);d!=h&&null!=d&&$jscomp.defineProperty(f,b,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Object.is",function(b){return b?b:function(b,f){return b===f?0!==b||1/b===1/f:b!==b&&f!==f}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,f){var d=this;d instanceof String&&(d=String(d));var g=d.length;for(f=f||0;f<g;f++)if(d[f]==b||Object.is(d[f],b))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,d,f){if(null==b)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,f){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,f||0)}},"es6","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(b){function d(){this.batch_=null}function f(b){return b instanceof g?b:new g(function(k,d){k(b)})}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;d.prototype.asyncExecute=function(b){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(b);return this};d.prototype.asyncExecuteBatch_=function(){var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})};var h=$jscomp.global.setTimeout;d.prototype.asyncExecuteFunction=function(b){h(b,
0)};d.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=this.batch_;this.batch_=[];for(var d=0;d<b.length;++d){var f=b[d];delete b[d];try{f()}catch(u){this.asyncThrow_(u)}}}this.batch_=null};d.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var g=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var d=this.createResolveAndReject_();try{b(d.resolve,d.reject)}catch(v){d.reject(v)}};g.prototype.createResolveAndReject_=
function(){function b(b){return function(k){f||(f=!0,b.call(d,k))}}var d=this,f=!1;return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};g.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof g)this.settleSameAsPromise_(b);else{a:switch(typeof b){case "object":var d=null!=b;break a;case "function":d=!0;break a;default:d=!1}d?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};g.prototype.resolveToNonPromiseObj_=function(b){var d=
void 0;try{d=b.then}catch(v){this.reject_(v);return}"function"==typeof d?this.settleSameAsThenable_(d,b):this.fulfill_(b)};g.prototype.reject_=function(b){this.settle_(2,b)};g.prototype.fulfill_=function(b){this.settle_(1,b)};g.prototype.settle_=function(b,d){if(0!=this.state_)throw Error("Cannot settle("+b+", "+d|"): Promise already settled in state"+this.state_);this.state_=b;this.result_=d;this.executeOnSettledCallbacks_()};g.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=
this.onSettledCallbacks_,d=0;d<b.length;++d)b[d].call(),b[d]=null;this.onSettledCallbacks_=null}};var n=new d;g.prototype.settleSameAsPromise_=function(b){var d=this.createResolveAndReject_();b.callWhenSettled_(d.resolve,d.reject)};g.prototype.settleSameAsThenable_=function(b,d){var f=this.createResolveAndReject_();try{b.call(d,f.resolve,f.reject)}catch(u){f.reject(u)}};g.prototype.then=function(b,d){function f(b,d){return"function"==typeof b?function(d){try{h(b(d))}catch(D){k(D)}}:d}var h,k,n=new g(function(b,
d){h=b;k=d});this.callWhenSettled_(f(b,h),f(d,k));return n};g.prototype.catch=function(b){return this.then(void 0,b)};g.prototype.callWhenSettled_=function(b,d){function f(){switch(g.state_){case 1:b(g.result_);break;case 2:d(g.result_);break;default:throw Error("Unexpected state: "+g.state_);}}var g=this;null==this.onSettledCallbacks_?n.asyncExecute(f):this.onSettledCallbacks_.push(function(){n.asyncExecute(f)})};g.resolve=f;g.reject=function(b){return new g(function(d,f){f(b)})};g.race=function(b){return new g(function(d,
g){for(var h=$jscomp.makeIterator(b),k=h.next();!k.done;k=h.next())f(k.value).callWhenSettled_(d,g)})};g.all=function(b){var d=$jscomp.makeIterator(b),h=d.next();return h.done?f([]):new g(function(b,g){function k(d){return function(f){q[d]=f;n--;0==n&&b(q)}}var q=[],n=0;do q.push(void 0),n++,f(h.value).callWhenSettled_(k(q.length-1),g),h=d.next();while(!h.done)})};return g},"es6","es3");$jscomp.owns=function(b,d){return Object.prototype.hasOwnProperty.call(b,d)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,d){for(var f=1;f<arguments.length;f++){var h=arguments[f];if(h)for(var g in h)$jscomp.owns(h,g)&&(b[g]=h[g])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
$jscomp.iteratorFromArray=function(b,d){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var f=0,h={next:function(){if(f<b.length){var g=f++;return{value:d(g,b[g]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
(function(b,d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define(d):b.Radi=d()})(this,function(){function b(a,c,e){void 0===e&&(e={});return r.CUSTOM_ATTRIBUTES[a]={name:a,caller:c,allowedTags:e.allowedTags||null,addToElement:e.addToElement}}function d(a,c){return r.CUSTOM_TAGS[a]={name:a,render:c||function(){}}}function f(a){h("destroy",a);a.__radiRef=void 0;if(1===a.nodeType)for(a=a.firstChild;a;)f(a),a=a.nextSibling}function h(a,
c,e){void 0===e&&(e=c);var b=document.createEvent("Event");b.initEvent(a,!1,!0);"function"===typeof c.dispatchEvent&&(c._eventFired=!0,c.dispatchEvent(b,e));return c}function g(a){return a.charAt(0).toUpperCase()+a.substr(1)}function n(a){return a.reduce(function(a,e){return a.concat(Array.isArray(e)?n(e):e)},[])}function k(a,c){for(var e=[],b=arguments.length-2;0<b--;)e[b]=arguments[b+2];b="number"===typeof a?""+a:a;var d=c||{};e=n(e);if(b instanceof Promise||b&&"LazyPromise"===b.constructor.name)b=
"await",d={src:a};return{type:b,props:d,children:e}}function T(a,c){return"function"===typeof a.beforedestroy?a.beforedestroy(c):c()}function v(a){n([a]).map(function(a){if(a instanceof Node){var c=a.parentNode;a instanceof Node&&c instanceof Node&&T(a,function(){c.removeChild(a);f(a)})}})}function u(a,c,e){var b=n([a]);return b.map(function(a){a=q(a,c);if(Array.isArray(a))return u(a,c,e);if(e&&e.parentNode){a:{var l=e,d=e.parentNode;d||(d=l.parentNode);if(a instanceof Node){if(null===l||void 0===
l){e=d.insertBefore(a,l);break a}if(l instanceof Node){e=d.insertBefore(a,l.nextSibling);break a}}e=a}h("mount",a);return e}if(!c)return console.log("[Radi] Mount canceled"),b;l=c.appendChild(a);h("mount",a);return l})}function B(a,c,e){void 0===e&&(e=[]);if(c){if(c&&(c.constructor===Object||c.constructor===Array)){var b=Array.isArray(c)?[]:{},d;for(d in c)b[d]=B(a,c[d],e.concat(d));return b}if(c instanceof p)return c.subscribe.call(c,function(c){a.update(a.setPartial(e,c))}),c.get()}return c}function K(a){return function(c,
e){return e&&Array.isArray(a.dom)?a.dom[e]=c:a.dom=c}}function q(a,c){if(Array.isArray(a))return a=n(a).map(function(a){return q(a,c)}),0===a.length?q([null],c):a;if(a&&a.__esModule&&a.default)return q(a.default,c);if(a&&"function"===typeof a.type||"function"===typeof a){var e=new w(a.type||a,a.props,a.children),b=r.CURRENT_COMPONENT;r.CURRENT_COMPONENT=e;var d=e.render(a.props,a.children,c),f;d&&"function"===typeof d.addEventListener&&(d.addEventListener("mount",function(){"string"===typeof e.style&&
(f=document.createElement("style"),f.innerHTML=e.style,document.head.appendChild(f));e.trigger("mount",d)},{passive:!0,once:!0},!1),d.addEventListener("destroy",function(){e.trigger("destroy",d);f instanceof Node&&document.head.removeChild(f)},{passive:!0,once:!0},!1));Array.isArray(d)&&d.forEach(function(a){a&&"function"===typeof a.addEventListener&&(a.addEventListener("mount",function(){"string"===typeof e.style&&(f=document.createElement("style"),f.innerHTML=e.style,document.head.appendChild(f));
e.trigger("mount",a)},{passive:!0,once:!0},!1),a.addEventListener("destroy",function(){e.trigger("destroy",a);f instanceof Node&&document.head.removeChild(f)},{passive:!0,once:!0},!1))});Array.isArray(d)?d[0].__radiRef=K(e):d.__radiRef=K(e);r.CURRENT_COMPONENT=b;return d}if(a instanceof Node)return a;if(a instanceof y)return a.render();if(a instanceof Promise)return q({type:"await",props:{src:a},children:[]},c);if(-1<["string","number"].indexOf(typeof a))return document.createTextNode(a);if(!a)return document.createComment("");
if("undefined"===typeof a.type||"undefined"===typeof a.props||"undefined"===typeof a.children)return document.createTextNode(JSON.stringify(a));if("undefined"!==typeof r.CUSTOM_TAGS[a.type])return q(Object.assign({},a,{type:r.CUSTOM_TAGS[a.type].render}),c);var g="svg"===a.type||c instanceof SVGElement?document.createElementNS("http://www.w3.org/2000/svg",a.type):document.createElement(a.type);U(g,a.props);a.children&&n(a.children||[]).forEach(function(a){a=a instanceof Node?a:q(a,g);u(a,g)});return g}
function C(a,c){return a instanceof y?c(a.getValue(function(e){return c(a.map(e))})):c(a)}function J(a,c,e){"style"===c&&"string"!==typeof e?D(a,e):/^on/.test(c)?V(a,c,e):"className"===c?a.setAttribute("class",e):"boolean"===typeof e?e?(a.setAttribute(c,e),a[c]=!0):a[c]=!1:("value"===c&&document.activeElement!==a&&(a[c]=e),a.setAttribute(c,e))}function D(a,c){Object.keys(c).forEach(function(e){C(c[e],function(c){a.style[e]=c})})}function U(a,c){Object.keys(c||{}).forEach(function(e){if("undefined"!==
typeof r.CUSTOM_ATTRIBUTES[e]){var b=r.CUSTOM_ATTRIBUTES[e],d=b.allowedTags,f=b.addToElement;b=b.caller;if(!d||d&&0<d.length&&0<=d.indexOf(a.localName))if("function"===typeof b&&(c[e]=b(a,c[e])),!f)return}C(c[e],function(c){"model"===e?e="value":("class"===e||"className"===e)&&Array.isArray(c)&&(c=c.filter(function(a){return a&&"function"!==typeof a}).join(" "));J(a,e,c)})})}function W(a,c,e){void 0===e&&(e={});var b=Object.assign({},c,e);Object.keys(b).forEach(function(b){C(c[b],function(c){"model"===
b&&(b="value");var d=b,l=e[b];"undefined"===typeof c||!1===c||null===c?/^on/.test(d)||("className"===d?a.removeAttribute("class"):"boolean"===typeof l?(a.removeAttribute(d),a[d]=!1):a.removeAttribute(d)):l&&c===l||J(a,d,c)})})}function V(a,c,e){var b=["mount","destroy"];/^on/.test(c)&&a.addEventListener(c.slice(2).toLowerCase(),function(d){0<=b.indexOf(c)?a===d.target&&e(d):"function"===typeof e&&e(d)},!1)}function E(a,c,e,b){void 0===e&&(e=c&&c.parentNode);void 0===b&&(b=null);if(Array.isArray(a)||
Array.isArray(c)){b=Array.isArray(a)&&0===a.length?[null]:n([a]);var d=n([c]),l=Array.isArray(c)?c[0]&&c[0].__radiRef:c.__radiRef,f=c;c=b.map(function(a,c){var b=f;a=E(a,d[c],d[c]&&d[c].parentNode||e,!d[c]&&b);f=Array.isArray(a)?a[0]:a;"function"===typeof l&&0<c&&(f.__radiRef=function(a){return l(a,c)},f.__radiRef(f,c));return a});d.length>b.length&&d.slice(b.length-d.length).forEach(v);"function"===typeof l&&l(c);return c}a=q(a,e);return L(c,a,e,b)}function M(a){return[].reduce.call(a,function(a,
e){var c;return Object.assign({},a,(c={},c[e.name]=e.value,c))},{})}function L(a,c,e,b){var d=document.activeElement;if(!a&&(b||e))return u(c,e,b);if("undefined"===typeof c)return v(a),a;if(a&&e){if(!(3===a.nodeType&&3===c.nodeType&&a.__radiRef||a.nodeType!==c.nodeType&&a.nodeName!==c.nodeName)){3===a.nodeType&&3===c.nodeType&&a.textContent!==c.textContent&&(a.textContent=c.textContent,h("mount",c,a));if(a.childNodes||c.childNodes)for(e=Math.max(a.childNodes.length,c.childNodes.length)-1;0<=e;e--)L(a.childNodes[e],
c.childNodes[e]&&c.childNodes[e],a);1===a.nodeType&&1===c.nodeType&&(e=M(a.attributes),c=M(c.attributes),W(a,c,e));a.__radiRef&&a.__radiRef(a);d.focus();return a}u(c,e,a);a.__radiRef&&(c.__radiRef=a.__radiRef,c.__radiRef(c));v(a)}d.focus();return c}function N(a){return Array.isArray(a)?a.map(function(a){return a.value}):a.value}function X(a,c){return Array.isArray(a)?[].reduce.call(c,function(a,c){return c.touched&&!0||a},!1):a.touched}function F(a,c,e){var b=O(a,function(a,c){return{touched:a.touched,
value:c}}),d=Object.keys(b).reduce(function(a,c){var e;return Object.assign({},a,(e={},e[c]=N(b[c]),e))},{}),f=[],g;for(g in b){var h=b[g];if("function"===typeof c[g]){var t=c[g](N(h),d);t=t&&"function"===typeof t.check&&t.check()||t||g+" field is invalid";!0!==t&&f.push({field:g,touched:!!X(h,a[g]),error:t})}}e(f)}function P(a){return"function"===typeof a?a:function(c){return a||c}}var r={VERSION:"0.5.0",CURRENT_COMPONENT:null,CUSTOM_ATTRIBUTES:{},CUSTOM_TAGS:{},IS_UPDATE:!1,SERVICES:{}},Q=function(a){return!["checkbox",
"radio"].includes(a.type)||a.checked},Y=function(a){return[].reduce.call(a,function(a,e){return e.selected?a.concat(e.value):a},[])},O=function(a,c){void 0===c&&(c=function(a,c){return c});return[].reduce.call(a,function(a,b){b.name&&(b.value||""===b.value)&&("checkbox"===b.type?("undefined"===typeof a[b.name]&&(a[b.name]=[]),Q(b)&&(a[b.name]=a[b.name].concat(c(b,b.value)))):Q(b)&&(a[b.name]=b.options&&b.multiple?c(b,Y(b)):c(b,b.value)));return a},{})},G=[],z=function(){this.dependencies={}};z.prototype.add=
function(a,c){a=a[0];"undefined"===typeof this.dependencies[a]&&(this.dependencies[a]=[]);0>this.dependencies[a].indexOf(c)&&this.dependencies[a].push(c);this.dependencies[a]=this.dependencies[a].filter(function(a){return a.dom instanceof Node?a.dom.isConnected:!0})};z.prototype.remove=function(a,c){a=a[0];c=(this.dependencies[a]||[]).indexOf(c);0<=c&&this.dependencies[a].splice(c,1)};z.prototype.component=function(a,c){var b=this;c&&(this.add(a,c),c.__onDestroy=function(){b.remove(a,c)});return c};
z.prototype.trigger=function(a,c,b){this.dependencies[a]&&this.dependencies[a].forEach(function(a){a=a.update||a;0>G.indexOf(a)&&G.push(a);return a(c,b)})};var Z=function(a){return a},y=function(a,c){this.map=a;this.getValue=this.getValue.bind(this);this.render=this.render.bind(this);this.store=c;this.dep=c.event};y.prototype.getValue=function(a){var c=this.store.get();this.subbed||(this.subbed=this.dep.add("*",a));return this.cached=this.map(c)};y.prototype.render=function(){var a=this;return function(){return a.getValue(this)}};
var p=function(a){this.dependencies=new z;this.transform=Z;this.willDispatch=this.willDispatch.bind(this);this.dispatch=this.dispatch.bind(this);this.subscribe=this.subscribe.bind(this);this.update=this.update.bind(this);this.get=this.get.bind(this);this.storedState=B(this,a)},m={state:{configurable:!0}};m.state.get=function(){r.CURRENT_COMPONENT&&this.dependencies.component("*",r.CURRENT_COMPONENT);return this.get()};p.prototype.get=function(){return this.transform(this.storedState)};p.prototype.map=
function(a){var c=this.transform;this.transform=function(b){return a(c(b))};return this};p.prototype.setPartial=function(a,c,b){void 0===b&&(b=this.storedState);if(b&&a&&a.length){var e=a[0],d=a.slice(1);a=b;c=this.setPartial(d,c,b[e]);a&&a&&(a.constructor===Object||a.constructor===Array)?(b=Array.isArray(a)?[].concat(a):Object.assign({},a),b[e]=c,e=b):e=a;return e}return c};p.prototype.update=function(a){a=B(this,a);var c=this.get();this.storedState=a;this.dependencies.trigger("*",this.get(),c);
G=[];return this.get()};p.prototype.subscribe=function(a){this.dependencies.add("*",a);a(this.get(),null);return this};p.prototype.unsubscribe=function(a){this.dependencies.remove("*",a)};p.prototype.dispatch=function(a){for(var c=[],b=arguments.length-1;0<b--;)c[b]=arguments[b+1];c=a.apply(void 0,[this.storedState].concat(c));return this.update(c)};p.prototype.willDispatch=function(a){for(var c=this,b=[],d=arguments.length-1;0<d--;)b[d]=arguments[d+1];return function(){for(var e=[],d=arguments.length;d--;)e[d]=
arguments[d];return c.dispatch.apply(c,[a].concat(b,e))}};p.prototype.listener=function(a){void 0===a&&(a=function(a){return a});return new y(a,this)};Object.defineProperties(p.prototype,m);var w=function(a){this.type=a;this.name=a.name;this.render=this.render.bind(this);this.evaluate=this.evaluate.bind(this);this.update=this.update.bind(this);this.updateWithProps=this.updateWithProps.bind(this);this.__$events={}};w.prototype.on=function(a,c){var b=this.__$events;a="on"+g(a);b[a]||(b[a]=[]);b[a].push(c);
return c};w.prototype.trigger=function(a){for(var c=[],b=arguments.length-1;0<b--;)c[b]=arguments[b+1];b="on"+g(a);(this.__$events[b]||[]).map(function(a){return a.apply(void 0,c)});"function"===typeof this[b]&&this[b].apply(this,c)};w.prototype.evaluate=function(a,c){this.props=a;this.children=c;return this.node=this.type.call(this,Object.assign({},this.props,{children:this.children}))};w.prototype.render=function(a,c,b){return this.dom=q(this.evaluate(a,c),b)};w.prototype.update=function(){var a=
this.dom;return this.dom=E(this.evaluate(this.props,this.children),a)};w.prototype.updateWithProps=function(a,c){void 0===a&&(a=this.props);void 0===c&&(c=this.children);this.props=a;this.children=c;return this.update()};m=function(){};m.prototype.add=function(a,c){for(var b=[],d=arguments.length-2;0<d--;)b[d]=arguments[d+2];if("string"!==typeof a)throw Error("[Radi.js] Service first argument has to be string");if("undefined"!==typeof this[a]||"undefined"!==typeof w.prototype[a])throw Error('[Radi.js] Service "'+
a+'" is already in use');if("function"!==typeof c)throw Error("[Radi.js] Service second argument has to be function");b=c.apply(void 0,b);w.prototype[a]=this[a]=b;return r.SERVICES[a]=b};var A=new m,R=function(a,c,b,d){b=b[c];if("function"!==typeof b)console.warn("[Radi.js] Animation `"+c+"` for node `"+a.nodeName.toLowerCase+"` should be function");else return b(a,d)};b("animation",function(a,c){R(a,"in",c,function(){});a.beforedestroy=function(b){return R(a,"out",c,b)}});b("html",function(a,c){a.addEventListener("mount",
function(){a.escape?a.textContent=c:a.innerHTML=c})});b("loadfocus",function(a){a.addEventListener("mount",function(){return setTimeout(function(){return a.focus()},0)})});b("onsubmit",function(a,c){return function(b){a.prevent&&b.preventDefault();c(b,O(a.elements||{}))}},{allowedTags:["form"],addToElement:!0});var H=new p({},"errorStore"),aa=function(a,c,b){var e;return Object.assign({},a,(e={},e[c]=b,e))},ba=0;b("onvalidate",function(a,c){function b(a){H.dispatch(aa,d,a)}var d=a.name||"defaultForm"+
ba++,f;H.subscribe(function(a){f&&(f.disabled=0<a[d].length)});a.addEventListener("mount",function(d){var e=c(d),g=a.elements;if(e&&"object"===typeof e&&g){d=$jscomp.makeIterator(g);for(var l=d.next();!l.done;l=d.next()){l=l.value;var h=l.name;if(!l.__radiValidate&&"string"===typeof h&&"function"===typeof e[h]){l.addEventListener("input",function(){F(g,e,b)});l.__radiValidate=!0;l.touched=!1;var k=function(a){a=a.target;a.touched=!0;a.removeEventListener("change",k);F(g,e,b)};l.addEventListener("change",
k)}"submit"===l.type&&!0===l.disabled&&(f=l)}F(g,e,b)}},!1)},{allowedTags:["form"]});d("await",function(a){var c=this,b,d=a.src,f=a.waitMs,g=a.transform;void 0===g&&(g=function(a){return a});var h=a.error;void 0===h&&(h=function(a){return a});var k=a.placeholder;void 0===k&&(k="Loading..");var t=a.value;void 0===t&&(t=null);var m=a.loaded;void 0===m&&(m=!1);if(!d||!(d instanceof Promise||"LazyPromise"===d.constructor.name))return console.warn("[Radi] \x3cawait/\x3e must have `src` as a Promise"),
null;m||(k!==t&&(f?b=setTimeout(function(){c.updateWithProps(Object.assign({},a,{value:k}))},f):t=k),d.then(function(d){clearTimeout(b);c.updateWithProps(Object.assign({},a,{value:P(g)(d),loaded:!0}))}).catch(function(d){console.error(d);clearTimeout(b);c.updateWithProps(Object.assign({},a,{value:P(h)(d),loaded:!0}))}));return t});d("errors",function(a){var b=a.name,d=a.onrender;void 0===d&&(d=function(a){return a});var f=H.state;"undefined"===typeof b&&console.warn("[Radi.js] Warn: Every \x3cerrors\x3e tag needs to have `name` attribute!");
"function"!==typeof d&&console.warn("[Radi.js] Warn: Every \x3cerrors\x3e tag needs to have `onrender` attribute!");return k(function(){return f[b]&&d(f[b])})});var x=new p({}),ca=function(a,b){var c;return Object.assign({},a,(c={},c[b]=!1,c))},S=function(a,b,d){var c;return Object.assign({},a,(c={},c[b]=d,c))};A.add("modal",function(){return{open:function(a){return x.dispatch(S,a,!0)},close:function(a){return x.dispatch(S,a,!1)},onOpen:function(a,b){return x.subscribe(function(c,d){return!0===c[a]&&
c[a]!==d[a]&&b()})},onClose:function(a,b){return x.subscribe(function(c,d){return!1===c[a]&&c[a]!==d[a]&&b()})}}});d("modal",function(a){var b=a.name;void 0===b&&(b="default");a=a.children;var d=x.state;"undefined"===typeof b&&console.warn("[Radi.js] Warn: Every \x3cmodal\x3e tag needs to have `name` attribute!");this.onMount=function(a){d[b]||x.dispatch(ca,b)};return k("portal",{},d[b]&&k("div",{class:"radi-modal",name:b},k("div",{class:"radi-modal-backdrop",onclick:function(){return A.modal.close(b)}}),
k.apply(void 0,["div",{class:"radi-modal-content"}].concat(a.slice()))))});d("portal",function(a){var b=a.children;void 0===b&&(b=[]);var d=a.parent;void 0===d&&(d=a.on||document.body);var f;this.onMount=function(a){u(function(){var a=this;this.onMount=function(b){f=a.dom};return k("portal-body",{},b)},d)};this.onDestroy=function(a){v(f)};return null});m=function(a){this.value=a;this.rules=[]};m.prototype.register=function(a){var b=this,d=a.validate,f=a.error,g=this.rules.push({type:a.type,validate:function(a){return("string"===
typeof a||"number"===typeof a||a)&&d(a)},error:f||"Invalid field"});this.error=function(a){b.rules[g-1].error=a||f;return b};return this};m.prototype.check=function(a){var b=this;"undefined"!==typeof a&&(this.value=a);return this.rules.reduce(function(a,c){return"string"===typeof a?a:!c.validate(b.value)&&c.error||a},!0)};m.prototype.required=function(){return this.register({type:"required",validate:function(a){return""!==a},error:"Field is required"})};m.prototype.test=function(a){return this.register({type:"test",
validate:function(b){return""===b||a.test(b)},error:"Field must be valid"})};m.prototype.includes=function(a){return this.register({type:"includes",validate:function(b){return""===b||Array.isArray(b)&&0<=b.indexOf(a)},error:"Field must include "+a})};m.prototype.excludes=function(a){return this.register({type:"excludes",validate:function(b){return""===b||Array.isArray(b)&&0>b.indexOf(a)},error:"Field must exclude "+a})};m.prototype.equal=function(a){return this.register({type:"equal",validate:function(b){return""===
b||b===a},error:"Field must be equal to "+a})};m.prototype.notEqual=function(a){return this.register({type:"notEqual",validate:function(b){return""===b||b!==a},error:"Field must not be equal to "+a})};m.prototype.min=function(a){return this.register({type:"min",validate:function(b){return b.length>=a},error:"Min char length is "+a})};m.prototype.max=function(a){return this.register({type:"max",validate:function(b){return b.length<a},error:"Max char length is "+a})};m.prototype.email=function(){return this.register({type:"email",
validate:function(a){return""===a||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)},error:"Email is not valid"})};var I={v:r.VERSION,version:r.VERSION,h:k,html:k,Fetcher:function(a,b,d){return function(c){var e=new p(c);"function"===typeof a&&a().then(b||function(a){e.dispatch(function(){return a})}).catch(d||function(a){console.error(a)});return e}},Store:p,customTag:d,customAttribute:b,destroy:v,patch:E,mount:u,service:A,Service:A,Subscribe:function(a){void 0===a&&(a=document);return{on:function(b,d){function c(b,
c){var l="undefined"!==typeof c?c:new p(b);k=!0;g=b;h=l;e.forEach(function(b){return a.addEventListener(b,f=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return l.dispatch(function(){return d.apply(void 0,a.concat([b]))})})});return l}void 0===d&&(d=function(a){return a});var e=b.trim().split(" "),f=null,g=null,h=null,k=!1;if("function"!==typeof d)throw Error("[Radi.js] Subscription `"+b+"` must be transformed by function");c.stop=function(){k&&e.forEach(function(b){return a.removeEventListener(b,
f)});return k=!k};c.start=function(){return!k&&c(g,h)};return c}}},Validator:m,plugin:function(a){for(var b=[],d=arguments.length-1;0<d--;)b[d]=arguments[d+1];return a.apply(void 0,[I].concat(b))}};window&&(window.Radi=I);return I});
