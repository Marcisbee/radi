var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,f){b!=Array.prototype&&b!=Object.prototype&&(b[d]=f.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var d=0;return $jscomp.iteratorPrototype(function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();var d=b[Symbol.iterator];return d?d.call(b):$jscomp.arrayIterator(b)};
$jscomp.polyfill=function(b,d,f,k){if(d){f=$jscomp.global;b=b.split(".");for(k=0;k<b.length-1;k++){var g=b[k];g in f||(f[g]={});f=f[g]}b=b[b.length-1];k=f[b];d=d(k);d!=k&&null!=d&&$jscomp.defineProperty(f,b,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Object.is",function(b){return b?b:function(b,f){return b===f?0!==b||1/b===1/f:b!==b&&f!==f}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,f){var d=this;d instanceof String&&(d=String(d));var g=d.length;for(f=f||0;f<g;f++)if(d[f]==b||Object.is(d[f],b))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,d,f){if(null==b)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,f){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,f||0)}},"es6","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(b){function d(){this.batch_=null}function f(b){return b instanceof g?b:new g(function(p,d){p(b)})}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;d.prototype.asyncExecute=function(b){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(b);return this};d.prototype.asyncExecuteBatch_=function(){var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})};var k=$jscomp.global.setTimeout;d.prototype.asyncExecuteFunction=function(b){k(b,
0)};d.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=this.batch_;this.batch_=[];for(var d=0;d<b.length;++d){var f=b[d];delete b[d];try{f()}catch(r){this.asyncThrow_(r)}}}this.batch_=null};d.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var g=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var d=this.createResolveAndReject_();try{b(d.resolve,d.reject)}catch(m){d.reject(m)}};g.prototype.createResolveAndReject_=
function(){function b(b){return function(p){f||(f=!0,b.call(d,p))}}var d=this,f=!1;return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};g.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof g)this.settleSameAsPromise_(b);else{a:switch(typeof b){case "object":var d=null!=b;break a;case "function":d=!0;break a;default:d=!1}d?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};g.prototype.resolveToNonPromiseObj_=function(b){var d=
void 0;try{d=b.then}catch(m){this.reject_(m);return}"function"==typeof d?this.settleSameAsThenable_(d,b):this.fulfill_(b)};g.prototype.reject_=function(b){this.settle_(2,b)};g.prototype.fulfill_=function(b){this.settle_(1,b)};g.prototype.settle_=function(b,d){if(0!=this.state_)throw Error("Cannot settle("+b+", "+d|"): Promise already settled in state"+this.state_);this.state_=b;this.result_=d;this.executeOnSettledCallbacks_()};g.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=
this.onSettledCallbacks_,d=0;d<b.length;++d)b[d].call(),b[d]=null;this.onSettledCallbacks_=null}};var v=new d;g.prototype.settleSameAsPromise_=function(b){var d=this.createResolveAndReject_();b.callWhenSettled_(d.resolve,d.reject)};g.prototype.settleSameAsThenable_=function(b,d){var f=this.createResolveAndReject_();try{b.call(d,f.resolve,f.reject)}catch(r){f.reject(r)}};g.prototype.then=function(b,d){function f(b,d){return"function"==typeof b?function(d){try{k(b(d))}catch(F){p(F)}}:d}var k,p,u=new g(function(b,
d){k=b;p=d});this.callWhenSettled_(f(b,k),f(d,p));return u};g.prototype.catch=function(b){return this.then(void 0,b)};g.prototype.callWhenSettled_=function(b,d){function f(){switch(g.state_){case 1:b(g.result_);break;case 2:d(g.result_);break;default:throw Error("Unexpected state: "+g.state_);}}var g=this;null==this.onSettledCallbacks_?v.asyncExecute(f):this.onSettledCallbacks_.push(function(){v.asyncExecute(f)})};g.resolve=f;g.reject=function(b){return new g(function(d,f){f(b)})};g.race=function(b){return new g(function(d,
g){for(var k=$jscomp.makeIterator(b),m=k.next();!m.done;m=k.next())f(m.value).callWhenSettled_(d,g)})};g.all=function(b){var d=$jscomp.makeIterator(b),k=d.next();return k.done?f([]):new g(function(b,g){function m(d){return function(f){p[d]=f;r--;0==r&&b(p)}}var p=[],r=0;do p.push(void 0),r++,f(k.value).callWhenSettled_(m(p.length-1),g),k=d.next();while(!k.done)})};return g},"es6","es3");$jscomp.owns=function(b,d){return Object.prototype.hasOwnProperty.call(b,d)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,d){for(var f=1;f<arguments.length;f++){var k=arguments[f];if(k)for(var g in k)$jscomp.owns(k,g)&&(b[g]=k[g])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
$jscomp.iteratorFromArray=function(b,d){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var f=0,k={next:function(){if(f<b.length){var g=f++;return{value:d(g,b[g]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.polyfill("Number.isNaN",function(b){return b?b:function(b){return"number"===typeof b&&isNaN(b)}},"es6","es3");
(function(b,d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define(d):b.Radi=d()})(this,function(){function b(a){return a.charAt(0).toUpperCase()+a.substr(1)}function d(a){return a.reduce(function(a,e){return a.concat(Array.isArray(e)?d(e):e)},[])}function f(a,c,e){void 0===e&&(e={});return l.CUSTOM_ATTRIBUTES[a]={name:a,caller:c,allowedTags:e.allowedTags||null,addToElement:e.addToElement}}function k(a){w("destroy",a);a.__radiRef=
void 0;if(1===a.nodeType)for(a=a.firstChild;a;)k(a),a=a.nextSibling}function g(a){return"function"===typeof a?a:function(c){return a||c}}function v(a){var c=this,e,h=a.value;void 0===h&&(h=null);var b=a.src,d=a.waitMs,n=a.transform;void 0===n&&(n=function(a){return a});var f=a.error;void 0===f&&(f=function(a){return a});var q=a.placeholder;void 0===q&&(q=H);var K=a.loaded;void 0===K&&(K=!1);this.cached=!0;if(!b||!(b instanceof Promise||"LazyPromise"===b.constructor.name))return console.warn("[Radi] \x3cAwait/\x3e must have `src` as a Promise"),
null;K||(q!==h&&(d?e=setTimeout(function(){c.update(Object.assign({},a,{value:q}))},d):h=q),b.then(function(b){b&&"object"===typeof b&&"function"===typeof b.default&&(b=z(b.default));clearTimeout(e);var h=H;H=q;c.update(Object.assign({},a,{value:g(n)(b),loaded:!0}));H=h}).catch(function(b){console.error(b);clearTimeout(e);c.update(Object.assign({},a,{value:g(f)(b),loaded:!0}))}));return h}function p(a){var c=a.update&&function(){return a.update()}||a;0>L.indexOf(c)&&L.push(c);return c}function ha(a){var c=
ja.push(a)-1;return a.id=c}function m(a,c){void 0===a&&(a=null);void 0===c&&(c="unnamed");var e=a&&a.isRadiAction,b=e?null:a,d=[],G=new A,n=null,f={schema:function(a){n=a;f.setState(b);return f},on:function(a,c){void 0===c&&(c=function(a){return a});B[a.id].push(function(){for(var a=[],e=arguments.length;e--;)a[e]=arguments[e];a=c.apply(void 0,[b].concat(a));return f.setState(a)});return f},get state(){return f.getState()},getState:function(){l.CURRENT_COMPONENT&&G.component(l.CURRENT_COMPONENT);
return b},getRawState:function(){return b},setState:function(a){var c=r(a,n);setTimeout(function(){G.trigger(c,b);L=[]});d.forEach(function(a){a(c,b)});return b=c},subscribe:function(a){G.add(a);a(f.getRawState(),null);d.push(a);return function(){var c=d.indexOf(a);0<=c&&(G.remove(a),d.splice(c,1))}},map:function(a,e){void 0===a&&(a=function(a){return a});void 0===e&&(e="Mapped "+c);var h=m(b,e);f.subscribe(function(c,e){h.setState(a(c,e))});return h},get bind(){return{value:f.listener(),onInput:function(a){return f.setState(a.target.value)}}},
listener:function(a){void 0===a&&(a=function(a){return a});return new x(a,f)}};!1!==c&&ha(f);if(e)f.on(a,function(a,c){return c});return f}function r(a,c){if("function"!==typeof c){if(c&&c.constructor===RegExp)return(new String(a)).valueOf().match(c);if(c instanceof Array){var e=r(a,Array),b=c[0];return b?e.map(function(a){return r(a,b)}):e}if(c&&c instanceof Object){var d={};Object.keys(c).forEach(function(e){d[e]=r((a||{})[e]||null,(c||{})[e]||null)});return d}return Number.isNaN(c)||void 0===c||
null===c?a:c}return a instanceof c?a:a?(new c(a)).valueOf():(new c).valueOf()}function V(a){l.CURRENT_ACTION+=1;var c=[],e=l.CURRENT_ACTION,b="idle",d=function(a){return Promise.resolve(a)};B[e]=[];var f=u(a+" done"),n=u(a+" fail"),g=function(){for(var a=[],h=arguments.length;h--;)a[h]=arguments[h];b="loading";B[e].forEach(function(c){c.apply(void 0,a)});c.forEach(function(c){c({params:a})});d.apply(void 0,a).then(function(e){b="done";var h={result:e,params:a};f(h);c.forEach(function(a){return a(h)})}).catch(function(e){b=
"fail";var h={error:e,params:a};n(h);c.forEach(function(a){return a(h)})})};Object.defineProperties(g,{name:{value:a},id:{value:e},use:{value:function(a){d=a;return g}},done:{value:f},fail:{value:n},status:{get:function(){return b}},statusChange:{get:function(){return m(b).on(g,function(){return b}).on(f,function(){return b}).on(n,function(){return b})}},subscribe:{value:function(a){c.push(a);return function(){var e=c.indexOf(a);0<=e&&c.splice(e,1)}}}});return g}function u(a){l.CURRENT_ACTION+=1;
var c=[],e=l.CURRENT_ACTION;B[e]=[];var b=function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];B[e].forEach(function(c){c.apply(void 0,a)});c.forEach(function(c){c.apply(void 0,a)})};Object.defineProperties(b,{isRadiAction:{value:!0},name:{value:a},id:{value:e},effect:{value:function(c){return V(a).use(c)}},subscribe:{value:function(a){c.push(a);return function(){var e=c.indexOf(a);0<=e&&c.splice(e,1)}}}});return b}function W(a){return Array.isArray(a)?a.map(function(a){return a.value}):
a.value}function ia(a,c){return Array.isArray(a)?[].reduce.call(c,function(a,c){return c.touched&&!0||a},!1):a.touched}function J(a,c,e){var b=X(a,function(a,c){return{touched:a.touched,value:c}}),d=Object.keys(b).reduce(function(a,c){var e;return Object.assign({},a,(e={},e[c]=W(b[c]),e))},{}),f=[],n;for(n in b){var g=b[n];if("function"===typeof c[n]){var k=c[n](W(g),d);k=k&&"function"===typeof k.check&&k.check()||k||n+" field is invalid";!0!==k&&f.push({field:n,touched:!!ia(g,a[n]),error:k})}}e(f)}
function F(a){return Array.isArray(a)?a.reduce(function(a,e){return F(e)||a},!1):a&&a.loading&&a.loading.state}function M(a,c){a=d([y(a)]);var e=C(a,c);e.forEach(function(a){c.appendChild(a);w("mount",a)});return{nodes:a,dom:e}}function w(a,c,e){void 0===e&&(e=c);var b=document.createEvent("Event");b.initEvent(a,!1,!0);"function"===typeof c.dispatchEvent&&c.dispatchEvent(b,e);return c}function N(a,c,e){e||(e=c.parentNode);if(a instanceof Node){if(null===c||void 0===c)return e.insertBefore(a,c);if(c instanceof
Node)return e.insertBefore(a,c.nextSibling)}return a}function C(a,c){if(Array.isArray(a))return a.map(function(a){return C(a,c)});if(a.type===t.TEXT)return document.createTextNode(a.query);if(a.type===t.NODE){var e="svg"===a.query||c instanceof SVGElement?document.createElementNS("http://www.w3.org/2000/svg",a.query):document.createElement(a.query);M(a.children,e);ka(e,a.props);return e}if(a.type===t.COMPONENT){a.pointer||(a.pointer=document.createTextNode(""),a.pointer.__radiPoint=a);a.source=new D(a);
var b;a.pointer.addEventListener("mount",function(c){a.update();"string"===typeof a.source.style&&(b=document.createElement("style"),b.innerHTML=a.source.style,document.head.appendChild(b));a.source.trigger("mount",c);a.mounted=!0},{passive:!0,once:!0},!1);a.pointer.addEventListener("destroy",function(c){a.source.trigger("destroy",c);b instanceof Node&&document.head.removeChild(b);a.mounted=!1},{passive:!0,once:!0},!1);return a.pointer}return document.createTextNode(a.toString())}function O(a,c){return a instanceof
x?c(a.getValue(function(e){return c(a.map(e))})):c(a)}function la(a,c,e){e?(a.setAttribute(c,e),a[c]=!0):a[c]=!1}function Y(a,c,e){if("undefined"!==typeof l.CUSTOM_ATTRIBUTES[c]){var b=l.CUSTOM_ATTRIBUTES[c],d=b.allowedTags,f=b.addToElement;b=b.caller;if(!d||d&&0<d.length&&0<=d.indexOf(a.localName))if("function"===typeof b&&(e=b(a,e)),!f)return}"model"===c?c="value":("class"===c||"className"===c)&&Array.isArray(e)&&(e=e.filter(function(a){return a&&"function"!==typeof a}).join(" "));"style"===c&&
"string"!==typeof e?ma(a,e):/^on/.test(c)?na(a,c,e):"className"===c?a.setAttribute("class",e):"boolean"===typeof e?la(a,c,e):("value"===c&&document.activeElement!==a&&(a[c]=e),a.setAttribute(c,e))}function ma(a,c){Object.keys(c).forEach(function(e){O(c[e],function(c){a.style[e]=c})})}function ka(a,c){Object.keys(c||{}).forEach(function(e){O(c[e],function(c){Y(a,e,c)})})}function oa(a,c,e){void 0===e&&(e={});var b=Object.assign({},c,e);"undefined"!==typeof a.__radiHandlers&&(a.__radiHandlers.forEach(function(c){a.removeEventListener.apply(a,
c)}),a.__radiHandlers=[]);Object.keys(b).forEach(function(b){O(c[b],function(c){"model"===b&&(b="value");var h=b,d=e[b];"undefined"===typeof c||!1===c||null===c?/^on/.test(h)||("className"===h?a.removeAttribute("class"):"boolean"===typeof d?(a.removeAttribute(h),a[h]=!1):a.removeAttribute(h)):d&&c===d||Y(a,h,c)})})}function na(a,c,b){var e=["mount","destroy"];if(/^on/.test(c)){"undefined"===typeof a.__radiHandlers&&(a.__radiHandlers=[]);var d=[c.replace(/^on/,"").toLowerCase(),function(d){0<=e.indexOf(c)?
a===d.target&&b(d):"function"===typeof b&&b(d)}];a.__radiHandlers.push(d);a.addEventListener(d[0],d[1],!1)}}function pa(a){return[].reduce.call(a,function(a,b){var c;return Object.assign({},a,(c={},c[b.name]=b.value,c))},{})}function qa(a){var c=Array.prototype.filter.call(a.childNodes,function(a){return"undefined"!==typeof a.__radiPoint}).reduce(function(a,c){return a.concat(c.__radiPoint.dom)},[]);return Array.prototype.filter.call(a.childNodes,function(a){return 0>c.indexOf(a)})}function P(a,c,
b,d){var e;if(c){if(a){if(a.type===t.NODE){var h=qa(c);if(c.nodeName===a.query.toUpperCase()){b=pa(c.attributes);if(h||a.children)for(e=Math.max(h.length,a.children.length)-1;0<=e;e--)P(a.children[e],h[e],c);oa(c,a.props,b);h=a;e=w("patch",c);return{newDom:e,newStucture:h,last:d}}}if(a.type===t.TEXT&&3===c.nodeType&&!c.__radiPoint)return c.textContent!==a.query&&(c.textContent=a.query),{newDom:c,newStucture:a,last:d};if(a.type===t.COMPONENT&&(c&&c.__radiPoint&&a.query.name===c.__radiPoint.query.name&&
!0===c.__radiPoint.source.cached&&(l.USE_CACHE=!0,a.pointer=c.__radiPoint.pointer,a.dom=c.__radiPoint.dom),c.__radiPoint&&c.__radiPoint.query===a.query))return c.__radiPoint.update(a.props,a.children),h=c.__radiPoint,{newDom:c,newStucture:h,last:d};d=e=w("mount",N(C(h=a),c,b));d.__radiPoint&&d.__radiPoint&&d.__radiPoint.dom&&(d=d.__radiPoint.dom[d.__radiPoint.dom.length-1])}I(c)}else d=e=w("mount",N(C(h=a),d,b));return{newDom:e,newStucture:h,last:d}}function Z(a,c){var b=this;void 0===a&&(a=this.props);
void 0===c&&(c=this.children);var h=Object.assign({},this.props);a&&(this.props=a);c&&(this.children=c);if(this.source&&"function"===typeof this.source.shouldUpdate&&!this.source.shouldUpdate(a,h))return this.dom;a=d([y(this.query.call(this.source,Object.assign({},this.props,{children:this.children})))]);if(!this.dom)return this.dom=C(this.domStructure=a).reverse().map(function(a){return w("mount",N(a,b.pointer))}).reverse();if(l.USE_CACHE)return l.USE_CACHE=!1,this.dom;c=document.activeElement;h=
window.scrollY;if(null===this.pointer.parentNode)return this.dom;for(var f=Math.max(this.dom.length,a.length),g=this.pointer,n=[],k=[],q=0;q<=f-1;q++){var m=P(a[q],this.dom[q],this.pointer.parentNode,g);m.last&&(g=m.last);m.newDom&&(n[q]=m.newDom);m.newStucture&&(k[q]=m.newStucture)}c.focus();window.scrollTo(0,h);this.domStructure=k;return this.dom=n}function aa(a){return function(){for(var c=[],b=arguments.length;b--;)c[b]=arguments[b];b=l.CURRENT_COMPONENT;l.CURRENT_COMPONENT=a;c=Z.call.apply(Z,
[a].concat(c));l.CURRENT_COMPONENT=b;return c}}function y(a){if(Array.isArray(a))return d(a).map(y);if("function"===typeof a)return y(a());if(a instanceof Promise||a&&"LazyPromise"===a.constructor.name)return y({query:v,props:{src:a},children:[]});if(a instanceof x){var c={query:a.update,type:t.COMPONENT,props:{},children:[],pointer:null,dom:null};c.update=aa(c);a.link(function(){return null!==c.dom&&c.update()});return c}return a&&"number"===typeof a.type?a:a&&"object"===typeof a&&"undefined"!==
typeof a.query&&"undefined"!==typeof a.props&&"undefined"!==typeof a.children?"function"===typeof a.query?(a=Object.assign({},a,{type:t.COMPONENT,pointer:null,dom:null}),a.update=aa(a),a):Object.assign({},a,{type:t.NODE,children:y(d(a.children))}):a||"string"===typeof a||"number"===typeof a?{query:a.toString(),type:t.TEXT}:{query:"",type:t.TEXT}}function z(a,c){for(var b=[],h=arguments.length-2;0<h--;)b[h]=arguments[h+2];h="number"===typeof a?""+a:a;var f=c||{};b=d(b);if(h instanceof Promise||h&&
"LazyPromise"===h.constructor.name)h=v,f={src:a};return{query:h,props:f,children:b}}function ra(a,c){return"function"===typeof a.beforedestroy?a.beforedestroy(c):c()}function I(a){d([a]).forEach(function(a){if(a instanceof Node){a.__radiPoint&&a.__radiPoint.dom&&0<a.__radiPoint.dom.length&&a.__radiPoint.dom.forEach(I);var c=a.parentNode;a instanceof Node&&c instanceof Node&&ra(a,function(){k(a);c.removeChild(a)})}})}var l={VERSION:"0.5.0",CURRENT_COMPONENT:null,CURRENT_ACTION:0,CUSTOM_ATTRIBUTES:{},
SERVICES:{},USE_CACHE:!1},ba=function(a){return!["checkbox","radio"].includes(a.type)||a.checked},sa=function(a){return[].reduce.call(a,function(a,b){return b.selected?a.concat(b.value):a},[])},X=function(a,c){void 0===c&&(c=function(a,c){return c});return[].reduce.call(a,function(a,b){b.name&&(b.value||""===b.value)&&("checkbox"===b.type?("undefined"===typeof a[b.name]&&(a[b.name]=[]),ba(b)&&(a[b.name]=a[b.name].concat(c(b,b.value)))):ba(b)&&(a[b.name]=b.options&&b.multiple?c(b,sa(b)):c(b,b.value)));
return a},{})},D=function(a){this.type=a.type;this.name=a.type.name;this.pointer=a.pointer;this.update=a.update;this.__$events={}};D.prototype.on=function(a,c){var e=this.__$events;a="on"+b(a);e[a]||(e[a]=[]);e[a].push(c);return c};D.prototype.trigger=function(a){for(var c=[],e=arguments.length-1;0<e--;)c[e]=arguments[e+1];e="on"+b(a);(this.__$events[e]||[]).map(function(a){return a.apply(void 0,c)});"function"===typeof this[e]&&this[e].apply(this,c)};var E=function(){};E.prototype.add=function(a,
c){for(var b=[],d=arguments.length-2;0<d--;)b[d]=arguments[d+2];if("string"!==typeof a)throw Error("[Radi.js] Service first argument has to be string");if("undefined"!==typeof this[a]||"undefined"!==typeof D.prototype[a])throw Error('[Radi.js] Service "'+a+'" is already in use');if("function"!==typeof c)throw Error("[Radi.js] Service second argument has to be function");b=c.apply(void 0,b);this[a]=b;D.prototype[a]=b;return l.SERVICES[a]=b};E=new E;var H,ca=function(a,c,b,d){b=b[c];return"function"!==
typeof b?(console.warn("[Radi.js] Animation `"+c+"` for node `"+a.nodeName.toLowerCase+"` should be function"),null):b(a,d)};f("animation",function(a,c){a.addEventListener("mount",function(){ca(a,"in",c,function(){})});a.beforedestroy=function(b){return ca(a,"out",c,b)}});f("html",function(a,c){a.escape?a.textContent=c:a.innerHTML=c});f("loadfocus",function(a){a.addEventListener("mount",function(){return setTimeout(function(){return a.focus()},0)})});f("onsubmit",function(a,c){return function(b){a.prevent&&
b.preventDefault();c(b,X(a.elements||{}))}},{allowedTags:["form"],addToElement:!0});var L=[],A=function(){this.dependencies=[]};A.prototype.add=function(a){this.dependencies=this.dependencies.filter(function(a){return!l.CURRENT_COMPONENT||a!==l.CURRENT_COMPONENT.query&&a.query!==l.CURRENT_COMPONENT.query?a.pointer instanceof Node?a.mounted?!0:a.pointer.isConnected:!0:!0});0>this.dependencies.indexOf(a)&&this.dependencies.push(a)};A.prototype.remove=function(a){a=this.dependencies.indexOf(a);0<=a&&
this.dependencies.splice(a,1)};A.prototype.component=function(a){var c=this;a&&(this.add(a),a.__onDestroy=function(){c.remove(a)});return a};A.prototype.trigger=function(a,c){this.dependencies.forEach(function(b){return p(b)(a,c)})};var x=function(a,c){this.map=a;this.getValue=this.getValue.bind(this);this.update=this.update.bind(this);this.store=c};x.prototype.link=function(a){this.subbed||(this.subbed=this.store.subscribe(a));return this.subbed};x.prototype.getValue=function(a){var c=this.store.getRawState();
this.subbed||(this.subbed=this.store.subscribe(a));return this.cached=this.map(c)};x.prototype.update=function(){var a=this.store.getRawState();return this.cached=this.map(a)};var ja=[],B={},da=u("Set Errors"),Q=m({},null).on(da,function(a,c,b){var e;return Object.assign({},a,(e={},e[c]=b,e))}),ta=0,ea={};f("onvalidate",function(a,c){function b(a){var c=Q.getRawState()[d]||[];JSON.stringify(a)!==JSON.stringify(c)&&da(d,a)}var d=a.getAttribute("name")||"defaultForm"+ta++,f;"function"===typeof c&&(ea[d]=
c);Q.subscribe(function(a){f&&(f.disabled=0<a[d].length)});c=function(c){var e=ea[d];if("function"===typeof e){var h=e(c),g=a.elements;if(h&&"object"===typeof h&&g){c=$jscomp.makeIterator(g);for(e=c.next();!e.done;e=c.next()){e=e.value;var k=e.name;if(!e.__radiValidate&&"string"===typeof k&&"function"===typeof h[k]){e.addEventListener("input",function(){J(g,h,b)});e.__radiValidate=!0;e.touched=!1;var l=function(a){a=a.target;a.touched=!0;a.removeEventListener("change",l);J(g,h,b)};e.addEventListener("change",
l)}"submit"===e.type&&!0===e.disabled&&(f=e)}J(g,h,b)}}};a.addEventListener("patch",c);a.addEventListener("mount",c,!1)},{allowedTags:["form"]});var R=z,fa=u("Register Modal"),S=u("Switch Modal"),T=m({},null).on(fa,function(a,c){var b;return Object.assign({},a,(b={},b[c]=!1,b))}).on(S,function(a,c,b){var e;return Object.assign({},a,(e={},e[c]=b,e))}),ua=E.add("Modal",function(){return{open:function(a){return S(a,!0)},close:function(a){return S(a,!1)},onOpen:function(a,c){return T.subscribe(function(b,
d){return!0===b[a]&&b[a]!==d[a]&&c()})},onClose:function(a,c){return T.subscribe(function(b,d){return!1===b[a]&&b[a]!==d[a]&&c()})}}}),t={NODE:0,TEXT:1,COMPONENT:2},U={v:l.VERSION,version:l.VERSION,h:z,html:z,customAttribute:f,destroy:I,patch:P,mount:M,Service:E,onDestroy:function(a){var c=l.CURRENT_COMPONENT;c&&c.source&&(c.source.onDestroy=a);return a},onMount:function(a){var c=l.CURRENT_COMPONENT;c&&c.source&&(c.source.onMount=a);return a},shouldUpdate:function(a){var c=l.CURRENT_COMPONENT;c&&
c.source&&(c.source.shouldUpdate=a);return a},Action:u,Effect:V,Event:function(a,c){function b(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return f.apply(void 0,a)}void 0===c&&(c=window);var d=[],f=u(a);Object.defineProperties(f,{on:{value:function(a){a.split(" ").forEach(function(a){c.addEventListener(a,b,!1);d.push(a)});return f}},off:{value:function(a){a.split(" ").forEach(function(a){0<=d.indexOf(a)&&(c.removeEventListener(a,b,!1),d.splice(a))});return f}}});return f},Listen:function(a,
b){return function(c){void 0===c&&(c=b);return a.listener(c)}},Merge:function(a,b){void 0===b&&(b="Unnnamed Map");a=[].concat(a);var c=a.map(function(a){return a.getRawState()}),d=m(c,b);a.forEach(function(a,b){return a.subscribe(function(a){c[b]=a;d.setState(c)})});return d},Store:m,Watch:function(a){return a.state},Await:v,Errors:function(a){var b=a.name;a=a.onrender;void 0===a&&(a=function(a){return a});var e=Q.state;"undefined"===typeof b&&console.warn("[Radi.js] Warn: Every \x3cerrors\x3e tag needs to have `name` attribute!");
"function"!==typeof a&&console.warn("[Radi.js] Warn: Every \x3cerrors\x3e tag needs to have `onrender` attribute!");return e[b]?a(e[b]):null},Modal:function(a){var b=a.name;void 0===b&&(b="default");a=a.children;var e=T.state;"undefined"===typeof b&&console.warn("[Radi.js] Warn: Every \x3cmodal\x3e tag needs to have `name` attribute!");this.onMount=function(){e[b]||fa(b)};return e[b]&&R("div",{class:"radi-modal",name:b},R("div",{class:"radi-modal-backdrop",onclick:function(){return ua.close(b)}}),
R.apply(void 0,["div",{class:"radi-modal-content"}].concat(a.slice())))},Portal:function(a){var b=a.children,e=a.parent;void 0===e&&(e=a.on||document.body);this.pointer&&this.pointer.__radiUpdateChild&&this.pointer.__radiUpdateChild(void 0,b);this.onMount=function(a){M(z(function(c){var e=this;this.onMount=function(b){a.target.__radiUpdateChild=e.update;a.target.__radiPoint.dom[0].__radiRef=b.target.__radiPoint};return 0<c.children.length?c.children:b}),e)};this.onDestroy=function(a){I(a.target.__radiPoint.dom[0].__radiRef.dom)};
return null},Loading:function(a){var b=a.src,e=a.children,d=a.placeholder;void 0===d&&(d=e);a=a.isLoading;void 0===a&&(a=F(b));return b?a?d:e:e},plugin:function(a){for(var b=[],d=arguments.length-1;0<d--;)b[d]=arguments[d+1];return a.apply(void 0,[U].concat(b))}};"undefined"!==typeof window&&(window.Radi=U);return U});
