var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,f){b!=Array.prototype&&b!=Object.prototype&&(b[d]=f.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var d=0;return $jscomp.iteratorPrototype(function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();var d=b[Symbol.iterator];return d?d.call(b):$jscomp.arrayIterator(b)};
$jscomp.polyfill=function(b,d,f,h){if(d){f=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var g=b[h];g in f||(f[g]={});f=f[g]}b=b[b.length-1];h=f[b];d=d(h);d!=h&&null!=d&&$jscomp.defineProperty(f,b,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Object.is",function(b){return b?b:function(b,f){return b===f?0!==b||1/b===1/f:b!==b&&f!==f}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,f){var d=this;d instanceof String&&(d=String(d));var g=d.length;for(f=f||0;f<g;f++)if(d[f]==b||Object.is(d[f],b))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,d,f){if(null==b)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,f){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,f||0)}},"es6","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(b){function d(){this.batch_=null}function f(b){return b instanceof g?b:new g(function(l,d){l(b)})}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;d.prototype.asyncExecute=function(b){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(b);return this};d.prototype.asyncExecuteBatch_=function(){var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})};var h=$jscomp.global.setTimeout;d.prototype.asyncExecuteFunction=function(b){h(b,
0)};d.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=this.batch_;this.batch_=[];for(var d=0;d<b.length;++d){var f=b[d];delete b[d];try{f()}catch(x){this.asyncThrow_(x)}}}this.batch_=null};d.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var g=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var d=this.createResolveAndReject_();try{b(d.resolve,d.reject)}catch(w){d.reject(w)}};g.prototype.createResolveAndReject_=
function(){function b(b){return function(l){f||(f=!0,b.call(d,l))}}var d=this,f=!1;return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};g.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof g)this.settleSameAsPromise_(b);else{a:switch(typeof b){case "object":var d=null!=b;break a;case "function":d=!0;break a;default:d=!1}d?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};g.prototype.resolveToNonPromiseObj_=function(b){var d=
void 0;try{d=b.then}catch(w){this.reject_(w);return}"function"==typeof d?this.settleSameAsThenable_(d,b):this.fulfill_(b)};g.prototype.reject_=function(b){this.settle_(2,b)};g.prototype.fulfill_=function(b){this.settle_(1,b)};g.prototype.settle_=function(b,d){if(0!=this.state_)throw Error("Cannot settle("+b+", "+d|"): Promise already settled in state"+this.state_);this.state_=b;this.result_=d;this.executeOnSettledCallbacks_()};g.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=
this.onSettledCallbacks_,d=0;d<b.length;++d)b[d].call(),b[d]=null;this.onSettledCallbacks_=null}};var m=new d;g.prototype.settleSameAsPromise_=function(b){var d=this.createResolveAndReject_();b.callWhenSettled_(d.resolve,d.reject)};g.prototype.settleSameAsThenable_=function(b,d){var f=this.createResolveAndReject_();try{b.call(d,f.resolve,f.reject)}catch(x){f.reject(x)}};g.prototype.then=function(b,d){function f(b,d){return"function"==typeof b?function(d){try{h(b(d))}catch(A){l(A)}}:d}var h,l,v=new g(function(b,
d){h=b;l=d});this.callWhenSettled_(f(b,h),f(d,l));return v};g.prototype.catch=function(b){return this.then(void 0,b)};g.prototype.callWhenSettled_=function(b,d){function f(){switch(g.state_){case 1:b(g.result_);break;case 2:d(g.result_);break;default:throw Error("Unexpected state: "+g.state_);}}var g=this;null==this.onSettledCallbacks_?m.asyncExecute(f):this.onSettledCallbacks_.push(function(){m.asyncExecute(f)})};g.resolve=f;g.reject=function(b){return new g(function(d,f){f(b)})};g.race=function(b){return new g(function(d,
g){for(var h=$jscomp.makeIterator(b),l=h.next();!l.done;l=h.next())f(l.value).callWhenSettled_(d,g)})};g.all=function(b){var d=$jscomp.makeIterator(b),h=d.next();return h.done?f([]):new g(function(b,g){function l(d){return function(f){m[d]=f;r--;0==r&&b(m)}}var m=[],r=0;do m.push(void 0),r++,f(h.value).callWhenSettled_(l(m.length-1),g),h=d.next();while(!h.done)})};return g},"es6","es3");$jscomp.owns=function(b,d){return Object.prototype.hasOwnProperty.call(b,d)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,d){for(var f=1;f<arguments.length;f++){var h=arguments[f];if(h)for(var g in h)$jscomp.owns(h,g)&&(b[g]=h[g])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
$jscomp.iteratorFromArray=function(b,d){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var f=0,h={next:function(){if(f<b.length){var g=f++;return{value:d(g,b[g]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
(function(b,d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define(d):b.Radi=d()})(this,function(){function b(a,c,e){void 0===e&&(e={});return q.CUSTOM_ATTRIBUTES[a]={name:a,caller:c,allowedTags:e.allowedTags||null,addToElement:e.addToElement}}function d(a,c){return q.CUSTOM_TAGS[a]={name:a,render:c||function(){}}}function f(a){h("destroy",a);a.__radiRef=void 0;if(1===a.nodeType)for(a=a.firstChild;a;)f(a),a=a.nextSibling}function h(a,
c){var e=document.createEvent("Event");e.initEvent(a,!0,!0);"function"===typeof c.dispatchEvent&&(c._eventFired=!0,c.dispatchEvent(e));return c}function g(a){return a.charAt(0).toUpperCase()+a.substr(1)}function m(a){return a.reduce(function(a,e){return a.concat(Array.isArray(e)?m(e):e)},[])}function l(a,c){for(var e=[],b=arguments.length-2;0<b--;)e[b]=arguments[b+2];b="number"===typeof a?""+a:a;var d=c||{};e=m(e);if(b instanceof Promise||b&&"LazyPromise"===b.constructor.name)b="await",d={src:a};
"undefined"!==typeof q.CUSTOM_TAGS[b]&&(b=q.CUSTOM_TAGS[b].render);return{type:b,props:d,children:e}}function v(a,c,e){var b=m([a]);return m([b]).map(function(a){a=t(a,c);if(Array.isArray(a))return v(a,c,e);if(e&&e.parentNode){a:{var k=e,d=e.parentNode;d||(d=k.parentNode);if(a instanceof Node){if(null===k||void 0===k){e=d.insertBefore(a,k);break a}if(k instanceof Node){e=d.insertBefore(a,k.nextSibling);break a}}e=a}h("mount",e);return e}if(!c)return console.log("[Radi] Mount canceled"),b;k=c.appendChild(a);
h("mount",a);return k})}function w(a,c){return function(e,b){if(a[0]===e)return!1;e!==b&&(a[0]=e,c.dispatch(function(){return e}));return!0}}function x(a,c){var e=this;void 0===c&&(c=[]);if(!a)return a;if(this&&a&&"function"===typeof a.subscribe){var b=[];0<c.length?a.subscribe(function(a,k){if(b[0]===a)return!1;a!==k&&(e.dispatch(function(){return e.setPartial(c,a)}),b[0]=a);return!0}):(this.subscribe(w(b,a)),a.subscribe(w(b,this)));return a.get()}if(a&&"object"===typeof a){var d=Array.isArray(a)?
Array(a.length):{},f;for(f in a)a.hasOwnProperty(f)&&(d[f]=x.call(e,a[f],c.concat(f)));return d}return a}function P(){var a=this;this.dependencies={};this.add=function(c,e){c=c[0];"undefined"===typeof a.dependencies[c]&&(a.dependencies[c]=[]);0>a.dependencies[c].indexOf(e)&&a.dependencies[c].push(e)};this.remove=function(c,e){c=c[0];e=(a.dependencies[c]||[]).indexOf(e);0<=e&&a.dependencies[c].splice(e,1)};this.fn=function(a){return function(c){return a(c)}};this.trigger=function(c,e,b){a.dependencies[c]&&
a.dependencies[c].forEach(function(a){a=a.update||a;0>B.indexOf(a)&&B.push(a);return a(e,b)})}}function F(a,c){for(var e=0;e<a.length;)"undefined"===typeof c?e++:c=c[a[e++]];return c}function Q(a,c,e,b,d,f){void 0===f&&(f="");var k=a.setPartial(e,b);d?a.update(k):(c=function(){return k},Object.defineProperty(c,"name",{value:f,writable:!1}),a.dispatch(c))}function r(a){var c=this;void 0===a&&(a={});var e=Object.assign({},a),b=function(a){return new y(a,b,d)},d=new P,f=G,g;b.getInitial=function(){return R};
b.get=function(a){var c=f(e);return a?F("string"===typeof a?a.split("."):a,c):c};b.setPartial=function(a,b){var d=Array.isArray(e)?[]:{};if(a.length){d[a[0]]=1<a.length?c.setPartial(a.slice(1),b,e[a[0]]):b;a=e;b=Array.isArray(a)?[]:{};for(var k in a)b[k]=a[k];for(var f in d)b[f]=d[f]}return b};b.bind=function(a,c,e){void 0===c&&(c=function(a){return a});void 0===e&&(e=function(a){return a});var d=Array.isArray(a)?a:a.split(".");return{model:b(function(a){return c(F(d,a))}),oninput:function(c){c=c.target.value;
return Q(b,b.get(),d,e(c),!1,"Bind:"+a)}}};b.update=function(a){var c=Object.keys(a||{});e=Object.assign({},e,a);var k=b.get();if(f!==G)for(var n in k)k.hasOwnProperty(n)&&(!g||g&&g[n]!==k[n]&&0>c.indexOf(n))&&c.push(n);d.trigger("*",k,g);c.forEach(function(a){return d.trigger(a,k,g)});g=k;B=[];return e};b.dispatch=function(a){for(var c=[],d=arguments.length-1;0<d--;)c[d]=arguments[d+1];c=a.apply(void 0,[e].concat(c));return b.update(c)};b.willDispatch=function(a){for(var c=[],e=arguments.length-
1;0<e--;)c[e]=arguments[e+1];return function(){for(var e=[],d=arguments.length;d--;)e[d]=arguments[d];return b.dispatch.apply(b,[a].concat(c,e))}};b.subscribe=function(a){d.add("*",a);a(b.get(),null);return b};b.unsubscribe=function(a){d.remove("*",a)};b.map=function(a){var c=f;f=function(){for(var b=[],e=arguments.length;e--;)b[e]=arguments[e];return a(c.apply(void 0,b))};return b};var R=x.call(b,a);return b}function t(a,c){if(Array.isArray(a))return a=a.map(t),0===a.length?t([null],c):a;if(a&&"function"===
typeof a.type){var b=new u(a.type,a.props,a.children),d=b.render(a.props,a.children,c),f;d&&"function"===typeof d.addEventListener&&(d.addEventListener("mount",function(){"string"===typeof b.style&&(f=document.createElement("style"),f.innerHTML=b.style,document.head.appendChild(f));b.trigger("mount",d)},{passive:!0,once:!0},!1),d.addEventListener("destroy",function(){b.trigger("destroy",d);f instanceof Node&&document.head.removeChild(f)},{passive:!0,once:!0},!1));d instanceof Node&&(d.__radiRef=function(a,
c){return c&&Array.isArray(b.dom)?b.dom[c]=a:b.dom=a});return d}if(a instanceof Node)return a;if(a instanceof y)return a.render();if(a instanceof Promise)return t({type:"await",props:{src:a},children:[]},c);if("function"===typeof a)return t(a(),c);if(-1<["string","number"].indexOf(typeof a))return document.createTextNode(a);if(!a)return document.createComment("");var g="svg"===a.type||c instanceof SVGElement?document.createElementNS("http://www.w3.org/2000/svg",a.type):document.createElement(a.type);
S(g,a.props);a.children&&m(a.children||[]).forEach(function(a){a=a instanceof Node?a:t(a,g);v(a,g)});return g}function A(a,c){return"function"===typeof a.beforedestroy?a.beforedestroy(c):c()}function z(a,c,b,d){void 0===b&&(b=c&&c.parentNode);void 0===d&&(d=null);if(Array.isArray(a)||Array.isArray(c)){d=Array.isArray(a)&&0===a.length?[null]:m([a]);var e=m([c]),k=Array.isArray(c)?c[0]&&c[0].__radiRef:c.__radiRef,g=c;a=d.map(function(a,c){var d=g;a=z(a,e[c],e[c]&&e[c].parentNode||b,!e[c]&&d);g=Array.isArray(a)?
a[0]:a;"function"===typeof k&&0<c&&(g.__radiRef=function(a){return k(a,c)});return a});e.length>d.length&&e.slice(d.length-e.length).forEach(function(a){a&&a.parentNode&&a.parentNode.removeChild(a)});"function"===typeof k&&k(a);return a}a=t(a,b);if(!c&&d)return v(a,c,d);c&&b&&(b.insertBefore(a,c),c.__radiRef&&(a.__radiRef=c.__radiRef,a.__radiRef(a)),A(c,function(){b.removeChild(c);f(c)}));return a}function H(a,c){return a instanceof y?c(a.getValue(function(b){return c(a.map(b))})):c(a)}function T(a,
c,b){"style"===c&&"string"!==typeof b?U(a,b):/^on/.test(c)?V(a,c,b):"className"===c?a.setAttribute("class",b):"boolean"===typeof b?b?(a.setAttribute(c,b),a[c]=!0):a[c]=!1:("value"===c&&document.activeElement!==a&&(a[c]=b),a.setAttribute(c,b))}function U(a,c){Object.keys(c).forEach(function(b){H(c[b],function(c){a.style[b]=c})})}function S(a,b){Object.keys(b||{}).forEach(function(c){if("undefined"!==typeof q.CUSTOM_ATTRIBUTES[c]){var e=q.CUSTOM_ATTRIBUTES[c],d=e.allowedTags,f=e.addToElement;e=e.caller;
if(!d||d&&0<d.length&&0<=d.indexOf(a.localName))if("function"===typeof e&&(b[c]=e(a,b[c])),!f)return}H(b[c],function(b){"model"===c?c="value":("class"===c||"className"===c)&&Array.isArray(b)&&(b=b.filter(function(a){return a&&"function"!==typeof a}).join(" "));T(a,c,b)})})}function V(a,b,e){var c=["mount","destroy"];/^on/.test(b)&&a.addEventListener(b.slice(2).toLowerCase(),function(d){0<=c.indexOf(b)?a===d.target&&e(d):"function"===typeof e&&e(d)},!1)}function I(a){return Array.isArray(a)?a.map(function(a){return a.value}):
a.value}function W(a,b){return Array.isArray(a)?[].reduce.call(b,function(a,b){return b.touched&&!0||a},!1):a.touched}function C(a,b,e){var c=J(a,function(a,b){return{touched:a.touched,value:b}}),d=Object.keys(c).reduce(function(a,b){var e;return Object.assign({},a,(e={},e[b]=I(c[b]),e))},{}),f=[],g;for(g in c){var h=c[g];if("function"===typeof b[g]){var n=b[g](I(h),d);n=n&&"function"===typeof n.check&&n.check()||n||g+" field is invalid";!0!==n&&f.push({field:g,touched:!!W(h,a[g]),error:n})}}e(f)}
function K(a){return"function"===typeof a?a:function(b){return a||b}}var q={VERSION:"0.5.0",CUSTOM_ATTRIBUTES:{},CUSTOM_TAGS:{},SERVICES:{}},L=function(a){return!["checkbox","radio"].includes(a.type)||a.checked},X=function(a){return[].reduce.call(a,function(a,b){return b.selected?a.concat(b.value):a},[])},J=function(a,b){void 0===b&&(b=function(a,b){return b});return[].reduce.call(a,function(a,c){c.name&&(c.value||""===c.value)&&("checkbox"===c.type?("undefined"===typeof a[c.name]&&(a[c.name]=[]),
L(c)&&(a[c.name]=a[c.name].concat(b(c,c.value)))):L(c)&&(a[c.name]=c.options&&c.multiple?b(c,X(c)):b(c,c.value)));return a},{})},B=[],G=function(a){return a},y=function(a,b,e){this.map=a;this.getValue=this.getValue.bind(this);this.render=this.render.bind(this);this.store=b;this.dep=e};y.prototype.getValue=function(a){var b=this.store.get();this.subbed||(this.subbed=this.dep.add("*",a));return this.cached=this.map(b)};y.prototype.render=function(){var a=this;return l(function(){return a.getValue(this)})};
var u=function(a){this.type=a;this.name=a.name;this.render=this.render.bind(this);this.evaluate=this.evaluate.bind(this);this.update=this.update.bind(this);this.__$events={}};u.prototype.on=function(a,b){var c=this.__$events;a="on"+g(a);c[a]||(c[a]=[]);c[a].push(b);return b};u.prototype.trigger=function(a){for(var b=[],e=arguments.length-1;0<e--;)b[e]=arguments[e+1];e="on"+g(a);(this.__$events[e]||[]).map(function(a){return a.apply(void 0,b)});"function"===typeof this[e]&&this[e].apply(this,b)};u.prototype.evaluate=
function(a,b){this.props=a;this.children=b;return this.node=this.type.call(this,Object.assign({},this.props,{children:this.children}))};u.prototype.render=function(a,b,e){return this.dom=t(this.evaluate(a,b),e)};u.prototype.update=function(a,b){void 0===a&&(a=this.props);void 0===b&&(b=this.children);var c=this.dom;return this.dom=z(this.evaluate(a,b),c)};var M=function(){};M.prototype.add=function(a,b){for(var c=[],d=arguments.length-2;0<d--;)c[d]=arguments[d+2];if("string"!==typeof a)throw Error("[Radi.js] Service first argument has to be string");
if("undefined"!==typeof this[a]||"undefined"!==typeof u.prototype[a])throw Error('[Radi.js] Service "'+a+'" is already in use');if("function"!==typeof b)throw Error("[Radi.js] Service second argument has to be function");c=b.apply(void 0,c);u.prototype[a]=this[a]=c;return q.SERVICES[a]=c};var N=function(a,b,d,f){d=d[b];if("function"!==typeof d)console.warn("[Radi.js] Animation `"+b+"` for node `"+a.nodeName.toLowerCase+"` should be function");else return d(a,f)};b("animation",function(a,b){N(a,"in",
b,function(){});a.beforedestroy=function(c){return N(a,"out",b,c)}});b("html",function(a,b){a.addEventListener("mount",function(){a.escape?a.textContent=b:a.innerHTML=b})});b("loadfocus",function(a){a.addEventListener("mount",function(){return a.focus()})});b("onsubmit",function(a,b){return function(c){a.prevent&&c.preventDefault();b(c,J(a.elements||{}))}},{allowedTags:["form"],addToElement:!0});var D=new r({},"errorStore"),Y=function(a,b,d){var c;return Object.assign({},a,(c={},c[b]=d,c))},Z=0;b("onvalidate",
function(a,b){function c(a){D.dispatch(Y,d,a)}var d=a.name||"defaultForm"+Z++,f;D.subscribe(function(a){f&&(f.disabled=0<a[d].length)});a.addEventListener("mount",function(a){var d=b(a),e=a.target.elements;if(d&&"object"===typeof d&&e){a=$jscomp.makeIterator(e);for(var g=a.next();!g.done;g=a.next()){g=g.value;var k=g.name;if(!g.__radiValidate&&"string"===typeof k&&"function"===typeof d[k]){g.addEventListener("input",function(){C(e,d,c)});g.__radiValidate=!0;g.touched=!1;var h=function(a){a=a.target;
a.touched=!0;a.removeEventListener("change",h);C(e,d,c)};g.addEventListener("change",h)}"submit"===g.type&&!0===g.disabled&&(f=g)}C(e,d,c)}},!1)},{allowedTags:["form"]});d("await",function(a){var b=this,d,f=a.src,g=a.waitMs,h=a.transform;void 0===h&&(h=function(a){return a});var l=a.error;void 0===l&&(l=function(a){return a});var m=a.placeholder;void 0===m&&(m="Loading..");var n=a.value;void 0===n&&(n=null);var p=a.loaded;void 0===p&&(p=!1);if(!f||!(f instanceof Promise||"LazyPromise"===f.constructor.name))return console.warn("[Radi] \x3cawait/\x3e must have `src` as a Promise"),
null;p||(m!==n&&(g?d=setTimeout(function(){b.update(Object.assign({},a,{value:m}))},g):n=m),f.then(function(c){clearTimeout(d);b.update(Object.assign({},a,{value:K(h)(c),loaded:!0}))}).catch(function(c){clearTimeout(d);b.update(Object.assign({},a,{value:K(l)(c),loaded:!0}))}));return n});d("errors",function(a){var b=a.name,d=a.onrender;"undefined"===typeof b&&console.warn("[Radi.js] Warn: Every \x3cerrors\x3e tag needs to have `name` attribute!");"function"!==typeof d&&console.warn("[Radi.js] Warn: Every \x3cerrors\x3e tag needs to have `onrender` attribute!");
return D(function(a){return a[b]&&d(a[b])})});var O=new r({}),aa=function(a,b){var c;return c={},c[b]=!1,c};d("modal",function(a){var b=a.name;void 0===b&&(b="default");var d=a.children;"undefined"===typeof b&&console.warn("[Radi.js] Warn: Every \x3cmodal\x3e tag needs to have `name` attribute!");this.onMount=function(a){return O.dispatch(aa,b)};return l("portal",{},O(function(a){return a[b]&&l("div",{class:"radi-modal",name:b},l("div",{class:"radi-modal-backdrop",onclick:function(){return service.modal.close(b)}}),
l.apply(void 0,["div",{class:"radi-modal-content"}].concat(d.slice())))}))});d("portal",function(a){var b,d,f=a.children||[];this.onMount=function(c){v(function(){this.onMount=function(a,c){b=a;d=c};return function(){return f}},a.on||document.body)};this.onDestroy=function(a,c){z(d,null,f,0,b||a)};return null});var p=function(a){this.value=a;this.rules=[]};p.prototype.register=function(a){var b=this,d=a.validate,f=a.error,g=this.rules.push({type:a.type,validate:function(a){return("string"===typeof a||
"number"===typeof a||a)&&d(a)},error:f||"Invalid field"});this.error=function(a){b.rules[g-1].error=a||f;return b};return this};p.prototype.check=function(a){var b=this;"undefined"!==typeof a&&(this.value=a);return this.rules.reduce(function(a,c){return"string"===typeof a?a:!c.validate(b.value)&&c.error||a},!0)};p.prototype.required=function(){return this.register({type:"required",validate:function(a){return""!==a},error:"Field is required"})};p.prototype.test=function(a){return this.register({type:"test",
validate:function(b){return""===b||a.test(b)},error:"Field must be valid"})};p.prototype.includes=function(a){return this.register({type:"includes",validate:function(b){return""===b||Array.isArray(b)&&0<=b.indexOf(a)},error:"Field must include "+a})};p.prototype.excludes=function(a){return this.register({type:"excludes",validate:function(b){return""===b||Array.isArray(b)&&0>b.indexOf(a)},error:"Field must exclude "+a})};p.prototype.equal=function(a){return this.register({type:"equal",validate:function(b){return""===
b||b===a},error:"Field must be equal to "+a})};p.prototype.notEqual=function(a){return this.register({type:"notEqual",validate:function(b){return""===b||b!==a},error:"Field must not be equal to "+a})};p.prototype.min=function(a){return this.register({type:"min",validate:function(b){return b.length>=a},error:"Min char length is "+a})};p.prototype.max=function(a){return this.register({type:"max",validate:function(b){return b.length<a},error:"Max char length is "+a})};p.prototype.email=function(){return this.register({type:"email",
validate:function(a){return""===a||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)},error:"Email is not valid"})};var E={v:q.VERSION,version:q.VERSION,h:l,html:l,Store:r,customTag:d,customAttribute:b,patch:z,mount:v,Service:new M,Subscribe:function(a){void 0===a&&(a=document);return{on:function(b,d){function c(b,c){var k=c||new r(b||{});l=!0;g=b;h=k;e.forEach(function(b){return a.addEventListener(b,f=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return k.dispatch(function(c){return Object.assign({},
c,d.apply(void 0,a.concat([b])))})})});return k}void 0===d&&(d=function(a){return a});var e=b.trim().split(" "),f=null,g=null,h=null,l=!1;if("function"!==typeof d)throw Error("[Radi.js] Subscription `"+b+"` must be transformed by function");c.stop=function(){l&&e.forEach(function(b){return a.removeEventListener(b,f)});return l=!l};c.start=function(){return!l&&c(g,h)};return c}}},Validator:p,plugin:function(a){for(var b=[],d=arguments.length-1;0<d--;)b[d]=arguments[d+1];return a.apply(void 0,[E].concat(b))}};
window&&(window.Radi=E);return E});
