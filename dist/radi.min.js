var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,g){b!=Array.prototype&&b!=Object.prototype&&(b[f]=g.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var f=0;return $jscomp.iteratorPrototype(function(){return f<b.length?{done:!1,value:b[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=b[Symbol.iterator];return f?f.call(b):$jscomp.arrayIterator(b)};$jscomp.arrayFromIterator=function(b){for(var f,g=[];!(f=b.next()).done;)g.push(f.value);return g};$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};
$jscomp.polyfill=function(b,f,g,h){if(f){g=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var l=b[h];l in g||(g[l]={});g=g[l]}b=b[b.length-1];h=g[b];f=f(h);f!=h&&null!=f&&$jscomp.defineProperty(g,b,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Number.isNaN",function(b){return b?b:function(b){return"number"===typeof b&&isNaN(b)}},"es6","es3");
$jscomp.iteratorFromArray=function(b,f){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var g=0,h={next:function(){if(g<b.length){var l=g++;return{value:f(l,b[l]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.owns=function(b,f){return Object.prototype.hasOwnProperty.call(b,f)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,f){for(var g=1;g<arguments.length;g++){var h=arguments[g];if(h)for(var l in h)$jscomp.owns(h,l)&&(b[l]=h[l])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Array.from",function(b){return b?b:function(b,g,h){$jscomp.initSymbolIterator();g=null!=g?g:function(b){return b};var f=[],q=b[Symbol.iterator];if("function"==typeof q)for(b=q.call(b);!(q=b.next()).done;)f.push(g.call(h,q.value));else{q=b.length;for(var n=0;n<q;n++)f.push(g.call(h,b[n]))}return f}},"es6","es3");$jscomp.polyfill("Object.values",function(b){return b?b:function(b){var f=[],h;for(h in b)$jscomp.owns(b,h)&&f.push(b[h]);return f}},"es8","es3");
(function(b,f){"object"===typeof exports&&"undefined"!==typeof module?f():"function"===typeof define&&define.amd?define(f):f()})(this,function(){var b={},f={},g=function(a){if(a instanceof Node){for(var c=document.createTreeWalker(a,NodeFilter.SHOW_ALL,function(a){return!0},!1),d;d=c.nextNode();){if(d.listeners)for(var e=0;e<d.listeners.length;e++)d.listeners[e].deattach();d.listeners=null;if(d.attributeListeners)for(e=0;e<d.styleListeners.length;e++)d.styleListeners[e].deattach();d.attributeListeners=
null;if(d.styleListeners)for(e=0;e<d.styleListeners.length;e++)d.styleListeners[e].deattach();d.styleListeners=null;d.destroy&&d.destroy();d.remove()}if(a.listeners)for(e=0;e<a.listeners.length;e++)a.listeners[e].deattach();a.listeners=null;if(a.attributeListeners)for(e=0;e<a.styleListeners.length;e++)a.styleListeners[e].deattach();a.attributeListeners=null;if(a.styleListeners)for(e=0;e<a.styleListeners.length;e++)a.styleListeners[e].deattach();a.remove()}},h=function(a,c,d){if(Array.isArray(c)||
Array.isArray(a))d=!0;if(!d){d=a.nodeType;var e=c.nodeType;if(d===e&&(3===d||8===e))return a.isEqualNode(c)||(a.nodeValue=c.nodeValue,g(c)),a;if(c.destroy||a.destroy||c.__async||c.__async||a.listeners||c.listeners||3===d||3===e)return a.isEqualNode(c)||(a.parentNode.insertBefore(c,a),g(a)),c;d=a.attributes;for(var b=c.attributes,f,p,k,x=b.length-1;0<=x;--x)p=b[x],k=p.name,e=p.namespaceURI,f=p.value,e?(k=p.localName||k,p=a.getAttributeNS(e,k),p!==f&&a.setAttributeNS(e,k,f)):a.hasAttribute(k)?(p=a.getAttribute(k),
p!==f&&("null"===f||"undefined"===f?a.removeAttribute(k):a.setAttribute(k,f))):a.setAttribute(k,f);for(b=d.length-1;0<=b;--b)p=d[b],!1!==p.specified&&(k=p.name,(e=p.namespaceURI)?(k=p.localName||k,c.hasAttributeNS(e,k)||a.removeAttributeNS(e,k)):c.hasAttributeNS(null,k)||a.removeAttribute(k))}d=[].concat($jscomp.arrayFromIterable(a.childNodes||a));e=[].concat($jscomp.arrayFromIterable(c.childNodes||c));k=Math.max(d.length,e.length);for(b=0;b<k;b++)d[b]&&e[b]?h(d[b],e[b]):d[b]&&!e[b]?g(d[b]):!d[b]&&
e[b]&&a.appendChild(e[b]);g(c);return a},l=function(){};l.prototype.fuse=function(a){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];return h.apply(null,[].concat($jscomp.arrayFromIterable(c)))};l.prototype.destroy=function(a){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];return g.apply(null,[].concat($jscomp.arrayFromIterable(c)))};var q=new l,n=function(a,c){for(var d=[],b=1;b<arguments.length;++b)d[b-1]=arguments[b];this.component=a;this.key=$jscomp.makeIterator(d).next().value;
this.childPath=d.slice(1,d.length);this.path=d;this.value=null;this.changeListeners=[];this.processValue=function(a){return a};this.attatched=!0;this.component.addListener(this.key,this);this.component.state&&this.handleUpdate(this.component.state[this.key])};n.prototype.deattach=function(){this.component=null;this.attatched=!1;this.value=this.path=this.childPath=this.key=null;this.changeListeners=[];this.processValue=function(){}};n.prototype.handleUpdate=function(a){var c=this;this.value instanceof
Node&&(q.destroy(this.value),this.value=null);this.value=this.processValue(this.getShallowValue(a),this.value);this.changeListeners.forEach(function(a){return a(c.value)})};n.prototype.onValueChange=function(a){this.changeListeners.push(a);a(this.value)};n.prototype.process=function(a){this.processValue=a;this.handleUpdate(this.value);return this};n.prototype.getShallowValue=function(a){if("object"!==typeof a||!this.childPath)return a;for(var c=$jscomp.makeIterator(this.childPath),d=c.next();!d.done;d=
c.next())d=d.value,a=null===a||!a[d]&&"number"!==typeof a[d]?null:a[d];return a};var r=function(a){var c=a.listener,d=a.element;this.attributeKey=a.attributeKey;this.listener=c;this.element=d;this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};r.prototype.attach=function(){var a=this;this.element.attributeListeners||(this.element.attributeListeners=[]);this.element.attributeListeners.push(this);this.listener.onValueChange(this.handleValueChange);this.attached=!0;"model"===this.attributeKey&&
(/(checkbox|radio)/.test(this.element.getAttribute("type"))?this.element.onchange=function(c){a.listener.component[a.listener.key]=c.target.checked}:this.element.oninput=function(c){a.listener.component[a.listener.key]=c.target.value});return this};r.prototype.handleValueChange=function(a){if("value"===this.attributeKey||"model"===this.attributeKey)/(checkbox|radio)/.test(this.element.getAttribute("type"))?this.element.checked=a:this.element.value=a;else{var c={};B(this.element,(c[this.attributeKey]=
a,c))}};r.prototype.updateElement=function(a){return this.element=a};r.prototype.deattach=function(){this.attributeKey=null;this.listener.deattach();this.listenerAsNode=this.element=this.listener=null;this.attached=!1;this.handleValueChange=function(){}};var v=function(a){var c=a.listener,d=a.element;this.styleKey=a.styleKey;this.listener=c;this.element=d;this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};v.prototype.attach=function(){this.element.styleListeners||(this.element.styleListeners=
[]);this.element.styleListeners.push(this);this.listener.onValueChange(this.handleValueChange);this.attached=!0;return this};v.prototype.handleValueChange=function(a){C(this.element,this.styleKey,a)};v.prototype.updateElement=function(a){return this.element=a};v.prototype.deattach=function(){this.listener.deattach();this.element=this.listener=this.styleKey=null;this.attached=!1;this.handleValueChange=null};var C=function(a,c,d){if("undefined"!==typeof d){if(d instanceof n)return(new v({styleKey:c,
listener:d,element:a})).attach(),a[c];a=a.style;d="number"!==typeof d||Number.isNaN(d)?d:d+"px";return a[c]=d}},F=function(a,c){"string"===typeof c&&(a.style=c);if("object"!==typeof c||Array.isArray(c))return a.style;if(c instanceof n)return(new r({attributeKey:"style",listener:c,element:a})).attach(),a.style;for(var d in c)C(a,d,c[d]);return a.style},G=function(a){return Array.isArray(a)?a.filter(function(a){return a}).join(" "):a},B=function(a,c){var d={},b;for(b in c)d.value=c[b],"undefined"!==
typeof d.value&&(d.value||"number"===typeof d.value?"style"===b.toLowerCase()?F(a,d.value):d.value instanceof n?(new r({attributeKey:b,listener:d.value,element:a})).attach():"class"===b.toLowerCase()||"classname"===b.toLowerCase()?a.setAttribute("class",G(d.value)):"on"===b.substring(0,2).toLowerCase()?"onsubmit"===b.substring(0,8).toLowerCase()?a[b]=function(a){return function(c){for(var d=[],b=$jscomp.makeIterator(c.target.elements||[]),e=b.next();!e.done;e=b.next())e=e.value,""!==e.name&&(e={name:e.name,
el:e,type:e.type,default:e.defaultValue,value:e.value,set:function(a){this.el.value=a},reset:function(a){this.el.value=a;this.el.defaultValue=a}},d.push(e),Object.defineProperty(d,e.name,{value:e}));return a.value(c,d)}}(d):a[b]=d.value:(a.setAttribute(b,d.value),d={value:d.value}):a.removeAttribute(b))},H=function(){for(var a="",c=0;32>c;c++){var d=16*Math.random()|0;if(8===c||12===c||16===c||20===c)a+="-";a+=(12===c?4:16===c?d&3|8:d).toString(16)}return a},t=function(){this.store={}};t.prototype.addListener=
function(a,c){"undefined"===typeof this.store[a]&&this.createItemWrapper(a);this.store[a].listeners=this.store[a].listeners.filter(function(a){return a.attatched});this.store[a].listeners.push(c);c.handleUpdate(this.store[a].value);return c};t.prototype.removeListeners=function(){for(var a=Object.keys(this.store),c=0;c<a.length;c++)this.store[a[c]].listeners=[],this.store[a[c]].null=[]};t.prototype.setState=function(a){for(var c=$jscomp.makeIterator(Object.keys(a)),d=c.next();!d.done;d=c.next())d=
d.value,"undefined"===typeof this.store[d]&&this.createItemWrapper(d),this.store[d].value=a[d],this.triggerListeners(d);return a};t.prototype.createItemWrapper=function(a){return this.store[a]={listeners:[],value:null}};t.prototype.triggerListeners=function(a){var c=this.store[a];c&&c.listeners.forEach(function(a){return a.handleUpdate(c.value)})};var y=function(a){if("object"!==typeof a||null===a)return a;if(Array.isArray(a))return a.map(y);var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=y(a[d]));
return c},D=function(a){return"production"===process.env.NODE_ENV||"test"===process.env.NODE_ENV?!1:a&&a()},m=function(a,c){var d=this;this.addNonEnumerableProperties({$id:H(),$name:this.constructor.name,$config:"function"===typeof this.config?this.config():{listen:!0},$events:{},$privateStore:new t});this.on="function"===typeof this.on?this.on():{};this.children=[];this.copyObjToInstance(b,"head");this.state=Object.assign("function"===typeof this.state?this.state():{},c||{});D(function(){return Object.freeze(d.state)});
a&&this.setChildren(a)};m.prototype.render=function(){if("function"!==typeof this.view)return"";var a=this.view();if(Array.isArray(a))for(var c=0;c<a.length;c++)a[c].destroy=this.destroy.bind(this);else a.destroy=this.destroy.bind(this);return this.html=a};m.prototype.setProps=function(a){this.setState(a);return this};m.prototype.setChildren=function(a){var c=this;this.children=a;this.setState();for(a=0;a<this.children.length;a++)"function"===typeof this.children[a].when&&this.children[a].when("update",
function(){return c.setState()});return this};m.prototype.copyObjToInstance=function(a,c){var d=this,b;for(b in a){if("undefined"!==typeof this[b])throw Error("[Radi.js] Error: Trying to write for reserved variable `"+b+"`");this[b]=a[b];"head"===c&&this[b].when("update",function(){return d.setState()})}};m.prototype.addNonEnumerableProperties=function(a){for(var c in a)"undefined"===typeof this[c]&&Object.defineProperty(this,c,{value:a[c]})};m.prototype.addListener=function(a,c){this.$privateStore.addListener(a,
c)};m.prototype.mount=function(){this.trigger("mount")};m.prototype.destroy=function(){this.trigger("destroy");this.html&&""!==this.html&&"function"===typeof this.html.remove&&this.html.remove();this.$privateStore.removeListeners()};m.prototype.when=function(a,c){"undefined"===typeof this.$events[a]&&(this.$events[a]=[]);this.$events[a].push(c)};m.prototype.trigger=function(a,c){for(var d=[],b=1;b<arguments.length;++b)d[b-1]=arguments[b];"function"===typeof this.on[a]&&this.on[a].call.apply(this.on[a],
[].concat([this],$jscomp.arrayFromIterable(d)));if("undefined"!==typeof this.$events[a])for(var f in this.$events[a])this.$events[a][f].call.apply(this.$events[a][f],[].concat([this],$jscomp.arrayFromIterable(d)))};m.prototype.setState=function(a){var c=this;if("object"===typeof a){var d=y(this.state);this.state=Object.assign(d,a);D(function(){return Object.freeze(c.state)});this.$config.listen&&this.$privateStore.setState(a)}!this.$config.listen&&"function"===typeof this.view&&this.html&&q.fuse(this.html,
this.view());this.trigger("update");return this.state};m.isComponent=function(){return!0};var z=function(a,c){var d=document.createDocumentFragment();c="string"===typeof c?document.getElementById(c):c;var b=a instanceof m||a.render?a.render():a;if(Array.isArray(b))for(var f=0;f<b.length;f++)z(b[f],d);else u(d)(b);c.appendChild(d);"function"!==typeof c.destroy&&(c.destroy=function(){for(var a=0;a<b.length;a++)q.destroy(b[a])});"function"===typeof a.mount&&a.mount();return c},E=function(a){if(a instanceof
DocumentFragment)return Array.from(a.childNodes);var c=document.createDocumentFragment();a=Array.isArray(a)?a:[a];a.forEach(u(c));return E(c)},w=function(a){var c=a.element;this.listener=a.listener;this.element=c;this.listenerAsNode=[];this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};w.prototype.attach=function(){this.element.listeners||(this.element.listeners=[]);this.element.listeners.push(this);this.listener.onValueChange(this.handleValueChange);this.attached=!0;return this};
w.prototype.handleValueChange=function(a){var c=E(a);a=0;c=$jscomp.makeIterator(c);for(var b=c.next();!b.done;b=c.next())b=b.value,this.listenerAsNode[a]?this.listenerAsNode[a]=q.fuse(this.listenerAsNode[a],b):this.listenerAsNode.push(this.element.appendChild(b)),a+=1;if(a<this.listenerAsNode.length)for(a=this.listenerAsNode.splice(a-this.listenerAsNode.length),a=$jscomp.makeIterator(a),b=a.next();!b.done;b=a.next())q.destroy(b.value)};w.prototype.updateElement=function(a){return this.element=a};
w.prototype.deattach=function(){this.listener.deattach();this.listenerAsNode=this.element=this.listener=null;this.attached=!1;this.handleValueChange=function(){}};var u=function(a){return function(b){b||"number"===typeof b||(b="");if(b instanceof m)z(b,a);else if(b instanceof n)(new w({listener:b,element:a})).attach();else if(Array.isArray(b))b.forEach(u(a));else if("function"===typeof b){var c=document.createElement("div"),e=a.appendChild(c);e.__async=!0;b().then(function(a){"function"===typeof a.default&&
a.default.isComponent&&a.default.isComponent()?u(e)(new a.default):u(e)(a.default)}).catch(console.warn)}else b instanceof Node?a.appendChild(b):a.appendChild(document.createTextNode(b))}};l=function(a,b){for(var c=[],e=1;e<arguments.length;++e)c[e-1]=arguments[e];return new (Function.prototype.bind.apply(n,[null].concat([a],$jscomp.arrayFromIterable(c))))};var I=function(){Object.values(f).forEach(function(a){if("function"===typeof a.onMount)a.onMount(a)})},A={version:"0.3.2",activeComponents:f,
r:function(a,b,d){for(var c=[],f=2;f<arguments.length;++f)c[f-2]=arguments[f];if("function"===typeof a&&a.isComponent)return(new a(c)).setProps(b||{});if("function"===typeof a)return f=b||{},f.children=c,a(f);"string"===typeof a?f="template"!==a?document.createElement(a):document.createDocumentFragment():(console.warn("[Radi.js] Warn: Creating a JSX element whose query is not of type string, automatically converting query to string."),f=document.createElement(a.toString()));null!==b&&B(f,b);c.forEach(u(f));
return f},listen:l,l:l,component:m,Component:m,action:function(a,b,d){var c=d.value;d.value=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];this.setState.call(this,c.call.apply(c,[].concat([this],$jscomp.arrayFromIterable(b))))};return d},headless:function(a,c){c=new c;c.mount();return b["$".concat(a)]=c},mount:z,freeze:function(){},unfreeze:function(){I()},plugin:function(a,b){for(var c=[],e=1;e<arguments.length;++e)c[e-1]=arguments[e];return a.apply(null,[].concat([A],$jscomp.arrayFromIterable(c)))}};
window&&(window.$Radi=A);module.exports=A});
