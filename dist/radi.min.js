var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,g){b!=Array.prototype&&b!=Object.prototype&&(b[d]=g.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var d=0;return $jscomp.iteratorPrototype(function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();var d=b[Symbol.iterator];return d?d.call(b):$jscomp.arrayIterator(b)};
$jscomp.polyfill=function(b,d,g,h){if(d){g=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var f=b[h];f in g||(g[f]={});g=g[f]}b=b[b.length-1];h=g[b];d=d(h);d!=h&&null!=d&&$jscomp.defineProperty(g,b,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Number.isNaN",function(b){return b?b:function(b){return"number"===typeof b&&isNaN(b)}},"es6","es3");
$jscomp.iteratorFromArray=function(b,d){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var g=0,h={next:function(){if(g<b.length){var f=g++;return{value:d(f,b[f]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.owns=function(b,d){return Object.prototype.hasOwnProperty.call(b,d)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,d){for(var g=1;g<arguments.length;g++){var h=arguments[g];if(h)for(var f in h)$jscomp.owns(h,f)&&(b[f]=h[f])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Array.from",function(b){return b?b:function(b,g,h){$jscomp.initSymbolIterator();g=null!=g?g:function(b){return b};var d=[],p=b[Symbol.iterator];if("function"==typeof p)for(b=p.call(b);!(p=b.next()).done;)d.push(g.call(h,p.value));else{p=b.length;for(var n=0;n<p;n++)d.push(g.call(h,b[n]))}return d}},"es6","es3");$jscomp.polyfill("Object.values",function(b){return b?b:function(b){var d=[],h;for(h in b)$jscomp.owns(b,h)&&d.push(b[h]);return d}},"es8","es3");
(function(b,d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define(d):b.Radi=d()})(this,function(){var b={},d={},g=function(a){if(a instanceof Node){for(var c=document.createTreeWalker(a,NodeFilter.SHOW_ALL,function(a){return!0},!1),e;e=c.nextNode();){if(e.listeners)for(var b=0;b<e.listeners.length;b++)e.listeners[b].deattach();e.listeners=null;if(e.attributeListeners)for(b=0;b<e.styleListeners.length;b++)e.styleListeners[b].deattach();
e.attributeListeners=null;if(e.styleListeners)for(b=0;b<e.styleListeners.length;b++)e.styleListeners[b].deattach();e.styleListeners=null;e.destroy&&e.destroy();e.remove()}if(a.listeners)for(b=0;b<a.listeners.length;b++)a.listeners[b].deattach();a.listeners=null;if(a.attributeListeners)for(b=0;b<a.styleListeners.length;b++)a.styleListeners[b].deattach();a.attributeListeners=null;if(a.styleListeners)for(b=0;b<a.styleListeners.length;b++)a.styleListeners[b].deattach();a.remove()}},h=function(a,c,e){if(Array.isArray(c)||
Array.isArray(a))e=!0;if(!e){e=a.nodeType;var b=c.nodeType;if(e===b&&(3===e||8===b))return a.isEqualNode(c)||(a.nodeValue=c.nodeValue,g(c)),a;if(c.destroy||a.destroy||c.__async||c.__async||a.listeners||c.listeners||3===e||3===b)return a.isEqualNode(c)||(a.parentNode.insertBefore(c,a),g(a)),c;e=a.attributes;for(var k=c.attributes,d,f,m,l=k.length-1;0<=l;--l)f=k[l],m=f.name,b=f.namespaceURI,d=f.value,b?(m=f.localName||m,f=a.getAttributeNS(b,m),f!==d&&a.setAttributeNS(b,m,d)):a.hasAttribute(m)?(f=a.getAttribute(m),
f!==d&&("null"===d||"undefined"===d?a.removeAttribute(m):a.setAttribute(m,d))):a.setAttribute(m,d);for(k=e.length-1;0<=k;--k)f=e[k],!1!==f.specified&&(m=f.name,(b=f.namespaceURI)?(m=f.localName||m,c.hasAttributeNS(b,m)||a.removeAttributeNS(b,m)):c.hasAttributeNS(null,m)||a.removeAttribute(m))}e=[].concat(a.childNodes||a);b=[].concat(c.childNodes||c);m=Math.max(e.length,b.length);for(k=0;k<m;k++)e[k]&&b[k]?h(e[k],b[k]):e[k]&&!b[k]?g(e[k]):!e[k]&&b[k]&&a.appendChild(b[k]);g(c);return a},f=function(){};
f.prototype.fuse=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return h.apply(void 0,a)};f.prototype.destroy=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return g.apply(void 0,a)};var p=new f,n=function(a){for(var c=[],e=arguments.length-1;0<e--;)c[e]=arguments[e+1];this.component=a;this.key=c[0];this.childPath=c.slice(1,c.length);this.path=c;this.value=null;this.changeListeners=[];this.processValue=function(a){return a};this.attatched=!0;this.component.addListener(this.key,
this);this.component.state&&this.handleUpdate(this.component.state[this.key])};n.prototype.deattach=function(){this.component=null;this.attatched=!1;this.value=this.path=this.childPath=this.key=null;this.changeListeners=[];this.processValue=function(){}};n.prototype.handleUpdate=function(a){var c=this;this.value instanceof Node&&(p.destroy(this.value),this.value=null);this.value=this.processValue(this.getShallowValue(a),this.value);this.changeListeners.forEach(function(a){return a(c.value)})};n.prototype.onValueChange=
function(a){this.changeListeners.push(a);a(this.value)};n.prototype.process=function(a){this.processValue=a;this.handleUpdate(this.value);return this};n.prototype.getShallowValue=function(a){if("object"!==typeof a||!this.childPath)return a;for(var c=$jscomp.makeIterator(this.childPath),e=c.next();!e.done;e=c.next())e=e.value,a=null===a||!a[e]&&"number"!==typeof a[e]?null:a[e];return a};var q=function(a){var c=a.listener,e=a.element;this.attributeKey=a.attributeKey;this.listener=c;this.element=e;this.attached=
!1;this.handleValueChange=this.handleValueChange.bind(this)};q.prototype.attach=function(){var a=this;this.element.attributeListeners||(this.element.attributeListeners=[]);this.element.attributeListeners.push(this);this.listener.onValueChange(this.handleValueChange);this.attached=!0;"model"===this.attributeKey&&(/(checkbox|radio)/.test(this.element.getAttribute("type"))?this.element.onchange=function(c){a.listener.component[a.listener.key]=c.target.checked}:this.element.oninput=function(c){a.listener.component[a.listener.key]=
c.target.value});return this};q.prototype.handleValueChange=function(a){var c;"value"===this.attributeKey||"model"===this.attributeKey?/(checkbox|radio)/.test(this.element.getAttribute("type"))?this.element.checked=a:this.element.value=a:z(this.element,(c={},c[this.attributeKey]=a,c))};q.prototype.updateElement=function(a){return this.element=a};q.prototype.deattach=function(){this.attributeKey=null;this.listener.deattach();this.listenerAsNode=this.element=this.listener=null;this.attached=!1;this.handleValueChange=
function(){}};var u=function(a){var c=a.listener,e=a.element;this.styleKey=a.styleKey;this.listener=c;this.element=e;this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};u.prototype.attach=function(){this.element.styleListeners||(this.element.styleListeners=[]);this.element.styleListeners.push(this);this.listener.onValueChange(this.handleValueChange);this.attached=!0;return this};u.prototype.handleValueChange=function(a){A(this.element,this.styleKey,a)};u.prototype.updateElement=
function(a){return this.element=a};u.prototype.deattach=function(){this.listener.deattach();this.element=this.listener=this.styleKey=null;this.attached=!1;this.handleValueChange=null};var A=function(a,c,e){if("undefined"!==typeof e){if(e instanceof n)return(new u({styleKey:c,listener:e,element:a})).attach(),a[c];a=a.style;e="number"!==typeof e||Number.isNaN(e)?e:e+"px";return a[c]=e}},D=function(a,c){"string"===typeof c&&(a.style=c);if("object"!==typeof c||Array.isArray(c))return a.style;if(c instanceof
n)return(new q({attributeKey:"style",listener:c,element:a})).attach(),a.style;for(var e in c)A(a,e,c[e]);return a.style},E=function(a){return Array.isArray(a)?a.filter(function(a){return a}).join(" "):a},z=function(a,c){var e=function(b){var e=c[b];"undefined"!==typeof e&&(e||"number"===typeof e?"style"===b.toLowerCase()?D(a,e):e instanceof n?(new q({attributeKey:b,listener:e,element:a})).attach():"class"===b.toLowerCase()||"classname"===b.toLowerCase()?a.setAttribute("class",E(e)):"on"===b.substring(0,
2).toLowerCase()?"onsubmit"===b.substring(0,8).toLowerCase()?a[b]=function(a){for(var c=[],b=$jscomp.makeIterator(a.target.elements||[]),d=b.next();!d.done;d=b.next())d=d.value,""!==d.name&&(d={name:d.name,el:d,type:d.type,default:d.defaultValue,value:d.value,set:function(a){this.el.value=a},reset:function(a){this.el.value=a;this.el.defaultValue=a}},c.push(d),Object.defineProperty(c,d.name,{value:d}));return e(a,c)}:a[b]=e:a.setAttribute(b,e):a.removeAttribute(b))},b;for(b in c)e(b)},F=function(){for(var a=
"",c=0;32>c;c++){var b=16*Math.random()|0;if(8===c||12===c||16===c||20===c)a+="-";a+=(12===c?4:16===c?b&3|8:b).toString(16)}return a},r=function(){this.store={}};r.prototype.addListener=function(a,c){"undefined"===typeof this.store[a]&&this.createItemWrapper(a);this.store[a].listeners=this.store[a].listeners.filter(function(a){return a.attatched});this.store[a].listeners.push(c);c.handleUpdate(this.store[a].value);return c};r.prototype.removeListeners=function(){for(var a=Object.keys(this.store),
c=0;c<a.length;c++)this.store[a[c]].listeners=[],this.store[a[c]].null=[]};r.prototype.setState=function(a){for(var c=$jscomp.makeIterator(Object.keys(a)),b=c.next();!b.done;b=c.next())b=b.value,"undefined"===typeof this.store[b]&&this.createItemWrapper(b),this.store[b].value=a[b],this.triggerListeners(b);return a};r.prototype.createItemWrapper=function(a){return this.store[a]={listeners:[],value:null}};r.prototype.triggerListeners=function(a){var c=this.store[a];c&&c.listeners.forEach(function(a){return a.handleUpdate(c.value)})};
var w=function(a){if("object"!==typeof a||null===a)return a;if(Array.isArray(a))return a.map(w);var c={},b;for(b in a)a.hasOwnProperty(b)&&(c[b]=w(a[b]));return c},B=function(a){return"undefined"===typeof process||"production"===process.env.NODE_ENV||"test"===process.env.NODE_ENV?!1:a&&a()},l=function(a,c){var e=this;this.addNonEnumerableProperties({$id:F(),$name:this.constructor.name,$config:"function"===typeof this.config?this.config():{listen:!0},$events:{},$privateStore:new r});this.on="function"===
typeof this.on?this.on():{};this.children=[];this.copyObjToInstance(b,"head");this.state=Object.assign("function"===typeof this.state?this.state():{},c||{});B(function(){return Object.freeze(e.state)});a&&this.setChildren(a)};l.prototype.render=function(){if("function"!==typeof this.view)return"";var a=this.view();if(Array.isArray(a))for(var c=0;c<a.length;c++)a[c].destroy=this.destroy.bind(this);else a.destroy=this.destroy.bind(this);return this.html=a};l.prototype.setProps=function(a){this.setState(a);
return this};l.prototype.setChildren=function(a){var c=this;this.children=a;this.setState();for(a=0;a<this.children.length;a++)"function"===typeof c.children[a].when&&c.children[a].when("update",function(){return c.setState()});return this};l.prototype.copyObjToInstance=function(a,c){var b=this,d;for(d in a){if("undefined"!==typeof b[d])throw Error("[Radi.js] Error: Trying to write for reserved variable `"+d+"`");b[d]=a[d];"head"===c&&b[d].when("update",function(){return b.setState()})}};l.prototype.addNonEnumerableProperties=
function(a){for(var c in a)"undefined"===typeof this[c]&&Object.defineProperty(this,c,{value:a[c]})};l.prototype.addListener=function(a,c){this.$privateStore.addListener(a,c)};l.prototype.mount=function(){this.trigger("mount")};l.prototype.destroy=function(){this.trigger("destroy");this.html&&""!==this.html&&"function"===typeof this.html.remove&&this.html.remove();this.$privateStore.removeListeners()};l.prototype.when=function(a,c){"undefined"===typeof this.$events[a]&&(this.$events[a]=[]);this.$events[a].push(c)};
l.prototype.trigger=function(a){for(var c,b,d=[],k=arguments.length-1;0<k--;)d[k]=arguments[k+1];"function"===typeof this.on[a]&&(c=this.on[a]).call.apply(c,[this].concat(d));if("undefined"!==typeof this.$events[a])for(var f in this.$events[a])(b=this.$events[a][f]).call.apply(b,[this].concat(d))};l.prototype.setState=function(a){var c=this;if("object"===typeof a){var b=w(this.state);this.state=Object.assign(b,a);B(function(){return Object.freeze(c.state)});this.$config.listen&&this.$privateStore.setState(a)}!this.$config.listen&&
"function"===typeof this.view&&this.html&&p.fuse(this.html,this.view());this.trigger("update");return this.state};l.isComponent=function(){return!0};var x=function(a,c){var b=document.createDocumentFragment();c="string"===typeof c?document.getElementById(c):c;var d=a instanceof l||a.render?a.render():a;if(Array.isArray(d))for(var k=0;k<d.length;k++)x(d[k],b);else t(b)(d);c.appendChild(b);"function"!==typeof c.destroy&&(c.destroy=function(){for(var a=0;a<d.length;a++)p.destroy(d[a])});"function"===
typeof a.mount&&a.mount();return c},C=function(a){if(a instanceof DocumentFragment)return Array.from(a.childNodes);var c=document.createDocumentFragment();a=Array.isArray(a)?a:[a];a.forEach(t(c));return C(c)},v=function(a){var c=a.element;this.listener=a.listener;this.element=c;this.listenerAsNode=[];this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};v.prototype.attach=function(){this.element.listeners||(this.element.listeners=[]);this.element.listeners.push(this);this.listener.onValueChange(this.handleValueChange);
this.attached=!0;return this};v.prototype.handleValueChange=function(a){var c=C(a);a=0;c=$jscomp.makeIterator(c);for(var b=c.next();!b.done;b=c.next())b=b.value,this.listenerAsNode[a]?this.listenerAsNode[a]=p.fuse(this.listenerAsNode[a],b):this.listenerAsNode.push(this.element.appendChild(b)),a+=1;if(a<this.listenerAsNode.length)for(a=this.listenerAsNode.splice(a-this.listenerAsNode.length),a=$jscomp.makeIterator(a),c=a.next();!c.done;c=a.next())p.destroy(c.value)};v.prototype.updateElement=function(a){return this.element=
a};v.prototype.deattach=function(){this.listener.deattach();this.listenerAsNode=this.element=this.listener=null;this.attached=!1;this.handleValueChange=function(){}};var t=function(a){return function(b){b||"number"===typeof b||(b="");if(b instanceof l)x(b,a);else if(b instanceof n)(new v({listener:b,element:a})).attach();else if(Array.isArray(b))b.forEach(t(a));else if("function"===typeof b){var c=document.createElement("div"),d=a.appendChild(c);d.__async=!0;b().then(function(a){"function"===typeof a.default&&
a.default.isComponent&&a.default.isComponent()?t(d)(new a.default):t(d)(a.default)}).catch(console.warn)}else b instanceof Node?a.appendChild(b):a.appendChild(document.createTextNode(b))}};f=function(a){for(var b=[],e=arguments.length-1;0<e--;)b[e]=arguments[e+1];return new (Function.prototype.bind.apply(n,[null].concat([a],b)))};var G=function(){Object.values(d).forEach(function(a){if("function"===typeof a.onMount)a.onMount(a)})},y={version:"0.3.5",activeComponents:d,r:function(a,b){for(var c=[],
d=arguments.length-2;0<d--;)c[d]=arguments[d+2];if("function"===typeof a&&a.isComponent)return(new a(c)).setProps(b||{});if("function"===typeof a)return d=b||{},d.children=c,a(d);"string"===typeof a?d="template"!==a?document.createElement(a):document.createDocumentFragment():(console.warn("[Radi.js] Warn: Creating a JSX element whose query is not of type string, automatically converting query to string."),d=document.createElement(a.toString()));null!==b&&z(d,b);c.forEach(t(d));return d},listen:f,
l:f,component:l,Component:l,action:function(a,b,d){var c=d.value;d.value=function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];this.setState.call(this,c.call.apply(c,[this].concat(a)))};return d},headless:function(a,c){c=new c;c.mount();return b["$".concat(a)]=c},mount:x,freeze:function(){},unfreeze:function(){G()},plugin:function(a){for(var b=[],d=arguments.length-1;0<d--;)b[d]=arguments[d+1];return a.apply(void 0,[y].concat(b))}};window&&(window.Radi=y);return y});
