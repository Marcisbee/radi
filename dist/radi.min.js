var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,g){b!=Array.prototype&&b!=Object.prototype&&(b[d]=g.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var d=0;return $jscomp.iteratorPrototype(function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();var d=b[Symbol.iterator];return d?d.call(b):$jscomp.arrayIterator(b)};
$jscomp.polyfill=function(b,d,g,h){if(d){g=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var f=b[h];f in g||(g[f]={});g=g[f]}b=b[b.length-1];h=g[b];d=d(h);d!=h&&null!=d&&$jscomp.defineProperty(g,b,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Object.is",function(b){return b?b:function(b,g){return b===g?0!==b||1/b===1/g:b!==b&&g!==g}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,g){var d=this;d instanceof String&&(d=String(d));var f=d.length;for(g=g||0;g<f;g++)if(d[g]==b||Object.is(d[g],b))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,d,g){if(null==b)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,g){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,g||0)}},"es6","es3");
$jscomp.iteratorFromArray=function(b,d){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var g=0,h={next:function(){if(g<b.length){var f=g++;return{value:d(f,b[f]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.owns=function(b,d){return Object.prototype.hasOwnProperty.call(b,d)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,d){for(var g=1;g<arguments.length;g++){var h=arguments[g];if(h)for(var f in h)$jscomp.owns(h,f)&&(b[f]=h[f])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(b){function d(){this.batch_=null}function g(b){return b instanceof f?b:new f(function(l,d){l(b)})}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;d.prototype.asyncExecute=function(b){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(b);return this};d.prototype.asyncExecuteBatch_=function(){var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})};var h=$jscomp.global.setTimeout;d.prototype.asyncExecuteFunction=function(b){h(b,
0)};d.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=this.batch_;this.batch_=[];for(var d=0;d<b.length;++d){var f=b[d];delete b[d];try{f()}catch(z){this.asyncThrow_(z)}}}this.batch_=null};d.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var f=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var d=this.createResolveAndReject_();try{b(d.resolve,d.reject)}catch(p){d.reject(p)}};f.prototype.createResolveAndReject_=
function(){function b(b){return function(l){f||(f=!0,b.call(d,l))}}var d=this,f=!1;return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};f.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof f)this.settleSameAsPromise_(b);else{a:switch(typeof b){case "object":var d=null!=b;break a;case "function":d=!0;break a;default:d=!1}d?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};f.prototype.resolveToNonPromiseObj_=function(b){var d=
void 0;try{d=b.then}catch(p){this.reject_(p);return}"function"==typeof d?this.settleSameAsThenable_(d,b):this.fulfill_(b)};f.prototype.reject_=function(b){this.settle_(2,b)};f.prototype.fulfill_=function(b){this.settle_(1,b)};f.prototype.settle_=function(b,d){if(0!=this.state_)throw Error("Cannot settle("+b+", "+d|"): Promise already settled in state"+this.state_);this.state_=b;this.result_=d;this.executeOnSettledCallbacks_()};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=
this.onSettledCallbacks_,d=0;d<b.length;++d)b[d].call(),b[d]=null;this.onSettledCallbacks_=null}};var u=new d;f.prototype.settleSameAsPromise_=function(b){var d=this.createResolveAndReject_();b.callWhenSettled_(d.resolve,d.reject)};f.prototype.settleSameAsThenable_=function(b,d){var f=this.createResolveAndReject_();try{b.call(d,f.resolve,f.reject)}catch(z){f.reject(z)}};f.prototype.then=function(b,d){function g(b,d){return"function"==typeof b?function(d){try{h(b(d))}catch(H){l(H)}}:d}var h,l,y=new f(function(b,
d){h=b;l=d});this.callWhenSettled_(g(b,h),g(d,l));return y};f.prototype.catch=function(b){return this.then(void 0,b)};f.prototype.callWhenSettled_=function(b,d){function f(){switch(g.state_){case 1:b(g.result_);break;case 2:d(g.result_);break;default:throw Error("Unexpected state: "+g.state_);}}var g=this;null==this.onSettledCallbacks_?u.asyncExecute(f):this.onSettledCallbacks_.push(function(){u.asyncExecute(f)})};f.resolve=g;f.reject=function(b){return new f(function(d,f){f(b)})};f.race=function(b){return new f(function(d,
f){for(var h=$jscomp.makeIterator(b),l=h.next();!l.done;l=h.next())g(l.value).callWhenSettled_(d,f)})};f.all=function(b){var d=$jscomp.makeIterator(b),h=d.next();return h.done?g([]):new f(function(b,f){function l(d){return function(f){p[d]=f;u--;0==u&&b(p)}}var p=[],u=0;do p.push(void 0),u++,g(h.value).callWhenSettled_(l(p.length-1),f),h=d.next();while(!h.done)})};return f},"es6","es3");
(function(b,d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define(d):b.Radi=d()})(this,function(){function b(a,c,e){void 0===e&&(e={});return k.CUSTOM_ATTRIBUTES[a]={name:a,caller:c,allowedTags:e.allowedTags||null,addToElement:e.addToElement}}function d(a,c){return k.CUSTOM_TAGS[a]={name:a,render:c||function(){}}}function g(a){l("destroy",a);a.__radiRef=void 0;if(1===a.nodeType)for(a=a.firstChild;a;)g(a),a=a.nextSibling}function h(a){return a.charAt(0).toUpperCase()+
a.substr(1)}function f(a){return a.reduce(function(a,e){return a.concat(Array.isArray(e)?f(e):e)},[])}function u(a,c,e){e||(e=c.parentNode);if(a instanceof Node){if(null===c||void 0===c)return e.insertBefore(a,c);if(c instanceof Node)return e.insertBefore(a,c.nextSibling)}return a}function l(a,c,e){void 0===e&&(e=c);var b=document.createEvent("Event");b.initEvent(a,!1,!0);"function"===typeof c.dispatchEvent&&(c._eventFired=!0,c.dispatchEvent(b,e));return c}function y(a,c){a=f([w(a)]);var e=p(a,c);
e.forEach(function(a){c.appendChild(a);l("mount",a)});return{nodes:a,dom:e}}function p(a,c){if(Array.isArray(a))return a.map(function(a){return p(a,c)});if(a.type===t.TEXT)return document.createTextNode(a.query);if(a.type===t.NODE){var e="svg"===a.query||c instanceof SVGElement?document.createElementNS("http://www.w3.org/2000/svg",a.query):document.createElement(a.query);y(a.children,e);ca(e,a.props);return e}if(a.type===t.COMPONENT){e=k.CURRENT_COMPONENT;k.CURRENT_COMPONENT=a;a.pointer||(a.pointer=
document.createTextNode(""),a.pointer.__radiPoint=a);var b;a.pointer.addEventListener("mount",function(c){"string"===typeof a.style&&(b=document.createElement("style"),b.innerHTML=a.style,document.head.appendChild(b));c=k.CURRENT_COMPONENT;k.CURRENT_COMPONENT=a;a.update();a.mounted=!0;k.CURRENT_COMPONENT=c},{passive:!0,once:!0},!1);a.pointer.addEventListener("destroy",function(c){b instanceof Node&&document.head.removeChild(b);a.mounted=!1},{passive:!0,once:!0},!1);a.mounted=!0;k.CURRENT_COMPONENT=
e;return a.pointer}return document.createTextNode(a.toString())}function z(a,c){return"function"===typeof a.beforedestroy?a.beforedestroy(c):c()}function D(a){f([a]).forEach(function(a){if(a instanceof Node){a.__radiPoint&&a.__radiPoint.dom&&0<a.__radiPoint.dom.length&&a.__radiPoint.dom.forEach(D);var c=a.parentNode;a instanceof Node&&c instanceof Node&&z(a,function(){c.removeChild(a);g(a)})}})}function I(a,c){return c(a)}function P(a,c,e){"style"===c&&"string"!==typeof e?ba(a,e):/^on/.test(c)?da(a,
c,e):"className"===c?a.setAttribute("class",e):"boolean"===typeof e?e?(a.setAttribute(c,e),a[c]=!0):a[c]=!1:("value"===c&&document.activeElement!==a&&(a[c]=e),a.setAttribute(c,e))}function ba(a,c){Object.keys(c).forEach(function(e){I(c[e],function(c){a.style[e]=c})})}function ca(a,c){Object.keys(c||{}).forEach(function(e){if("undefined"!==typeof k.CUSTOM_ATTRIBUTES[e]){var b=k.CUSTOM_ATTRIBUTES[e],d=b.allowedTags,f=b.addToElement;b=b.caller;if(!d||d&&0<d.length&&0<=d.indexOf(a.localName))if("function"===
typeof b&&(c[e]=b(a,c[e])),!f)return}I(c[e],function(c){"model"===e?e="value":("class"===e||"className"===e)&&Array.isArray(c)&&(c=c.filter(function(a){return a&&"function"!==typeof a}).join(" "));P(a,e,c)})})}function H(a,c,e){void 0===e&&(e={});var b=Object.assign({},c,e);"undefined"!==typeof a.__radiHandlers&&(a.__radiHandlers.forEach(function(c){a.removeEventListener.apply(a,c)}),a.__radiHandlers=[]);Object.keys(b).forEach(function(b){I(c[b],function(c){"model"===b&&(b="value");var m=b,d=e[b];
"undefined"===typeof c||!1===c||null===c?/^on/.test(m)||("className"===m?a.removeAttribute("class"):"boolean"===typeof d?(a.removeAttribute(m),a[m]=!1):a.removeAttribute(m)):d&&c===d||P(a,m,c)})})}function da(a,c,e){var b=["mount","destroy"];if(/^on/.test(c)){"undefined"===typeof a.__radiHandlers&&(a.__radiHandlers=[]);var d=[c.replace(/^on/,"").toLowerCase(),function(m){0<=b.indexOf(c)?a===m.target&&e(m):"function"===typeof e&&e(m)}];a.__radiHandlers.push(d);a.addEventListener(d[0],d[1],!1)}}function ea(a){return[].reduce.call(a,
function(a,e){var c;return Object.assign({},a,(c={},c[e.name]=e.value,c))},{})}function fa(a){var c=Array.prototype.filter.call(a.childNodes,function(a){return"undefined"!==typeof a.__radiPoint}).reduce(function(a,c){return a.concat(c.__radiPoint.dom)},[]);return Array.prototype.filter.call(a.childNodes,function(a){return 0>c.indexOf(a)})}function E(a,c,e,b){var d;if(c){if(a){if(a.type===t.NODE){var m=fa(c);if(c.nodeName===a.query.toUpperCase()){e=ea(c.attributes);if(m||a.children)for(d=Math.max(m.length,
a.children.length)-1;0<=d;d--)E(a.children[d],m[d],c);H(c,a.props,e);return{newDom:c,newStucture:a,last:b}}}if(a.type===t.TEXT&&3===c.nodeType&&!c.__radiPoint&&c.textContent!=a.query)return c.textContent=a.query,{newDom:c,newStucture:a,last:b};if(a.type===t.COMPONENT&&c.__radiPoint&&c.__radiPoint.query===a.query)return c.__radiPoint.update(a.props,a.children),m=c.__radiPoint,{newDom:c,newStucture:m,last:b};b=d=l("mount",u(p(m=a),c,e));b.__radiPoint&&b.__radiPoint&&b.__radiPoint.dom&&(b=b.__radiPoint.dom[b.__radiPoint.dom.length-
1])}D(c)}else b=d=l("mount",u(p(m=a),b,e));return{newDom:d,newStucture:m,last:b}}function Q(a,c){var e=this;void 0===a&&(a=this.props);void 0===c&&(c=this.children);a&&(this.props=a);c&&(this.children=c);a=f([w(this.query.call(this,Object.assign({},this.props,{children:this.children})))]);if(!this.dom)return this.dom=p(this.domStructure=a).reverse().map(function(a){return l("mount",u(a,e.pointer))}).reverse();c=document.activeElement;if(null===this.pointer.parentNode)return this.dom;for(var b=Math.max(this.dom.length,
a.length),d=this.pointer,g=[],h=[],r=0;r<=b-1;r++){var n=E(a[r],e.dom[r],e.pointer.parentNode,d);n.last&&(d=n.last);n.newDom&&(g[r]=n.newDom);n.newStucture&&(h[r]=n.newStucture)}c.focus();this.domStructure=h;return this.dom=g}function R(a){return function(){for(var c=[],e=arguments.length;e--;)c[e]=arguments[e];e=k.CURRENT_COMPONENT;k.CURRENT_COMPONENT=a;c=Q.call.apply(Q,[a].concat(c));k.CURRENT_COMPONENT=e;return c}}function w(a){return Array.isArray(a)?f(a).map(w):"function"===typeof a?w(a()):a instanceof
Promise||a&&"LazyPromise"===a.constructor.name?w({query:"await",props:{src:a},children:[]}):a&&"number"===typeof a.type?a:a&&"object"===typeof a&&"undefined"!==typeof a.query&&"undefined"!==typeof a.props&&"undefined"!==typeof a.children?"function"===typeof a.query?(a=Object.assign({},a,{type:t.COMPONENT,pointer:null,dom:null}),a.update=R(a),a):"undefined"!==typeof k.CUSTOM_TAGS[a.query]?(a=Object.assign({},a,{query:k.CUSTOM_TAGS[a.query].render,type:t.COMPONENT,pointer:null,dom:null}),a.update=R(a),
a):Object.assign({},a,{type:t.NODE,children:w(f(a.children))}):a||"string"===typeof a||"number"===typeof a?{query:a.toString(),type:t.TEXT}:{query:"",type:t.TEXT}}function A(a,c){for(var e=[],b=arguments.length-2;0<b--;)e[b]=arguments[b+2];b="number"===typeof a?""+a:a;var d=c||{};e=f(e);if(b instanceof Promise||b&&"LazyPromise"===b.constructor.name)b="await",d={src:a};return{query:b,props:d,children:e}}function ha(a){var c=a.update&&function(){return a.update()}||a;0>J.indexOf(c)&&J.push(c);return c}
function K(a,c,b){void 0===b&&(b=[]);if(c){if(c&&(c.constructor===Object||c.constructor===Array)){var e=Array.isArray(c)?[]:{},d;for(d in c)e[d]=K(a,c[d],b.concat(d));return e}if(c instanceof q)return c.subscribe.call(c,function(c){a.update(a.setPartial(b,c))}),c.get()}return c}function L(a){function c(e){b.update(e);a(e,c);return b}var b=new q(null);return c}function S(a){return Array.isArray(a)?a.map(function(a){return a.value}):a.value}function ia(a,c){return Array.isArray(a)?[].reduce.call(c,
function(a,c){return c.touched&&!0||a},!1):a.touched}function M(a,c,b){var e=T(a,function(a,c){return{touched:a.touched,value:c}}),d=Object.keys(e).reduce(function(a,c){var b;return Object.assign({},a,(b={},b[c]=S(e[c]),b))},{}),f=[],g;for(g in e){var h=e[g];if("function"===typeof c[g]){var n=c[g](S(h),d);n=n&&"function"===typeof n.check&&n.check()||n||g+" field is invalid";!0!==n&&f.push({field:g,touched:!!ia(h,a[g]),error:n})}}b(f)}function U(a){return"function"===typeof a?a:function(c){return a||
c}}function V(a){var c=this,b,d=a.src,f=a.waitMs,g=a.transform;void 0===g&&(g=function(a){return a});var h=a.error;void 0===h&&(h=function(a){return a});var r=a.placeholder;void 0===r&&(r="Loading..");var n=a.value;void 0===n&&(n=null);var k=a.loaded;void 0===k&&(k=!1);if(!d||!(d instanceof Promise||"LazyPromise"===d.constructor.name))return console.warn("[Radi] \x3cawait/\x3e must have `src` as a Promise"),null;k||(r!==n&&(f?b=setTimeout(function(){c.update(Object.assign({},a,{value:r}))},f):n=r),
d.then(function(e){e&&"object"===typeof e&&"function"===typeof e.default&&(e=A(e.default));clearTimeout(b);c.update(Object.assign({},a,{value:U(g)(e),loaded:!0}))}).catch(function(e){console.error(e);clearTimeout(b);c.update(Object.assign({},a,{value:U(h)(e),loaded:!0}))}));return n}function W(a){var c=a.name;void 0===c&&(c="default");a=a.children;var b=x.state;"undefined"===typeof c&&console.warn("[Radi.js] Warn: Every \x3cmodal\x3e tag needs to have `name` attribute!");this.onMount=function(a){b[c]||
x.dispatch(ja,c)};return F("portal",{},b[c]&&F("div",{class:"radi-modal",name:c},F("div",{class:"radi-modal-backdrop",onclick:function(){return G.modal.close(c)}}),F.apply(void 0,["div",{class:"radi-modal-content"}].concat(a.slice()))))}function X(a){var c=a.children;void 0===c&&(c=[]);var b=a.parent;void 0===b&&(b=a.on||document.body);var d;this.onMount=function(a){y(function(){var a=this;this.onMount=function(c){d=a.dom};return A("portal-body",{},c)},b)};this.onDestroy=function(a){D(d)};return null}
var k={VERSION:"0.5.0",CURRENT_COMPONENT:null,CUSTOM_ATTRIBUTES:{},CUSTOM_TAGS:{},IS_UPDATE:!1,SERVICES:{}},Y=function(a){return!["checkbox","radio"].includes(a.type)||a.checked},ka=function(a){return[].reduce.call(a,function(a,b){return b.selected?a.concat(b.value):a},[])},T=function(a,c){void 0===c&&(c=function(a,c){return c});return[].reduce.call(a,function(a,b){b.name&&(b.value||""===b.value)&&("checkbox"===b.type?("undefined"===typeof a[b.name]&&(a[b.name]=[]),Y(b)&&(a[b.name]=a[b.name].concat(c(b,
b.value)))):Y(b)&&(a[b.name]=b.options&&b.multiple?c(b,ka(b)):c(b,b.value)));return a},{})},t={NODE:0,TEXT:1,COMPONENT:2},v=function(a){this.type=a;this.name=a.name;this.render=this.render.bind(this);this.evaluate=this.evaluate.bind(this);this.update=this.update.bind(this);this.updateWithProps=this.updateWithProps.bind(this);this.__$events={}};v.prototype.on=function(a,c){var b=this.__$events;a="on"+h(a);b[a]||(b[a]=[]);b[a].push(c);return c};v.prototype.trigger=function(a){for(var c=[],b=arguments.length-
1;0<b--;)c[b]=arguments[b+1];b="on"+h(a);(this.__$events[b]||[]).map(function(a){return a.apply(void 0,c)});"function"===typeof this[b]&&this[b].apply(this,c)};v.prototype.evaluate=function(a,b){this.props=a;this.children=b;return this.node=this.type.call(this,Object.assign({},this.props,{children:this.children}))};v.prototype.render=function(a,b,e){return this.dom=p(this.evaluate(a,b),e)};v.prototype.update=function(){var a=this.dom;return this.dom=E(this.evaluate(this.props,this.children),a)};v.prototype.updateWithProps=
function(a,b){void 0===a&&(a=this.props);void 0===b&&(b=this.children);this.props=a;this.children=b;return this.update()};var B=function(){};B.prototype.add=function(a,b){for(var c=[],d=arguments.length-2;0<d--;)c[d]=arguments[d+2];if("string"!==typeof a)throw Error("[Radi.js] Service first argument has to be string");if("undefined"!==typeof this[a]||"undefined"!==typeof v.prototype[a])throw Error('[Radi.js] Service "'+a+'" is already in use');if("function"!==typeof b)throw Error("[Radi.js] Service second argument has to be function");
c=b.apply(void 0,c);v.prototype[a]=this[a]=c;return k.SERVICES[a]=c};var G=new B,J=[],C=function(){this.dependencies={}};C.prototype.add=function(a,b){a=a[0];"undefined"===typeof this.dependencies[a]&&(this.dependencies[a]=[]);this.dependencies[a]=this.dependencies[a].filter(function(a){return a===k.CURRENT_COMPONENT.query||a.query===k.CURRENT_COMPONENT.query?!0:a.pointer instanceof Node?a.mounted?!0:a.pointer.isConnected:!0});0>this.dependencies[a].indexOf(b)&&this.dependencies[a].push(b)};C.prototype.remove=
function(a,b){a=a[0];b=(this.dependencies[a]||[]).indexOf(b);0<=b&&this.dependencies[a].splice(b,1)};C.prototype.component=function(a,b){var c=this;b&&(this.add(a,b),b.__onDestroy=function(){c.remove(a,b)});return b};C.prototype.trigger=function(a,b,e){this.dependencies[a]&&this.dependencies[a].forEach(function(a){return ha(a)(b,e)})};var la=function(a){return a},q=function(a){this.dependencies=new C;this.transform=la;this.willDispatch=this.willDispatch.bind(this);this.dispatch=this.dispatch.bind(this);
this.subscribe=this.subscribe.bind(this);this.update=this.update.bind(this);this.get=this.get.bind(this);this.storedState=K(this,a)};B={state:{configurable:!0}};B.state.get=function(){k.CURRENT_COMPONENT&&this.dependencies.component("*",k.CURRENT_COMPONENT);return this.get()};q.prototype.get=function(){return this.transform(this.storedState)};q.prototype.map=function(a){var b=this.transform;this.transform=function(c){return a(b(c))};return this};q.prototype.setPartial=function(a,b,e){void 0===e&&
(e=this.storedState);if(e&&a&&a.length){var c=a[0],d=a.slice(1);a=e;b=this.setPartial(d,b,e[c]);a&&a&&(a.constructor===Object||a.constructor===Array)?(e=Array.isArray(a)?[].concat(a):Object.assign({},a),e[c]=b,c=e):c=a;return c}return b};q.prototype.update=function(a){a=K(this,a);var b=this.get();this.storedState=a;this.dependencies.trigger("*",this.get(),b);J=[];return this.get()};q.prototype.subscribe=function(a){this.dependencies.add("*",a);a(this.get(),null);return this};q.prototype.unsubscribe=
function(a){this.dependencies.remove("*",a)};q.prototype.dispatch=function(a){for(var b=[],e=arguments.length-1;0<e--;)b[e]=arguments[e+1];b=a.apply(void 0,[this.storedState].concat(b));return this.update(b)};q.prototype.willDispatch=function(a){for(var b=this,e=[],d=arguments.length-1;0<d--;)e[d]=arguments[d+1];return function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];return b.dispatch.apply(b,[a].concat(e,c))}};Object.defineProperties(q.prototype,B);var Z=function(a,b,e,d){e=e[b];
if("function"!==typeof e)console.warn("[Radi.js] Animation `"+b+"` for node `"+a.nodeName.toLowerCase+"` should be function");else return e(a,d)};b("animation",function(a,b){Z(a,"in",b,function(){});a.beforedestroy=function(c){return Z(a,"out",b,c)}});b("html",function(a,b){a.addEventListener("mount",function(){a.escape?a.textContent=b:a.innerHTML=b})});b("loadfocus",function(a){a.addEventListener("mount",function(){return setTimeout(function(){return a.focus()},0)})});b("onsubmit",function(a,b){return function(c){a.prevent&&
c.preventDefault();b(c,T(a.elements||{}))}},{allowedTags:["form"],addToElement:!0});var N=new q({}),ma=function(a,b,e){var c;return Object.assign({},a,(c={},c[b]=e,c))},na=0;b("onvalidate",function(a,b){function c(a){N.dispatch(ma,d,a)}var d=a.name||"defaultForm"+na++,f;N.subscribe(function(a){f&&(f.disabled=0<a[d].length)});a.addEventListener("mount",function(d){var e=b(d),g=a.elements;if(e&&"object"===typeof e&&g){d=$jscomp.makeIterator(g);for(var h=d.next();!h.done;h=d.next()){h=h.value;var m=
h.name;if(!h.__radiValidate&&"string"===typeof m&&"function"===typeof e[m]){h.addEventListener("input",function(){M(g,e,c)});h.__radiValidate=!0;h.touched=!1;var k=function(a){a=a.target;a.touched=!0;a.removeEventListener("change",k);M(g,e,c)};h.addEventListener("change",k)}"submit"===h.type&&!0===h.disabled&&(f=h)}M(g,e,c)}},!1)},{allowedTags:["form"]});d("await",V);var F=A,x=new q({}),ja=function(a,b){var c;return Object.assign({},a,(c={},c[b]=!1,c))},aa=function(a,b,d){var c;return Object.assign({},
a,(c={},c[b]=d,c))};G.add("modal",function(){return{open:function(a){return x.dispatch(aa,a,!0)},close:function(a){return x.dispatch(aa,a,!1)},onOpen:function(a,b){return x.subscribe(function(c,d){return!0===c[a]&&c[a]!==d[a]&&b()})},onClose:function(a,b){return x.subscribe(function(c,d){return!1===c[a]&&c[a]!==d[a]&&b()})}}});d("modal",W);d("portal",X);var O={v:k.VERSION,version:k.VERSION,h:A,html:A,customTag:d,customAttribute:b,destroy:D,patch:E,mount:y,service:G,Service:G,Event:function(a,b,d){function c(){g.forEach(function(b){function c(){for(var a=
[],c=arguments.length;c--;)a[c]=arguments[c];h(d.apply(void 0,a.concat([b])))}l.push([b,c]);a.addEventListener(b,c)})}function e(a,b){h=b}function f(a){return L(e)(a)}void 0===a&&(a=document);void 0===d&&(d=function(a){return a});var g=b.trim().split(" "),h=function(){},k=!0,l=[];if("function"!==typeof d)throw Error("[Radi.js] Subscription `"+b+"` must be transformed by function");c();f.on=function(){k||(l=[],c(),k=!0)};f.off=function(){k&&(l.forEach(function(b){return a.removeEventListener(b[0],
b[1])}),k=!1)};return f},Fetcher:function(a,b,d,f){function c(a,b){h=b;f&&!g&&(g=!0,e.fetch())}function e(a){return L(c)(a)}void 0===f&&(f=!1);var g=!1,h=function(){},k=null;if("function"!==typeof a)throw Error("[Radi.js] Fetcher first parameter must be function that returns promise");e.fetch=function(){for(var c=[],e=arguments.length;e--;)c[e]=arguments[e];null===k&&(h({loading:!0}),a.apply(void 0,c).then(b||function(a){k=a;h(a)}).catch(d||function(a){h({error:a});console.error(a)}))};return e},
Store:q,Subscribe:L,Await:V,Errors:function(a){var b=a.name;a=a.onrender;void 0===a&&(a=function(a){return a});var d=N.state;"undefined"===typeof b&&console.warn("[Radi.js] Warn: Every \x3cerrors\x3e tag needs to have `name` attribute!");"function"!==typeof a&&console.warn("[Radi.js] Warn: Every \x3cerrors\x3e tag needs to have `onrender` attribute!");return d[b]?a(d[b]):null},Modal:W,Portal:X,plugin:function(a){for(var b=[],d=arguments.length-1;0<d--;)b[d]=arguments[d+1];return a.apply(void 0,[O].concat(b))}};
window&&(window.Radi=O);return O});
