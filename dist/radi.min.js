var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,f){b!=Array.prototype&&b!=Object.prototype&&(b[e]=f.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var e=0;return $jscomp.iteratorPrototype(function(){return e<b.length?{done:!1,value:b[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=b[Symbol.iterator];return e?e.call(b):$jscomp.arrayIterator(b)};$jscomp.arrayFromIterator=function(b){for(var e,f=[];!(e=b.next()).done;)f.push(e.value);return f};$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};
$jscomp.polyfill=function(b,e,f,g){if(e){f=$jscomp.global;b=b.split(".");for(g=0;g<b.length-1;g++){var l=b[g];l in f||(f[l]={});f=f[l]}b=b[b.length-1];g=f[b];e=e(g);e!=g&&null!=e&&$jscomp.defineProperty(f,b,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Number.isNaN",function(b){return b?b:function(b){return"number"===typeof b&&isNaN(b)}},"es6","es3");
$jscomp.iteratorFromArray=function(b,e){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var f=0,g={next:function(){if(f<b.length){var l=f++;return{value:e(l,b[l]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.owns=function(b,e){return Object.prototype.hasOwnProperty.call(b,e)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,e){for(var f=1;f<arguments.length;f++){var g=arguments[f];if(g)for(var l in g)$jscomp.owns(g,l)&&(b[l]=g[l])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Array.from",function(b){return b?b:function(b,f,g){$jscomp.initSymbolIterator();f=null!=f?f:function(b){return b};var e=[],n=b[Symbol.iterator];if("function"==typeof n)for(b=n.call(b);!(n=b.next()).done;)e.push(f.call(g,n.value));else{n=b.length;for(var r=0;r<n;r++)e.push(f.call(g,b[r]))}return e}},"es6","es3");$jscomp.polyfill("Object.values",function(b){return b?b:function(b){var f=[],e;for(e in b)$jscomp.owns(b,e)&&f.push(b[e]);return f}},"es8","es3");
(function(b,e){"object"===typeof exports&&"undefined"!==typeof module?e():"function"===typeof define&&define.amd?define(e):e()})(this,function(){var b={},e={},f=function(a,c){for(var d=[],b=1;b<arguments.length;++b)d[b-1]=arguments[b];this.component=a;this.key=$jscomp.makeIterator(d).next().value;this.childPath=d.slice(1,d.length);this.path=d;this.value=null;this.changeListeners=[];this.processValue=function(a){return a};this.disabled=!1;this.component.addListener(this.key,this);this.component.state&&
this.handleUpdate(this.component.state[this.key])};f.prototype.extract=function(a){return a.value instanceof f?(a.value.disabled=!0,this.extract(a.value)):a};f.prototype.handleUpdate=function(a){var c=this;this.value=this.processValue(this.getShallowValue(a),this.value);if(this.disabled)return"function"===typeof this.disabled&&this.disabled(this.value),this.value;if(this.value instanceof f){if(this.value.disabled)return this.value;this.value=this.extract(this.value);this.value.disabled=function(a){c.changeListeners.forEach(function(c){return c(a)})}}this.changeListeners.forEach(function(a){return a(c.value)});
return this.value};f.prototype.onValueChange=function(a){this.changeListeners.push(a);a(this.value)};f.prototype.process=function(a){this.processValue=a;this.handleUpdate(this.value);return this};f.prototype.getShallowValue=function(a){if("object"!==typeof a||!this.childPath)return a;for(var c=$jscomp.makeIterator(this.childPath),d=c.next();!d.done;d=c.next())d=d.value,a=null===a||!a[d]&&"number"!==typeof a[d]?null:a[d];return a};var g=function(a){var c=a.listener,d=a.element;this.attributeKey=a.attributeKey;
this.listener=c;this.element=d;this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};g.prototype.attach=function(){var a=this;this.element.attributeListeners||(this.element.attributeListeners=[]);this.element.attributeListeners.push(this);this.listener.onValueChange(this.handleValueChange);this.attached=!0;"model"===this.attributeKey&&(/(checkbox|radio)/.test(this.element.getAttribute("type"))?this.element.onchange=function(c){a.listener.component[a.listener.key]=c.target.checked}:
this.element.oninput=function(c){a.listener.component[a.listener.key]=c.target.value});return this};g.prototype.handleValueChange=function(a){if("value"===this.attributeKey||"model"===this.attributeKey)/(checkbox|radio)/.test(this.element.getAttribute("type"))?this.element.checked=a:this.element.value=a;else{var c={};A(this.element,(c[this.attributeKey]=a,c))}};g.prototype.updateElement=function(a){return this.element=a};var l=function(a){var c=a.listener,d=a.element;this.styleKey=a.styleKey;this.listener=
c;this.element=d;this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};l.prototype.attach=function(){this.element.styleListeners||(this.element.styleListeners=[]);this.element.styleListeners.push(this);this.listener.onValueChange(this.handleValueChange);this.attached=!0;return this};l.prototype.handleValueChange=function(a){n(this.element,this.styleKey,a)};l.prototype.updateElement=function(a){return this.element=a};var n=function(a,c,d){if("undefined"!==typeof d){if(d instanceof
f)return(new l({styleKey:c,listener:d,element:a})).attach(),a[c];a=a.style;d="number"!==typeof d||Number.isNaN(d)?d:d+"px";return a[c]=d}},r=function(a,c){"string"===typeof c&&(a.style=c);if("object"!==typeof c||Array.isArray(c))return a.style;if(c instanceof f)return(new g({attributeKey:"style",listener:c,element:a})).attach(),a.style;for(var d in c)n(a,d,c[d]);return a.style},E=function(a){return Array.isArray(a)?a.filter(function(a){return a}).join(" "):a},A=function(a,c){var d={},b;for(b in c)d.value=
c[b],"undefined"!==typeof d.value&&(d.value||"number"===typeof d.value?"style"===b.toLowerCase()?r(a,d.value):d.value instanceof f?(new g({attributeKey:b,listener:d.value,element:a})).attach():"class"===b.toLowerCase()||"classname"===b.toLowerCase()?a.setAttribute("class",E(d.value)):"on"===b.substring(0,2).toLowerCase()?"onsubmit"===b.substring(0,8).toLowerCase()?a[b]=function(a){return function(c){for(var d=[],b=$jscomp.makeIterator(c.target.elements||[]),m=b.next();!m.done;m=b.next())m=m.value,
""!==m.name&&(m={name:m.name,el:m,type:m.type,default:m.defaultValue,value:m.value,set:function(a){this.el.value=a},reset:function(a){this.el.value=a;this.el.defaultValue=a}},d.push(m),Object.defineProperty(d,m.name,{value:m}));return a.value(c,d)}}(d):a[b]=d.value:(a.setAttribute(b,d.value),d={value:d.value}):a.removeAttribute(b))},F=function(){for(var a="",c=0;32>c;c++){var d=16*Math.random()|0;if(8===c||12===c||16===c||20===c)a+="-";a+=(12===c?4:16===c?d&3|8:d).toString(16)}return a},t=function(){this.store=
{}};t.prototype.addListener=function(a,c){"undefined"===typeof this.store[a]&&this.createItemWrapper(a);this.store[a].listeners.push(c);c.handleUpdate(this.store[a].value);return c};t.prototype.setState=function(a){for(var c=$jscomp.makeIterator(Object.keys(a)),d=c.next();!d.done;d=c.next())d=d.value,"undefined"===typeof this.store[d]&&this.createItemWrapper(d),this.store[d].value=a[d],this.triggerListeners(d);return a};t.prototype.createItemWrapper=function(a){return this.store[a]={listeners:[],
value:null}};t.prototype.triggerListeners=function(a){var c=this.store[a];c&&c.listeners.forEach(function(a){return a.handleUpdate(c.value)})};var u=function(a){if(a instanceof Node){for(var c=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,function(a){return a&&("function"===typeof a.destroy||a.listeners)},!1),d;d=c.nextNode();)d.listeners=null,d.destroy(),d.parentNode&&d.parentNode.removeChild(d);a.destroy&&a.destroy();a.parentNode&&a.parentNode.removeChild(a)}},B=function(a,c,d){if(Array.isArray(c)||
Array.isArray(a))d=!0;if(!d){d=a.nodeType;var b=c.nodeType;if(d===b&&(3===d||8===b))return a.isEqualNode(c)||(a.nodeValue=c.nodeValue,u(c)),a;if(c.destroy||a.destroy||c.__async||c.__async||a.listeners||c.listeners||3===d||3===b)return a.isEqualNode(c)||(a.parentNode.insertBefore(c,a),u(a)),c;d=a.attributes;for(var k=c.attributes,f,e,g,h=k.length-1;0<=h;--h)e=k[h],g=e.name,b=e.namespaceURI,f=e.value,b?(g=e.localName||g,e=a.getAttributeNS(b,g),e!==f&&a.setAttributeNS(b,g,f)):a.hasAttribute(g)?(e=a.getAttribute(g),
e!==f&&("null"===f||"undefined"===f?a.removeAttribute(g):a.setAttribute(g,f))):a.setAttribute(g,f);for(k=d.length-1;0<=k;--k)e=d[k],!1!==e.specified&&(g=e.name,(b=e.namespaceURI)?(g=e.localName||g,c.hasAttributeNS(b,g)||a.removeAttributeNS(b,g)):c.hasAttributeNS(null,g)||a.removeAttribute(g))}d=[].concat($jscomp.arrayFromIterable(a.childNodes||a));b=[].concat($jscomp.arrayFromIterable(c.childNodes||c));g=Math.max(d.length,b.length);for(k=0;k<g;k++)d[k]&&b[k]?B(d[k],b[k]):d[k]&&!b[k]?u(d[k]):!d[k]&&
b[k]&&a.appendChild(b[k]);u(c);return a},p=function(){};p.prototype.fuse=function(a){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];return B.apply(null,[].concat($jscomp.arrayFromIterable(c)))};p.prototype.destroy=function(a){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];return u.apply(null,[].concat($jscomp.arrayFromIterable(c)))};var v=new p,x=function(a){if("object"!==typeof a||null===a)return a;if(Array.isArray(a))return a.map(x);var c={},d;for(d in a)a.hasOwnProperty(d)&&
(c[d]=x(a[d]));return c},C=function(a){return"production"===process.env.NODE_ENV||"test"===process.env.NODE_ENV?!1:a&&a()},h=function(a,c){var d=this;this.addNonEnumerableProperties({$id:F(),$name:this.constructor.name,$config:"function"===typeof this.config?this.config():{listen:!0},$store:{},$events:{},$privateStore:new t});this.on="function"===typeof this.on?this.on():{};this.children=[];this.copyObjToInstance(b,"head");this.state=Object.assign("function"===typeof this.state?this.state():{},c||
{});C(function(){return Object.freeze(d.state)});a&&this.setChildren(a)};h.prototype.render=function(){if("function"!==typeof this.view)return"";var a=this.view();if(Array.isArray(a))for(var c=0;c<a.length;c++)a[c].destroy=this.destroy.bind(this);else a.destroy=this.destroy.bind(this);return this.html=a};h.prototype.setProps=function(a){this.setState(a);return this};h.prototype.setChildren=function(a){var c=this;this.children=a;this.setState();for(a=0;a<this.children.length;a++)"function"===typeof this.children[a].when&&
this.children[a].when("update",function(){return c.setState()});return this};h.prototype.copyObjToInstance=function(a,c){var d=this,b;for(b in a){if("undefined"!==typeof this[b])throw Error("[Radi.js] Error: Trying to write for reserved variable `"+b+"`");this[b]=a[b];"head"===c&&this[b].when("update",function(){return d.setState()})}};h.prototype.addNonEnumerableProperties=function(a){for(var c in a)"undefined"===typeof this[c]&&Object.defineProperty(this,c,{value:a[c]})};h.prototype.addListener=
function(a,c){this.$privateStore.addListener(a,c)};h.prototype.mount=function(){this.trigger("mount")};h.prototype.destroy=function(){this.trigger("destroy");this.html&&""!==this.html&&"function"===typeof this.html.remove&&this.html.remove()};h.prototype.when=function(a,c){"undefined"===typeof this.$events[a]&&(this.$events[a]=[]);this.$events[a].push(c)};h.prototype.trigger=function(a,c){"function"===typeof this.on[a]&&this.on[a].call(this,c);if("undefined"!==typeof this.$events[a])for(var d in this.$events[a])this.$events[a][d].call(this,
c)};h.prototype.setState=function(a){var c=this;if("object"===typeof a){var d=x(this.state);this.state=Object.assign(d,a);C(function(){return Object.freeze(c.state)});this.$config.listen&&this.$privateStore.setState(a)}!this.$config.listen&&"function"===typeof this.view&&this.html&&v.fuse(this.html,this.view());this.trigger("update");return this.state};h.isComponent=function(){return!0};var y=function(a,c){var d=document.createDocumentFragment();c="string"===typeof c?document.getElementById(c):c;
var b=a instanceof h||a.render?a.render():a;if(Array.isArray(b))for(var e=0;e<b.length;e++)y(b[e],d);else q(d)(b);c.appendChild(d);"function"!==typeof c.destroy&&(c.destroy=function(){for(var a=0;a<b.length;a++)v.destroy(b[a])});"function"===typeof a.mount&&a.mount();return c},D=function(a){if(a instanceof DocumentFragment)return Array.from(a.childNodes);var c=document.createDocumentFragment();a=Array.isArray(a)?a:[a];a.forEach(q(c));return D(c)},w=function(a){var c=a.element;this.listener=a.listener;
this.element=c;this.listenerAsNode=[];this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};w.prototype.attach=function(){this.element.listeners||(this.element.listeners=[]);this.element.listeners.push(this);this.listener.onValueChange(this.handleValueChange);this.attached=!0;return this};w.prototype.handleValueChange=function(a){var c=D(a);a=0;c=$jscomp.makeIterator(c);for(var b=c.next();!b.done;b=c.next())b=b.value,this.listenerAsNode[a]?this.listenerAsNode[a]=v.fuse(this.listenerAsNode[a],
b):this.listenerAsNode.push(this.element.appendChild(b)),a+=1;if(a<this.listenerAsNode.length)for(a=this.listenerAsNode.splice(a-this.listenerAsNode.length),a=$jscomp.makeIterator(a),b=a.next();!b.done;b=a.next())v.destroy(b.value)};w.prototype.updateElement=function(a){return this.element=a};var q=function(a){return function(c){c||"number"===typeof c||(c="");if(c instanceof h)y(c,a);else if(c instanceof f)(new w({listener:c,element:a})).attach();else if(Array.isArray(c))c.forEach(q(a));else if("function"===
typeof c){var b=document.createElement("div"),e=a.appendChild(b);e.__async=!0;c().then(function(a){"function"===typeof a.default&&a.default.isComponent&&a.default.isComponent()?q(e)(new a.default):q(e)(a.default)}).catch(console.warn)}else c instanceof Node?a.appendChild(c):a.appendChild(document.createTextNode(c))}};p=function(a,c){for(var b=[],e=1;e<arguments.length;++e)b[e-1]=arguments[e];return new (Function.prototype.bind.apply(f,[null].concat([a],$jscomp.arrayFromIterable(b))))};var G=function(){Object.values(e).forEach(function(a){if("function"===
typeof a.onMount)a.onMount(a)})},z={version:"0.3.1",activeComponents:e,r:function(a,c,b){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if("function"===typeof a&&a.isComponent)return(new a(d)).setProps(c||{});if("function"===typeof a)return e=c||{},e.children=d,a(e);"string"===typeof a?e="template"!==a?document.createElement(a):document.createDocumentFragment():(console.warn("[Radi.js] Warn: Creating a JSX element whose query is not of type string, automatically converting query to string."),
e=document.createElement(a.toString()));null!==c&&A(e,c);d.forEach(q(e));return e},listen:p,l:p,component:h,Component:h,action:function(a,b,d){var c=d.value;d.value=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];this.setState.call(this,c.call.apply(c,[].concat([this],$jscomp.arrayFromIterable(b))))};return d},headless:function(a,c){c=new c;c.mount();return b["$".concat(a)]=c},mount:y,freeze:function(){},unfreeze:function(){G()},plugin:function(a,b){for(var c=[],e=1;e<arguments.length;++e)c[e-
1]=arguments[e];return a.apply(null,[].concat([z],$jscomp.arrayFromIterable(c)))}};window&&(window.$Radi=z);module.exports=z});
