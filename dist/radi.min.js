var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,f){b!=Array.prototype&&b!=Object.prototype&&(b[e]=f.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var e=0;return $jscomp.iteratorPrototype(function(){return e<b.length?{done:!1,value:b[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();var e=b[Symbol.iterator];return e?e.call(b):$jscomp.arrayIterator(b)};
$jscomp.polyfill=function(b,e,f,k){if(e){f=$jscomp.global;b=b.split(".");for(k=0;k<b.length-1;k++){var h=b[k];h in f||(f[h]={});f=f[h]}b=b[b.length-1];k=f[b];e=e(k);e!=k&&null!=e&&$jscomp.defineProperty(f,b,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Object.is",function(b){return b?b:function(b,f){return b===f?0!==b||1/b===1/f:b!==b&&f!==f}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,f){var e=this;e instanceof String&&(e=String(e));var h=e.length;for(f=f||0;f<h;f++)if(e[f]==b||Object.is(e[f],b))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,e,f){if(null==b)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,f){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,f||0)}},"es6","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(b){function e(){this.batch_=null}function f(b){return b instanceof h?b:new h(function(l,e){l(b)})}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;e.prototype.asyncExecute=function(b){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(b);return this};e.prototype.asyncExecuteBatch_=function(){var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})};var k=$jscomp.global.setTimeout;e.prototype.asyncExecuteFunction=function(b){k(b,
0)};e.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=this.batch_;this.batch_=[];for(var e=0;e<b.length;++e){var f=b[e];delete b[e];try{f()}catch(p){this.asyncThrow_(p)}}}this.batch_=null};e.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var h=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var e=this.createResolveAndReject_();try{b(e.resolve,e.reject)}catch(t){e.reject(t)}};h.prototype.createResolveAndReject_=
function(){function b(b){return function(l){f||(f=!0,b.call(e,l))}}var e=this,f=!1;return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};h.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof h)this.settleSameAsPromise_(b);else{a:switch(typeof b){case "object":var e=null!=b;break a;case "function":e=!0;break a;default:e=!1}e?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};h.prototype.resolveToNonPromiseObj_=function(b){var e=
void 0;try{e=b.then}catch(t){this.reject_(t);return}"function"==typeof e?this.settleSameAsThenable_(e,b):this.fulfill_(b)};h.prototype.reject_=function(b){this.settle_(2,b)};h.prototype.fulfill_=function(b){this.settle_(1,b)};h.prototype.settle_=function(b,e){if(0!=this.state_)throw Error("Cannot settle("+b+", "+e|"): Promise already settled in state"+this.state_);this.state_=b;this.result_=e;this.executeOnSettledCallbacks_()};h.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=
this.onSettledCallbacks_,e=0;e<b.length;++e)b[e].call(),b[e]=null;this.onSettledCallbacks_=null}};var m=new e;h.prototype.settleSameAsPromise_=function(b){var e=this.createResolveAndReject_();b.callWhenSettled_(e.resolve,e.reject)};h.prototype.settleSameAsThenable_=function(b,e){var f=this.createResolveAndReject_();try{b.call(e,f.resolve,f.reject)}catch(p){f.reject(p)}};h.prototype.then=function(b,e){function f(b,e){return"function"==typeof b?function(e){try{k(b(e))}catch(x){l(x)}}:e}var k,l,m=new h(function(b,
e){k=b;l=e});this.callWhenSettled_(f(b,k),f(e,l));return m};h.prototype.catch=function(b){return this.then(void 0,b)};h.prototype.callWhenSettled_=function(b,e){function f(){switch(h.state_){case 1:b(h.result_);break;case 2:e(h.result_);break;default:throw Error("Unexpected state: "+h.state_);}}var h=this;null==this.onSettledCallbacks_?m.asyncExecute(f):this.onSettledCallbacks_.push(function(){m.asyncExecute(f)})};h.resolve=f;h.reject=function(b){return new h(function(e,f){f(b)})};h.race=function(b){return new h(function(e,
h){for(var k=$jscomp.makeIterator(b),l=k.next();!l.done;l=k.next())f(l.value).callWhenSettled_(e,h)})};h.all=function(b){var e=$jscomp.makeIterator(b),k=e.next();return k.done?f([]):new h(function(b,h){function l(e){return function(f){m[e]=f;p--;0==p&&b(m)}}var m=[],p=0;do m.push(void 0),p++,f(k.value).callWhenSettled_(l(m.length-1),h),k=e.next();while(!k.done)})};return h},"es6","es3");$jscomp.owns=function(b,e){return Object.prototype.hasOwnProperty.call(b,e)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,e){for(var f=1;f<arguments.length;f++){var k=arguments[f];if(k)for(var h in k)$jscomp.owns(k,h)&&(b[h]=k[h])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
$jscomp.iteratorFromArray=function(b,e){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var f=0,k={next:function(){if(f<b.length){var h=f++;return{value:e(h,b[h]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
(function(b,e){"object"===typeof exports&&"undefined"!==typeof module?module.exports=e():"function"===typeof define&&define.amd?define(e):b.Radi=e()})(this,function(){function b(a,c,d){void 0===d&&(d={});return q.CUSTOM_ATTRIBUTES[a]={name:a,caller:c,allowedTags:d.allowedTags||null,addToElement:d.addToElement}}function e(a,c){return q.CUSTOM_TAGS[a]={name:a,render:c||function(){}}}function f(a){k("destroy",a);a.__radiRef=void 0;if(1===a.nodeType)for(a=a.firstChild;a;)f(a),a=a.nextSibling}function k(a,
c,d){void 0===d&&(d=c);var g=document.createEvent("Event");g.initEvent(a,!1,!0);"function"===typeof c.dispatchEvent&&(c._eventFired=!0,c.dispatchEvent(g,d));return c}function h(a){return a.charAt(0).toUpperCase()+a.substr(1)}function m(a){return a.reduce(function(a,d){return a.concat(Array.isArray(d)?m(d):d)},[])}function l(a,c){for(var d=[],g=arguments.length-2;0<g--;)d[g]=arguments[g+2];g="number"===typeof a?""+a:a;var b=c||{};d=m(d);if(g instanceof Promise||g&&"LazyPromise"===g.constructor.name)g=
"await",b={src:a};return{type:g,props:b,children:d}}function T(a,c){return"function"===typeof a.beforedestroy?a.beforedestroy(c):c()}function t(a){m([a]).map(function(a){if(a instanceof Node){var c=a.parentNode;a instanceof Node&&c instanceof Node&&T(a,function(){c.removeChild(a);f(a)})}})}function p(a,c,d){var g=m([a]);return g.map(function(a){a=u(a,c);if(Array.isArray(a))return p(a,c,d);if(d&&d.parentNode){a:{var b=d,e=d.parentNode;e||(e=b.parentNode);if(a instanceof Node){if(null===b||void 0===
b){d=e.insertBefore(a,b);break a}if(b instanceof Node){d=e.insertBefore(a,b.nextSibling);break a}}d=a}k("mount",a);return d}if(!c)return console.log("[Radi] Mount canceled"),g;b=c.appendChild(a);k("mount",a);return b})}function H(a,c){return function(d,g){if(a[0]===d)return!1;d!==g&&(a[0]=d,c.dispatch(function(){return d}));return!0}}function J(a,c){var d=this;void 0===c&&(c=[]);if(!a)return a;if(this&&a&&"function"===typeof a.subscribe){var g=[];0<c.length?a.subscribe(function(a,b){if(g[0]===a)return!1;
a!==b&&(d.dispatch(function(){return d.setPartial(c,a)}),g[0]=a);return!0}):(this.subscribe(H(g,a)),a.subscribe(H(g,this)));return a.get()}if(a&&"object"===typeof a){var b=Array.isArray(a)?Array(a.length):{},e;for(e in a)a.hasOwnProperty(e)&&(b[e]=J.call(d,a[e],c.concat(e)));return b}return a}function U(){var a=this;this.dependencies={};this.add=function(c,d){c=c[0];"undefined"===typeof a.dependencies[c]&&(a.dependencies[c]=[]);0>a.dependencies[c].indexOf(d)&&a.dependencies[c].push(d);a.dependencies[c]=
a.dependencies[c].filter(function(a){return a.dom instanceof Node?a.dom.isConnected:!0})};this.remove=function(c,d){c=c[0];d=(a.dependencies[c]||[]).indexOf(d);0<=d&&a.dependencies[c].splice(d,1)};this.component=function(c,d){d&&(a.add(c,d),d.__onDestroy=function(){a.remove(c,d)});return d};this.fn=function(a){return function(c){return a(c)}};this.trigger=function(c,d,g){a.dependencies[c]&&a.dependencies[c].forEach(function(a){a=a.update||a;0>B.indexOf(a)&&B.push(a);return a(d,g)})}}function I(a,
c){for(var d=0;d<a.length;)"undefined"===typeof c?d++:c=c[a[d++]];return c}function V(a,c,d,g,b,e){void 0===e&&(e="");var f=a.setPartial(d,g);b?a.update(f):(c=function(){return f},Object.defineProperty(c,"name",{value:e,writable:!1}),a.dispatch(c))}function x(a,c){return Array.isArray(a)?a.concat(c):a&&"object"===typeof a?Object.assign({},a,c):"undefined"!==typeof c?c:a}function z(a){var c=this;void 0===a&&(a={});var d=x(a),g=function(a){void 0===a&&(a=function(a){return a});return new y(a,g,b)},
b=new U,e=W,f;Object.defineProperty(g,"state",{get:function(){q.CURRENT_COMPONENT&&b.component("*",q.CURRENT_COMPONENT);return g.get()}});g.getInitial=function(){return h};g.get=function(a){var c=e(d);return a?I("string"===typeof a?a.split("."):a,c):c};g.setPartial=function(a,b){var g=Array.isArray(d)?[]:{};return a.length?(g[a[0]]=1<a.length?c.setPartial(a.slice(1),b,d[a[0]]):b,x(d,g)):b};g.bind=function(a,c,d){void 0===c&&(c=function(a){return a});void 0===d&&(d=function(a){return a});var b=Array.isArray(a)?
a:a.split(".");return{model:g(function(a){return c(I(b,a))}),oninput:function(c){c=c.target.value;return V(g,g.get(),b,d(c),!1,"Bind:"+a)}}};g.update=function(a){d=x(d,a);a=g.get();b.trigger("*",a,f);f=a;B=[];return d};g.dispatch=function(a){for(var c=[],b=arguments.length-1;0<b--;)c[b]=arguments[b+1];c=a.apply(void 0,[d].concat(c));return g.update(c)};g.willDispatch=function(a){for(var c=[],d=arguments.length-1;0<d--;)c[d]=arguments[d+1];return function(){for(var d=[],b=arguments.length;b--;)d[b]=
arguments[b];return g.dispatch.apply(g,[a].concat(c,d))}};g.subscribe=function(a){b.add("*",a);a(g.get(),null);return g};g.unsubscribe=function(a){b.remove("*",a)};g.map=function(a){var c=e;e=function(){for(var d=[],b=arguments.length;b--;)d[b]=arguments[b];return a(c.apply(void 0,d))};return g};Object.defineProperty(g,"interface",{get:function(){return[g.state,g.dispatch,g.subscribe,g.unsubscribe]}});var h=J.call(g,a);return g}function u(a,c){if(Array.isArray(a))return a=m(a).map(function(a){return u(a,
c)}),0===a.length?u([null],c):a;if(a&&a.__esModule&&a.default)return u(a.default,c);if(a&&"function"===typeof a.type||"function"===typeof a){var d=function(a,c){return c&&Array.isArray(b.dom)?b.dom[c]=a:b.dom=a},b=new v(a.type||a,a.props,a.children),e=q.CURRENT_COMPONENT;q.CURRENT_COMPONENT=b;var f=b.render(a.props,a.children,c),h;f&&"function"===typeof f.addEventListener&&(f.addEventListener("mount",function(){"string"===typeof b.style&&(h=document.createElement("style"),h.innerHTML=b.style,document.head.appendChild(h));
b.trigger("mount",f)},{passive:!0,once:!0},!1),f.addEventListener("destroy",function(){b.trigger("destroy",f);h instanceof Node&&document.head.removeChild(h)},{passive:!0,once:!0},!1));Array.isArray(f)&&f.forEach(function(a){a&&"function"===typeof a.addEventListener&&(a.addEventListener("mount",function(){"string"===typeof b.style&&(h=document.createElement("style"),h.innerHTML=b.style,document.head.appendChild(h));b.trigger("mount",a)},{passive:!0,once:!0},!1),a.addEventListener("destroy",function(){b.trigger("destroy",
a);h instanceof Node&&document.head.removeChild(h)},{passive:!0,once:!0},!1))});Array.isArray(f)?f[0].__radiRef=d:f.__radiRef=d;q.CURRENT_COMPONENT=e;return f}if(a instanceof Node)return a;if(a instanceof y)return a.render();if(a instanceof Promise)return u({type:"await",props:{src:a},children:[]},c);if(-1<["string","number"].indexOf(typeof a))return document.createTextNode(a);if(!a)return document.createComment("");if("undefined"===typeof a.type||"undefined"===typeof a.props||"undefined"===typeof a.children)return document.createTextNode(JSON.stringify(a));
if("undefined"!==typeof q.CUSTOM_TAGS[a.type])return u(Object.assign({},a,{type:q.CUSTOM_TAGS[a.type].render}),c);var k="svg"===a.type||c instanceof SVGElement?document.createElementNS("http://www.w3.org/2000/svg",a.type):document.createElement(a.type);X(k,a.props);a.children&&m(a.children||[]).forEach(function(a){a=a instanceof Node?a:u(a,k);p(a,k)});return k}function C(a,c){return a instanceof y?c(a.getValue(function(d){return c(a.map(d))})):c(a)}function K(a,c,d){"style"===c&&"string"!==typeof d?
Y(a,d):/^on/.test(c)?Z(a,c,d):"className"===c?a.setAttribute("class",d):"boolean"===typeof d?d?(a.setAttribute(c,d),a[c]=!0):a[c]=!1:("value"===c&&document.activeElement!==a&&(a[c]=d),a.setAttribute(c,d))}function Y(a,c){Object.keys(c).forEach(function(d){C(c[d],function(c){a.style[d]=c})})}function X(a,c){Object.keys(c||{}).forEach(function(d){if("undefined"!==typeof q.CUSTOM_ATTRIBUTES[d]){var b=q.CUSTOM_ATTRIBUTES[d],e=b.allowedTags,f=b.addToElement;b=b.caller;if(!e||e&&0<e.length&&0<=e.indexOf(a.localName))if("function"===
typeof b&&(c[d]=b(a,c[d])),!f)return}C(c[d],function(c){"model"===d?d="value":("class"===d||"className"===d)&&Array.isArray(c)&&(c=c.filter(function(a){return a&&"function"!==typeof a}).join(" "));K(a,d,c)})})}function aa(a,c,d){void 0===d&&(d={});var b=Object.assign({},c,d);Object.keys(b).forEach(function(b){C(c[b],function(c){"model"===b&&(b="value");var g=b,e=d[b];"undefined"===typeof c||!1===c||null===c?/^on/.test(g)||("className"===g?a.removeAttribute("class"):"boolean"===typeof e?(a.removeAttribute(g),
a[g]=!1):a.removeAttribute(g)):e&&c===e||K(a,g,c)})})}function Z(a,c,d){var b=["mount","destroy"];/^on/.test(c)&&a.addEventListener(c.slice(2).toLowerCase(),function(g){0<=b.indexOf(c)?a===g.target&&d(g):"function"===typeof d&&d(g)},!1)}function D(a,c,d,b){void 0===d&&(d=c&&c.parentNode);void 0===b&&(b=null);if(Array.isArray(a)||Array.isArray(c)){b=Array.isArray(a)&&0===a.length?[null]:m([a]);var g=m([c]),e=Array.isArray(c)?c[0]&&c[0].__radiRef:c.__radiRef,f=c;c=b.map(function(a,c){var b=f;a=D(a,
g[c],g[c]&&g[c].parentNode||d,!g[c]&&b);f=Array.isArray(a)?a[0]:a;"function"===typeof e&&0<c&&(f.__radiRef=function(a){return e(a,c)},f.__radiRef(f,c));return a});g.length>b.length&&g.slice(b.length-g.length).forEach(t);"function"===typeof e&&e(c);return c}a=u(a,d);return L(c,a,d,b)}function M(a){return[].reduce.call(a,function(a,b){var c;return Object.assign({},a,(c={},c[b.name]=b.value,c))},{})}function L(a,c,b,g){var d=document.activeElement;if(!a&&(g||b))return p(c,b,g);if("undefined"===typeof c)return t(a),
a;if(a&&b){if(!(3===a.nodeType&&3===c.nodeType&&a.__radiRef||a.nodeType!==c.nodeType&&a.nodeName!==c.nodeName)){3===a.nodeType&&3===c.nodeType&&a.textContent!==c.textContent&&(a.textContent=c.textContent,k("mount",c,a));if(a.childNodes||c.childNodes)for(b=Math.max(a.childNodes.length,c.childNodes.length)-1;0<=b;b--)L(a.childNodes[b],c.childNodes[b]&&c.childNodes[b],a);1===a.nodeType&&1===c.nodeType&&(b=M(a.attributes),c=M(c.attributes),aa(a,c,b));a.__radiRef&&a.__radiRef(a);d.focus();return a}p(c,
b,a);a.__radiRef&&(c.__radiRef=a.__radiRef,c.__radiRef(c));t(a)}d.focus();return c}function N(a){return Array.isArray(a)?a.map(function(a){return a.value}):a.value}function ba(a,c){return Array.isArray(a)?[].reduce.call(c,function(a,c){return c.touched&&!0||a},!1):a.touched}function E(a,c,b){var d=O(a,function(a,c){return{touched:a.touched,value:c}}),e=Object.keys(d).reduce(function(a,c){var b;return Object.assign({},a,(b={},b[c]=N(d[c]),b))},{}),f=[],h;for(h in d){var k=d[h];if("function"===typeof c[h]){var r=
c[h](N(k),e);r=r&&"function"===typeof r.check&&r.check()||r||h+" field is invalid";!0!==r&&f.push({field:h,touched:!!ba(k,a[h]),error:r})}}b(f)}function P(a){return"function"===typeof a?a:function(c){return a||c}}var q={VERSION:"0.5.0",CURRENT_COMPONENT:null,CUSTOM_ATTRIBUTES:{},CUSTOM_TAGS:{},IS_UPDATE:!1,SERVICES:{}},Q=function(a){return!["checkbox","radio"].includes(a.type)||a.checked},ca=function(a){return[].reduce.call(a,function(a,b){return b.selected?a.concat(b.value):a},[])},O=function(a,
c){void 0===c&&(c=function(a,c){return c});return[].reduce.call(a,function(a,b){b.name&&(b.value||""===b.value)&&("checkbox"===b.type?("undefined"===typeof a[b.name]&&(a[b.name]=[]),Q(b)&&(a[b.name]=a[b.name].concat(c(b,b.value)))):Q(b)&&(a[b.name]=b.options&&b.multiple?c(b,ca(b)):c(b,b.value)));return a},{})},B=[],W=function(a){return a},y=function(a,c,b){this.map=a;this.getValue=this.getValue.bind(this);this.render=this.render.bind(this);this.store=c;this.dep=b};y.prototype.getValue=function(a){var c=
this.store.get();this.subbed||(this.subbed=this.dep.add("*",a));return this.cached=this.map(c)};y.prototype.render=function(){var a=this;return function(){return a.getValue(this)}};var v=function(a){this.type=a;this.name=a.name;this.render=this.render.bind(this);this.evaluate=this.evaluate.bind(this);this.update=this.update.bind(this);this.__$events={}};v.prototype.on=function(a,c){var b=this.__$events;a="on"+h(a);b[a]||(b[a]=[]);b[a].push(c);return c};v.prototype.trigger=function(a){for(var c=[],
b=arguments.length-1;0<b--;)c[b]=arguments[b+1];b="on"+h(a);(this.__$events[b]||[]).map(function(a){return a.apply(void 0,c)});"function"===typeof this[b]&&this[b].apply(this,c)};v.prototype.evaluate=function(a,c){this.props=a;this.children=c;return this.node=this.type.call(this,Object.assign({},this.props,{children:this.children}))};v.prototype.render=function(a,c,b){return this.dom=u(this.evaluate(a,c),b)};v.prototype.update=function(a,c){void 0===a&&(a=this.props);void 0===c&&(c=this.children);
var b=this.dom;return this.dom=D(this.evaluate(a,c),b)};var n=function(){};n.prototype.add=function(a,c){for(var b=[],e=arguments.length-2;0<e--;)b[e]=arguments[e+2];if("string"!==typeof a)throw Error("[Radi.js] Service first argument has to be string");if("undefined"!==typeof this[a]||"undefined"!==typeof v.prototype[a])throw Error('[Radi.js] Service "'+a+'" is already in use');if("function"!==typeof c)throw Error("[Radi.js] Service second argument has to be function");b=c.apply(void 0,b);v.prototype[a]=
this[a]=b;return q.SERVICES[a]=b};var A=new n,R=function(a,b,d,e){d=d[b];if("function"!==typeof d)console.warn("[Radi.js] Animation `"+b+"` for node `"+a.nodeName.toLowerCase+"` should be function");else return d(a,e)};b("animation",function(a,b){R(a,"in",b,function(){});a.beforedestroy=function(c){return R(a,"out",b,c)}});b("html",function(a,b){a.addEventListener("mount",function(){a.escape?a.textContent=b:a.innerHTML=b})});b("loadfocus",function(a){a.addEventListener("mount",function(){return setTimeout(function(){return a.focus()},
0)})});b("onsubmit",function(a,b){return function(c){a.prevent&&c.preventDefault();b(c,O(a.elements||{}))}},{allowedTags:["form"],addToElement:!0});var F=new z({},"errorStore"),da=function(a,b,d){var c;return Object.assign({},a,(c={},c[b]=d,c))},ea=0;b("onvalidate",function(a,b){function c(a){F.dispatch(da,e,a)}var e=a.name||"defaultForm"+ea++,f;F.subscribe(function(a){f&&(f.disabled=0<a[e].length)});a.addEventListener("mount",function(d){var e=b(d),g=a.elements;if(e&&"object"===typeof e&&g){d=$jscomp.makeIterator(g);
for(var h=d.next();!h.done;h=d.next()){h=h.value;var k=h.name;if(!h.__radiValidate&&"string"===typeof k&&"function"===typeof e[k]){h.addEventListener("input",function(){E(g,e,c)});h.__radiValidate=!0;h.touched=!1;var l=function(a){a=a.target;a.touched=!0;a.removeEventListener("change",l);E(g,e,c)};h.addEventListener("change",l)}"submit"===h.type&&!0===h.disabled&&(f=h)}E(g,e,c)}},!1)},{allowedTags:["form"]});e("await",function(a){var b=this,d,e=a.src,f=a.waitMs,h=a.transform;void 0===h&&(h=function(a){return a});
var k=a.error;void 0===k&&(k=function(a){return a});var l=a.placeholder;void 0===l&&(l="Loading..");var r=a.value;void 0===r&&(r=null);var m=a.loaded;void 0===m&&(m=!1);if(!e||!(e instanceof Promise||"LazyPromise"===e.constructor.name))return console.warn("[Radi] \x3cawait/\x3e must have `src` as a Promise"),null;m||(l!==r&&(f?d=setTimeout(function(){b.update(Object.assign({},a,{value:l}))},f):r=l),e.then(function(c){clearTimeout(d);b.update(Object.assign({},a,{value:P(h)(c),loaded:!0}))}).catch(function(c){console.error(c);
clearTimeout(d);b.update(Object.assign({},a,{value:P(k)(c),loaded:!0}))}));return r});e("errors",function(a){var b=a.name,d=a.onrender;void 0===d&&(d=function(a){return a});"undefined"===typeof b&&console.warn("[Radi.js] Warn: Every \x3cerrors\x3e tag needs to have `name` attribute!");"function"!==typeof d&&console.warn("[Radi.js] Warn: Every \x3cerrors\x3e tag needs to have `onrender` attribute!");return F(function(a){return l(function(){return a[b]&&d(a[b])})})});var w=new z({}),fa=function(a,b){var c;
return c={},c[b]=!1,c},S=function(a,b,d){var c;return c={},c[b]=d,c};A.add("modal",function(){return{open:function(a){return w.dispatch(S,a,!0)},close:function(a){return w.dispatch(S,a,!1)},onOpen:function(a,b){return w.subscribe(function(c,e){return!0===c[a]&&c[a]!==e[a]&&b()})},onClose:function(a,b){return w.subscribe(function(c,e){return!1===c[a]&&c[a]!==e[a]&&b()})}}});e("modal",function(a){var b=a.name;void 0===b&&(b="default");var d=a.children;"undefined"===typeof b&&console.warn("[Radi.js] Warn: Every \x3cmodal\x3e tag needs to have `name` attribute!");
this.onMount=function(a){return w.dispatch(fa,b)};return l("portal",{},w(function(a){return a[b]&&l("div",{class:"radi-modal",name:b},l("div",{class:"radi-modal-backdrop",onclick:function(){return A.modal.close(b)}}),l.apply(void 0,["div",{class:"radi-modal-content"}].concat(d.slice())))}))});e("portal",function(a){var b=a.children;void 0===b&&(b=[]);var d=a.parent;void 0===d&&(d=a.on||document.body);var e;this.onMount=function(a){p(function(){var a=this;this.onMount=function(b){e=a.dom};return l("portal-body",
{},b)},d)};this.onDestroy=function(a){t(e)};return null});n=function(a){this.value=a;this.rules=[]};n.prototype.register=function(a){var b=this,d=a.validate,e=a.error,f=this.rules.push({type:a.type,validate:function(a){return("string"===typeof a||"number"===typeof a||a)&&d(a)},error:e||"Invalid field"});this.error=function(a){b.rules[f-1].error=a||e;return b};return this};n.prototype.check=function(a){var b=this;"undefined"!==typeof a&&(this.value=a);return this.rules.reduce(function(a,c){return"string"===
typeof a?a:!c.validate(b.value)&&c.error||a},!0)};n.prototype.required=function(){return this.register({type:"required",validate:function(a){return""!==a},error:"Field is required"})};n.prototype.test=function(a){return this.register({type:"test",validate:function(b){return""===b||a.test(b)},error:"Field must be valid"})};n.prototype.includes=function(a){return this.register({type:"includes",validate:function(b){return""===b||Array.isArray(b)&&0<=b.indexOf(a)},error:"Field must include "+a})};n.prototype.excludes=
function(a){return this.register({type:"excludes",validate:function(b){return""===b||Array.isArray(b)&&0>b.indexOf(a)},error:"Field must exclude "+a})};n.prototype.equal=function(a){return this.register({type:"equal",validate:function(b){return""===b||b===a},error:"Field must be equal to "+a})};n.prototype.notEqual=function(a){return this.register({type:"notEqual",validate:function(b){return""===b||b!==a},error:"Field must not be equal to "+a})};n.prototype.min=function(a){return this.register({type:"min",
validate:function(b){return b.length>=a},error:"Min char length is "+a})};n.prototype.max=function(a){return this.register({type:"max",validate:function(b){return b.length<a},error:"Max char length is "+a})};n.prototype.email=function(){return this.register({type:"email",validate:function(a){return""===a||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)},error:"Email is not valid"})};var G={v:q.VERSION,version:q.VERSION,h:l,html:l,Store:z,customTag:e,customAttribute:b,destroy:t,patch:D,mount:p,service:A,Service:A,
Subscribe:function(a){void 0===a&&(a=document);return{on:function(b,d){function c(b,c){var g="undefined"!==typeof c?c:new z(b);l=!0;h=b;k=g;e.forEach(function(b){return a.addEventListener(b,f=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return g.dispatch(function(){return d.apply(void 0,a.concat([b]))})})});return g}void 0===d&&(d=function(a){return a});var e=b.trim().split(" "),f=null,h=null,k=null,l=!1;if("function"!==typeof d)throw Error("[Radi.js] Subscription `"+b+"` must be transformed by function");
c.stop=function(){l&&e.forEach(function(b){return a.removeEventListener(b,f)});return l=!l};c.start=function(){return!l&&c(h,k)};return c}}},Validator:n,plugin:function(a){for(var b=[],d=arguments.length-1;0<d--;)b[d]=arguments[d+1];return a.apply(void 0,[G].concat(b))}};window&&(window.Radi=G);return G});
