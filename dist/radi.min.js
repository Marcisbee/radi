var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,b,e,h){if(b){e=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var f=a[h];f in e||(e[f]={});e=e[f]}a=a[a.length-1];h=e[a];b=b(h);b!=h&&null!=b&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Object.is",function(a){return a?a:function(a,e){return a===e?0!==a||1/a===1/e:a!==a&&e!==e}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,e){var b=this;b instanceof String&&(b=String(b));var f=b.length;for(e=e||0;e<f;e++)if(b[e]==a||Object.is(b[e],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,e){if(null==a)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,e){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,e||0)}},"es6","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function e(a){return a instanceof f?a:new f(function(l,b){l(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};b.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var h=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){h(a,
0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var e=a[b];delete a[b];try{e()}catch(v){this.asyncThrow_(v)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var f=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(m){b.reject(m)}};f.prototype.createResolveAndReject_=
function(){function a(a){return function(l){e||(e=!0,a.call(b,l))}}var b=this,e=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};f.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof f)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};f.prototype.resolveToNonPromiseObj_=function(a){var b=
void 0;try{b=a.then}catch(m){this.reject_(m);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};f.prototype.reject_=function(a){this.settle_(2,a)};f.prototype.fulfill_=function(a){this.settle_(1,a)};f.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.onSettledCallbacks_=null}};var t=new b;f.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};f.prototype.settleSameAsThenable_=function(a,b){var e=this.createResolveAndReject_();try{a.call(b,e.resolve,e.reject)}catch(v){e.reject(v)}};f.prototype.then=function(a,b){function e(a,b){return"function"==typeof a?function(b){try{h(a(b))}catch(x){l(x)}}:b}var h,l,w=new f(function(a,
b){h=a;l=b});this.callWhenSettled_(e(a,h),e(b,l));return w};f.prototype.catch=function(a){return this.then(void 0,a)};f.prototype.callWhenSettled_=function(a,b){function e(){switch(f.state_){case 1:a(f.result_);break;case 2:b(f.result_);break;default:throw Error("Unexpected state: "+f.state_);}}var f=this;null==this.onSettledCallbacks_?t.asyncExecute(e):this.onSettledCallbacks_.push(function(){t.asyncExecute(e)})};f.resolve=e;f.reject=function(a){return new f(function(b,e){e(a)})};f.race=function(a){return new f(function(b,
f){for(var h=$jscomp.makeIterator(a),l=h.next();!l.done;l=h.next())e(l.value).callWhenSettled_(b,f)})};f.all=function(a){var b=$jscomp.makeIterator(a),h=b.next();return h.done?e([]):new f(function(a,f){function l(b){return function(e){m[b]=e;r--;0==r&&a(m)}}var m=[],r=0;do m.push(void 0),r++,e(h.value).callWhenSettled_(l(m.length-1),f),h=b.next();while(!h.done)})};return f},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,e){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var f=b.length,t=a.length;e=Math.max(0,Math.min(e|0,b.length));for(var l=0;l<t&&e<f;)if(b[e++]!=a[l++])return!1;return l>=t}},"es6","es3");$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,b){for(var e=1;e<arguments.length;e++){var h=arguments[e];if(h)for(var f in h)$jscomp.owns(h,f)&&(a[f]=h[f])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var e=0,h={next:function(){if(e<a.length){var f=e++;return{value:b(f,a[f]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
(function(a,b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define(b):a.Radi=b()})(this,function(){function a(c,d){for(var k=[],g=arguments.length-2;0<g--;)k[g]=arguments[g+2];if("string"!==typeof c)throw Error("[Radi.js] Service first argument has to be string");if("function"!==typeof d)throw Error("[Radi.js] Service second argument has to be function");k=d.apply(void 0,k);a.prototype[c]=k;return n.SERVICES[c]=k}function b(c,d,a){void 0===
a&&(a={});return n.CUSTOM_ATTRIBUTES[c]={name:c,caller:d,allowedTags:a.allowedTags||null,addToElement:a.addToElement}}function e(c,d){var a=document.createEvent("Event");a.initEvent(c,!0,!0);"function"===typeof d.dispatchEvent&&(d._eventFired=!0,d.dispatchEvent(a));return d}function h(c){e("destroy",c);var d=c.__radiInstance;d&&(d.trigger("destroy"),d.__onDestroy());c.__radiInstance=null;if(1===c.nodeType)for(c=c.firstChild;c;)h(c),c=c.nextSibling}function f(c){return c.charAt(0).toUpperCase()+c.substr(1)}
function t(c){return c.reduce(function(c,a){return c.concat(Array.isArray(a)?t(a):a)},[])}function l(c,d){for(var a=[],g=arguments.length-2;0<g--;)a[g]=arguments[g+2];g="number"===typeof c?""+c:c;var b=d||{};a=t(a);if(g instanceof Promise||g&&"LazyPromise"===g.constructor.name)g="await",b={src:c};"undefined"!==typeof n.CUSTOM_TAGS[g]&&(g=n.CUSTOM_TAGS[g].render);return{type:g,props:b,children:a}}function w(c,a,k){if("undefined"!==typeof n.CUSTOM_ATTRIBUTES[a]){var d=n.CUSTOM_ATTRIBUTES[a].allowedTags;
if(!d||d&&0<d.length&&0<=d.indexOf(c.localName))if("function"===typeof n.CUSTOM_ATTRIBUTES[a].caller&&n.CUSTOM_ATTRIBUTES[a].caller(c,k),!n.CUSTOM_ATTRIBUTES[a].addToElement)return}"function"===typeof k&&a.startsWith("on")?(a=a.slice(2).toLowerCase(),c.__radiHandlers=c.__radiHandlers||{},c.removeEventListener(a,c.__radiHandlers[a]),c.__radiHandlers[a]=k,c.addEventListener(a,c.__radiHandlers[a])):"checked"===a||"value"===a||"className"===a?c[a]=k:"style"===a&&"object"===typeof k?Object.assign(c.style,
k):"ref"===a&&"function"===typeof k?k(c):"key"===a?c.__radiKey=k:"object"!==typeof k&&"function"!==typeof k&&(k?c.setAttribute(a,k):c.removeAttribute(a))}function m(c,a){var d;void 0===a&&(a=null);var g=a?function(c){return a.appendChild(c)}:function(c){return c};if("string"===typeof c||"number"===typeof c)var b=g(document.createTextNode(c));else if("boolean"===typeof c||null===c||"undefined"===typeof c)b=g(document.createTextNode(""));else if("object"===typeof c&&"function"===typeof c.type)b=D(c,
a);else if("object"===typeof c&&"string"===typeof c.type){g=g(document.createElement(c.type));b=$jscomp.makeIterator((d=[]).concat.apply(d,c.children));for(d=b.next();!d.done;d=b.next())m(d.value,g);for(var f in c.props)w(g,f,c.props[f]);b=g}if(b)return e("mount",b),b;throw Error("Invalid VDOM: "+c+".");}function v(c,a){var d=y.currentComponent;y.currentComponent=c;c=a();y.currentComponent=d;return c}function D(c,a){var d=Object.assign({},c.props,{children:c.children}),g=new z(c.type);g.update=function(){return F(g.dom,
c,a)};g.render=function(a){void 0===a&&(a=g);return v(a,function(){return c.type.call(g,d)})};g.dom=m(g.render(),a);var b;g.dom&&"function"===typeof g.dom.addEventListener&&(g.on("mount",function(){"string"===typeof g.style&&(b=document.createElement("style"),b.innerHTML=g.style,document.head.appendChild(b))},{passive:!0,once:!0},!1),g.on("destroy",function(){b instanceof Node&&document.head.removeChild(b)},{passive:!0,once:!0},!1));g.dom.__radiInstance=g;g.trigger("mount",g.dom,a);return g.dom}function F(c,
a,b){void 0===b&&(b=c.parentNode);var d=Object.assign({},a.props,{children:a.children}),k=c.__radiInstance;return k&&k.self===a.type?r(c,k.render(),b):k.isPrototypeOf(a.type)?(a=D(a,b),b?b.replaceChild(a,c)&&a:a):k.isPrototypeOf(a.type)?null:r(c,a.type(d),b)}function L(a,d){return"function"===typeof a.beforedestroy?a.beforedestroy(d):d()}function r(a,d,b){var c,k;void 0===b&&(b=a.parentNode);var f=b?function(c){return b.replaceChild(c,a)&&c}:function(a){return a};if("object"===typeof d&&"function"===
typeof d.type)return F(a,d,b);if("object"!==typeof d&&a instanceof Text)return a.textContent!==d?f(m(d,b)):a;if("object"===typeof d&&a instanceof Text||"object"===typeof d&&a.nodeName!==d.type.toUpperCase())return f(m(d,b));if("object"===typeof d&&a.nodeName===d.type.toUpperCase()){var p={};f=document.activeElement;(c=[]).concat.apply(c,a.childNodes).filter(function(a){return!a.__radiRemoved}).forEach(function(a,c){p[a.__radiKey||"__index_"+c]=a});(k=[]).concat.apply(k,d.children).forEach(function(c,
d){d=c.props&&(c.props.key||"__index_"+d);if(p[d])e("update",r(p[d],c)),delete p[d];else if(c=p[d]?r(p[d],c):m(c,a))a.appendChild(c),delete p[d]});c=function(a){p[a].__radiRemoved=!0;L(p[a],function(){h(p[a]);p[a].remove()})};for(var u in p)c(u);u=$jscomp.makeIterator(a.attributes);for(c=u.next();!c.done;c=u.next())a.removeAttribute(c.value.name);for(var G in d.props)w(a,G,d.props[G]);f.focus();return a}return null}function E(a,d){return function(c,b){if(a[0]===c)return!1;c!==b&&(a[0]=c,d.dispatch(function(){return c}));
return!0}}function x(a,d){var c=this;void 0===d&&(d=[]);if(!a)return a;if(this&&a&&"function"===typeof a.subscribe){var b=[];0<d.length?a.subscribe(function(a,g){if(b[0]===a)return!1;a!==g&&(c.dispatch(function(){return c.setPartial(d,a)}),b[0]=a);return!0}):(this.subscribe(E(b,a)),a.subscribe(E(b,this)));return a.get()}if("object"===typeof a){var e=Array.isArray(a)?Array(a.length):{},f;for(f in a)a.hasOwnProperty(f)&&(e[f]=x.call(c,a[f],d.concat(f)));return e}return a}function H(a,d,b){void 0===
b&&(b=[]);return new Proxy(a,{get:function(c,k){c=b.concat(k);if("object"===typeof a[k])return H(a[k],d,c);"function"===typeof d&&d(c);return a[k]}})}function M(){var a=this;this.dependencies={};this.add=function(c,b){c=c[0];"undefined"===typeof a.dependencies[c]&&(a.dependencies[c]=[]);0>a.dependencies[c].indexOf(b)&&a.dependencies[c].push(b)};this.remove=function(c,b){c=c[0];b=(a.dependencies[c]||[]).indexOf(b);0<=b&&a.dependencies[c].splice(b,1)};this.fn=function(c){return function(b){var d=y.currentComponent;
d&&(a.add(b,d),d.on("destroy",function(){a.remove(b,d)}));return c(b)}};this.trigger=function(c,b,g){a.dependencies[c]&&a.dependencies[c].forEach(function(a){return(a.update?a.update:a)(b,g)})}}function A(a,b){var c=this;void 0===a&&(a={});void 0===b&&(b=function(){});var d=Object.assign({},a),e=function(){return H(e.get(),f.fn(b))},f=new M,h=function(a){return a};e.getInitial=function(){return u};e.get=function(){return h(d)};e.setPartial=function(a,b){var g=Array.isArray(d)?[]:{};if(a.length){g[a[0]]=
1<a.length?c.setPartial(a.slice(1),b,d[a[0]]):b;a=d;b=Array.isArray(a)?[]:{};for(var e in a)b[e]=a[e];for(var k in g)b[k]=g[k]}return b};e.update=function(a){var c=Object.keys(a),b=d;d=Object.assign({},d,a);f.trigger("*",e.get(),b);c.forEach(function(a){return f.trigger(a,e.get(),b)});return d};e.dispatch=function(a){for(var c=[],b=arguments.length-1;0<b--;)c[b]=arguments[b+1];c=a.apply(void 0,[d].concat(c));return e.update(c)};e.willDispatch=function(a){for(var c=[],b=arguments.length-1;0<b--;)c[b]=
arguments[b+1];return function(){for(var b=[],d=arguments.length;d--;)b[d]=arguments[d];return e.dispatch.apply(e,[a].concat(c,b))}};e.subscribe=function(a){f.add("*",a);a(e.get(),null);return e};e.unsubscribe=function(a){f.remove("*",a)};e.map=function(a){var c=h;h=function(){for(var b=[],d=arguments.length;d--;)b[d]=arguments[d];return a(c.apply(void 0,b))};return e};var u=x.call(e,a);return e}function B(a,b,e){var c=I(a,function(a,c){return{touched:a.touched,value:c}});a=Object.keys(c).reduce(function(a,
b){var d;return Object.assign({},a,(d={},d[b]=c[b].value,d))},{});var d=[],k;for(k in c){var f=c[k];if("function"===typeof b[k]){var h=b[k](f.value,a);h=h&&"function"===typeof h.check&&h.check()||h||k+" field is invalid";!0!==h&&d.push({field:k,touched:!!f.touched,error:h})}}e(d)}var n={VERSION:"0.5.0",CUSTOM_ATTRIBUTES:{},CUSTOM_TAGS:{},SERVICES:{}},N=function(a){return[].reduce.call(a,function(a,c){return c.selected?a.concat(c.value):a},[])},I=function(a,b){void 0===b&&(b=function(a,c){return c});
return[].reduce.call(a,function(a,c){var d;if(d=c.name&&(c.value||""===c.value))d=!["checkbox","radio"].includes(c.type)||c.checked;d&&(a[c.name]="checkbox"===c.type?(a[c.name]||[]).concat(b(c,c.value)):c.options&&c.multiple?b(c,N(c)):b(c,c.value));return a},{})},z=function(a,b){this.self=a;this.name=b||a.name;this.__$events={}};z.prototype.on=function(a,b){var c=this.__$events;a="on"+f(a);c[a]||(c[a]=[]);c[a].push(b);return b};z.prototype.trigger=function(a){for(var c,b=[],e=arguments.length-1;0<
e--;)b[e]=arguments[e+1];e="on"+f(a);(this.__$events[e]||[]).map(function(a){return a.apply(void 0,b)});"function"===typeof this[e]&&this[e].apply(this,b);"function"===typeof this.self[e]&&(c=this.self)[e].apply(c,b)};var y={currentComponent:null},J=function(a,b,e,f){e=e[b];if("function"!==typeof e)console.warn("[Radi.js] Animation `"+b+"` for node `"+a.nodeName.toLowerCase+"` should be function");else return e(a,f)};b("animation",function(a,b){J(a,"in",b,function(){});a.beforedestroy=function(c){return J(a,
"out",b,c)}});b("html",function(a,b){var c=function(){a.escape?a.textContent=b:a.innerHTML=b};a.addEventListener("mount",c);a.addEventListener("update",c)});b("loadfocus",function(a){a.addEventListener("mount",function(){return a.focus()})});b("onsubmit",function(a,b){return function(c){a.prevent&&c.preventDefault();b(c,I(a.elements||{}))}},{allowedTags:["form"],addToElement:!0});var K=new A({},"errorStore"),O=function(a,b,e){var c;return Object.assign({},a,(c={},c[b]=e,c))},P=0;b("onvalidate",function(a,
b){function c(a){K.dispatch(O,d,a)}var d=a.name||"defaultForm"+P++,e;K.subscribe(function(a){e&&(e.disabled=0<a[d].length)});a.addEventListener("mount",function(a){var d=b(a),f=a.target.elements;if(d&&"object"===typeof d&&f){a=$jscomp.makeIterator(f);for(var g=a.next();!g.done;g=a.next()){g=g.value;var k=g.name;if(!g.__radiValidate&&"string"===typeof k&&"function"===typeof d[k]){g.addEventListener("input",function(){B(f,d,c)});g.__radiValidate=!0;g.touched=!1;var h=function(a){a=a.target;a.touched=
!0;a.removeEventListener("change",h);B(f,d,c)};g.addEventListener("change",h)}"submit"===g.type&&!0===g.disabled&&(e=g)}B(f,d,c)}},!1)},{allowedTags:["form"]});var q=function(a){this.value=a;this.rules=[]};q.prototype.register=function(a){var c=this,b=a.validate,e=a.error,f=this.rules.push({type:a.type,validate:function(a){return("string"===typeof a||"number"===typeof a||a)&&b(a)},error:e||"Invalid field"});this.error=function(a){c.rules[f-1].error=a||e;return c};return this};q.prototype.check=function(a){var c=
this;"undefined"!==typeof a&&(this.value=a);return this.rules.reduce(function(a,b){return"string"===typeof a?a:!b.validate(c.value)&&b.error||a},!0)};q.prototype.required=function(){return this.register({type:"required",validate:function(a){return""!==a},error:"Field is required"})};q.prototype.test=function(a){return this.register({type:"test",validate:function(b){return""===b||a.test(b)},error:"Field must be valid"})};q.prototype.equal=function(a){return this.register({type:"equal",validate:function(b){return""===
b||b===a},error:"Field must be equal to "+a})};q.prototype.notEqual=function(a){return this.register({type:"notEqual",validate:function(b){return""===b||b!==a},error:"Field must not be equal to "+a})};q.prototype.min=function(a){return this.register({type:"min",validate:function(b){return b.length>=a},error:"Min char length is "+a})};q.prototype.max=function(a){return this.register({type:"max",validate:function(b){return b.length<a},error:"Max char length is "+a})};q.prototype.email=function(){return this.register({type:"email",
validate:function(a){return""===a||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)},error:"Email is not valid"})};var C={v:n.VERSION,version:n.VERSION,h:l,html:l,Store:A,customTag:function(a,b){return n.CUSTOM_TAGS[a]={name:a,render:b||function(){}}},customAttribute:b,patch:r,mount:m,service:a,Subscribe:function(a){void 0===a&&(a=document);return{on:function(b,c){function d(b,d){var g=d||new A(b||{});l=!0;h=b;k=g;e.map(function(b){return a.addEventListener(b,f=function(){for(var a=[],d=arguments.length;d--;)a[d]=
arguments[d];return g.dispatch(function(d){return Object.assign({},d,c.apply(void 0,a.concat([b])))})})});return g}void 0===c&&(c=function(a){return a});var e=b.trim().split(" "),f=null,h=null,k=null,l=!1;if("function"!==typeof c)throw Error("[Radi.js] Subscription `"+b+"` must be transformed by function");d.stop=function(){l&&e.map(function(b){return a.removeEventListener(b,f)});return l=!l};d.start=function(){return!l&&d(h,k)};return d}}},Validator:q,plugin:function(a){for(var b=[],c=arguments.length-
1;0<c--;)b[c]=arguments[c+1];return a.apply(void 0,[C].concat(b))}};window&&(window.Radi=C);return C});
