var GLOBALS={HEADLESS_COMPONENTS:{},FROZEN_STATE:!1,VERSION:'0.3.17',ACTIVE_COMPONENTS:{},HTML_CACHE:{}};function getElementAttributes(e){return e.attributes}function fuseAttributes(e,t,n){var r=t.attributes;for(var o=0,a=r.length;o<a;o++){var l=r.item(o),s=l.namespaceURI,i=s?n.getNamedItemNS(s,l.name):n.getNamedItem(l.name);if(i&&i.name==='style'){for(var u of t.style)e.style[u]!==t.style[u]&&(e.style[u]=t.style[u]);continue}(!i||i.value!=l.value)&&(s?e.setAttributeNS(s,l.name,l.value):e.setAttribute(l.name,l.value))}for(var d=n.length;d;){var c=n.item(--d),p=c.namespaceURI;p?(r.getNamedItemNS(p,c.name)||e.removeAttributeNS(p,c.name)):(r.getNamedItem(c.name)||e.removeAttribute(c.name))}}var destroy=e=>{if(!(e instanceof Node)){return}var t=document.createTreeWalker(e,NodeFilter.SHOW_ALL,e=>!0,!1),n,r=[];while(n=t.nextNode()){if(n.listeners){for(var o=0;o<n.listeners.length;o++)n.listeners[o].deattach()}n.listeners=null;if(n.attributeListeners){for(o=0;o<n.attributeListeners.length;o++)n.attributeListeners[o].deattach()}n.attributeListeners=null;if(n.styleListeners){for(o=0;o<n.styleListeners.length;o++)n.styleListeners[o].deattach()}n.styleListeners=null;r.push((e=>{e&&e.destroy&&e.destroy(),e&&e.parentNode&&e.parentNode.removeChild(e)}).bind(null,n))}if(e.listeners){for(o=0;o<e.listeners.length;o++)e.listeners[o].deattach()}e.listeners=null;if(e.attributeListeners){for(o=0;o<e.attributeListeners.length;o++)e.attributeListeners[o].deattach()}e.attributeListeners=null;if(e.styleListeners){for(o=0;o<e.styleListeners.length;o++)e.styleListeners[o].deattach()}e.styleListeners=null;e.styleListeners=null;e.destroy&&e.destroy();e.parentNode&&e.parentNode.removeChild(e);for(o=0;o<r.length;o++)r[o]();r=null},fuse=(e,t,n)=>{(Array.isArray(t)||Array.isArray(e))&&(n=!0);if(!n){var r=e.nodeType,o=t.nodeType;if(e.isPointer||t.isPointer||e.destroy||t.destroy){e.parentNode.insertBefore(t,e);destroy(e);return t}if(r===o&&(r===3||o===8)){e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue,destroy(t));return e}if((r===1||o===1)&&e.tagName!==t.tagName||(e.__async||t.__async)||(e.listeners&&e.listeners.length||t.listeners&&t.listeners.length)){if(e.parentNode){e.parentNode.insertBefore(t,e);destroy(e);return t}else{e.replaceWith(t);destroy(e);return t}}fuseAttributes(e,t,getElementAttributes(e))}var a=[...e.childNodes||e],l=[...t.childNodes||t],s=Math.max(a.length,l.length);for(var i=0;i<s;i++)a[i]&&l[i]?fuse(a[i],l[i]):a[i]&&!l[i]?destroy(a[i]):!a[i]&&l[i]&&e.appendChild(l[i]);destroy(t);return e},FuseDom=function(){};FuseDom.prototype.fuse=function(...e){return fuse(...e)};FuseDom.prototype.destroy=function(...e){return destroy(...e)};var fuseDom=new FuseDom,Listener=function(e,...t){var n;this.component=e;(n=t, this.key=n[0]);this.path=t.slice(1,t.length);this.depth=0;this.attached=!0;this.processValue=e=>e;this.changeListener=()=>{}};Listener.prototype.init=function(){this.value=this.getValue(this.component.state[this.key]);this.component.addListener(this.key,this,this.depth);this.handleUpdate(this.component.state[this.key])};Listener.prototype.unlink=function(){this.value instanceof Node?fuseDom.destroy(this.value):this.value instanceof Listener&&this.value.deattach()};Listener.prototype.handleUpdate=function(e){var t=this.processValue(this.getValue(e));this.value instanceof Listener?(this.value.processValue=t.processValue,t.deattach(),this.value.handleUpdate(this.value.component.state[this.value.key])):(this.unlink(),this.value=t,this.changeListener(this.value))};Listener.prototype.getValue=function(e){var t=0;while(t<this.path.length)e=e[this.path[t++]];return e};Listener.prototype.applyDepth=function(e){this.depth=e;return this};Listener.prototype.onValueChange=function(e){this.changeListener=e;this.changeListener(this.value)};Listener.prototype.process=function(e){this.processValue=e;return this};Listener.prototype.deattach=function(){this.component=null;this.attached=!1;this.key=null;this.childPath=null;this.path=null;this.unlink();this.value=null;this.changeListeners=[];this.processValue=()=>{}};var AttributeListener=function(e){var t=e.attributeKey,n=e.listener,r=e.element,o=e.depth;this.depth=o+1;this.attributeKey=t;this.listener=n;this.element=r;this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};AttributeListener.prototype.attach=function(){this.element.attributeListeners||(this.element.attributeListeners=[]);this.element.attributeListeners.push(this);this.listener.applyDepth(this.depth).init();this.listener.onValueChange(this.handleValueChange);this.attached=!0;this.attributeKey==='model'&&(/(checkbox|radio)/.test(this.element.getAttribute('type'))?this.element.addEventListener('change',e=>{this.listener.component.setState({[this.listener.key]:e.target.checked})}):this.element.addEventListener('input',e=>{this.listener.component.setState({[this.listener.key]:e.target.value})}));return this};AttributeListener.prototype.handleValueChange=function(e){this.attributeKey==='value'||this.attributeKey==='model'?(/(checkbox|radio)/.test(this.element.getAttribute('type'))?(this.element.checked=e):(this.element.value=e)):setAttributes(this.element,{[this.attributeKey]:e})};AttributeListener.prototype.deattach=function(){this.attributeKey=null;this.listener.deattach();this.listener=null;this.element=null;this.attached=!1;this.handleValueChange=()=>{}};var StyleListener=function(e){var t=e.styleKey,n=e.listener,r=e.element,o=e.depth;this.depth=o+1;this.styleKey=t;this.listener=n;this.element=r;this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};StyleListener.prototype.attach=function(){this.element.styleListeners||(this.element.styleListeners=[]);this.element.styleListeners.push(this);this.listener.applyDepth(this.depth).init();this.listener.onValueChange(this.handleValueChange);this.attached=!0;return this};StyleListener.prototype.handleValueChange=function(e){setStyle(this.element,this.styleKey,e)};StyleListener.prototype.updateElement=function(e){this.element=e;return this.element};StyleListener.prototype.deattach=function(){this.listener.deattach();this.styleKey=null;this.listener=null;this.element=null;this.attached=!1;this.handleValueChange=null};var parseValue=e=>typeof e==='number'&&!Number.isNaN(e)?`${e}px`:e,setStyle=(e,t,n,r)=>{if(typeof n==='undefined'){return void 0}if(n instanceof Listener){new StyleListener({styleKey:t,listener:n,element:e,depth:r}).attach();return e[t]}return e.style[t]=parseValue(n)},setStyles=(e,t)=>{typeof t==='string'&&(e.style=t);if(typeof t!=='object'||Array.isArray(t)){return e.style}if(t instanceof Listener){new AttributeListener({attributeKey:'style',listener:t,element:e}).attach();return e.style}for(var n in t)setStyle(e,n,t[n]);return e.style},parseClass=e=>{if(Array.isArray(e)){return e.filter(e=>e).join(' ')}return e},setAttributes=(e,t,n)=>{var r=function(r){var o=t[r];if(typeof o==='undefined'){return}if(!o&&typeof o!=='number'){e.removeAttribute(r);return}if(r.toLowerCase()==='style'){setStyles(e,o,n);return}if(o instanceof Listener){new AttributeListener({attributeKey:r,listener:o,element:e,depth:n}).attach();return}if(r.toLowerCase()==='class'||r.toLowerCase()==='classname'){e.setAttribute('class',parseClass(o));return}r.toLowerCase()==='loadfocus'&&(e.onload=e=>{setTimeout(()=>{e.focus()},10)});if(r.toLowerCase()==='html'){e.innerHTML=o;return}if(r.toLowerCase()==='model'){/(checkbox|radio)/.test(e.getAttribute('type'))?(e.onchange=e=>{o.component[o.key]=e.target.checked}):(e.oninput=e=>{o.component[o.key]=e.target.value},e.value=o.value);return}if(r.substring(0,2).toLowerCase()==='on'){r.substring(0,8).toLowerCase()==='onsubmit'?(e[r]=e=>{var t=[],n=e.target.elements||[];for(var r of n){if(r.name!==''&&(r.type!=='radio'&&r.type!=='checkbox')||r.checked){var a={name:r.name,el:r,type:r.type,default:r.defaultValue,value:r.value,set(e){this.el.value=e},reset(e){this.el.value=e;this.el.defaultValue=e}};t.push(a);t[a.name]||Object.defineProperty(t,a.name,{value:a})}}return o(e,t)}):(e[r]=o);return}e.setAttribute(r,o)};for(var o in t)r(o)},getElementFromQuery=(e,t)=>{if(typeof e==='string'||typeof e==='number'){return e!=='template'?t||e==='svg'?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e):document.createDocumentFragment()}console.warn('[Radi.js] Warn: Creating a JSX element whose query is not of type string, automatically converting query to string.');return document.createElement(e.toString())},generateId=()=>{var e='';for(var t=0;t<32;t++){var n=Math.random()*16|0;(t===8||t===12||t===16||t===20)&&(e+='-');e+=(t===12?4:t===16?n&3|8:n).toString(16)}return e},PrivateStore=function(){this.store={}};PrivateStore.prototype.addListener=function(e,t,n){typeof this.store[e]==='undefined'&&this.createItemWrapper(e);this.store[e].listeners[n]=(this.store[e].listeners[n]||[]).filter(e=>e.attached);this.store[e].listeners[n].push(t);return t};PrivateStore.prototype.removeListeners=function(){var e=Object.keys(this.store);for(var t=0;t<e.length;t++)this.store[e[t]].listeners={},this.store[e[t]].value=null};PrivateStore.prototype.setState=function(e){for(var t of Object.keys(e))typeof this.store[t]==='undefined'&&this.createItemWrapper(t),this.store[t].value=e[t],this.triggerListeners(t);return e};PrivateStore.prototype.createItemWrapper=function(e){return this.store[e]={listeners:{},value:null}};PrivateStore.prototype.triggerListeners=function(e){var t=this.store[e];if(t){var n=Object.keys(t.listeners).sort().map(e=>(t.listeners[e].map(e=>e)));for(var r=0;r<n.length;r++){for(var o=n[r].length-1;o>=0;o--)n[r][o].attached&&n[r][o].handleUpdate(t.value)}}};var clone=e=>{if(typeof e!=='object'){return e}if(e===null){return e}if(Array.isArray(e)){return e.map(clone)}var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=clone(e[n]));return t},skipInProductionAndTest=e=>{if(typeof process==='undefined'||(process.env.NODE_ENV==='production'||process.env.NODE_ENV==='test')){return!1}return e&&e()},Component=function(e,t){this.addNonEnumerableProperties({$id:generateId(),$name:this.constructor.name,$config:typeof this.config==='function'?this.config():{listen:!0},$events:{},$privateStore:new PrivateStore});this.on=typeof this.on==='function'?this.on():{};this.children=[];for(var n in GLOBALS.HEADLESS_COMPONENTS)this[n].when('update',()=>this.setState());this.state=Object.assign(typeof this.state==='function'?this.state():{},t||{});skipInProductionAndTest(()=>Object.freeze(this.state));e&&this.setChildren(e)};Component.prototype.render=function(e){if(typeof this.view!=='function'){return''}var t=this.view();if(Array.isArray(t)){for(var n=0;n<t.length;n++)typeof t[n].buildNode==='function'&&(t[n]=t[n].buildNode(e,0)),t[n].destroy=this.destroy.bind(this)}else typeof t.buildNode==='function'&&(t=t.buildNode(e,0)),t.destroy=this.destroy.bind(this);this.html=t;return t};Component.prototype.setProps=function(e){this.setState(e);return this};Component.prototype.setChildren=function(e){this.children=e;this.setState();for(var t=0;t<this.children.length;t++)typeof this.children[t].when==='function'&&this.children[t].when('update',()=>this.setState());return this};Component.prototype.addNonEnumerableProperties=function(e){for(var t in e){if(typeof this[t]!=='undefined'){continue}Object.defineProperty(this,t,{value:e[t]})}};Component.prototype.addListener=function(e,t,n){this.$privateStore.addListener(e,t,n)};Component.prototype.mount=function(){this.trigger('mount')};Component.prototype.destroy=function(){this.trigger('destroy');this.$privateStore.removeListeners()};Component.prototype.when=function(e,t){typeof this.$events[e]==='undefined'&&(this.$events[e]=[]);this.$events[e].push(t)};Component.prototype.trigger=function(e,...t){typeof this.on[e]==='function'&&this.on[e].call(this,...t);if(typeof this.$events[e]!=='undefined'){for(var n in this.$events[e])this.$events[e][n].call(this,...t)}};Component.prototype.setState=function(e){if(typeof e==='object'){var t=this.state;skipInProductionAndTest(()=>t=clone(this.state));this.state=Object.assign(t,e);skipInProductionAndTest(()=>Object.freeze(this.state));this.$config.listen&&this.$privateStore.setState(e)}!this.$config.listen&&typeof this.view==='function'&&this.html&&fuseDom.fuse(this.html,this.view());this.trigger('update');return e};Component.isComponent=function(){return!0};var mount=(e,t,n,r)=>{r===void 0&&(r=0);var o=typeof t==='string'?document.getElementById(t):t;n=n||o instanceof SVGElement;var a=e instanceof Component||e.render?e.render(n):e;if(Array.isArray(a)){for(var l=0;l<a.length;l++)mount(a[l],o,n,r)}else appendChild(o,n,r)(a);typeof o.destroy!=='function'&&(o.destroy=()=>{for(var e=0;e<a.length;e++)fuseDom.destroy(a[e])});typeof e.mount==='function'&&e.mount();return o},ensureArray=e=>{if(Array.isArray(e)){return e}return[e]},listenerToNode=(e,t,n,r,o)=>{if(e instanceof DocumentFragment){return Array.from(e.childNodes)}var a=r||document.createDocumentFragment();r instanceof Node&&(a.appendChild=o);appendChildren(a,ensureArray(e),t,n);return Array.from(a.childNodes)},insertAfter=(e,t)=>e.parentNode&&e.parentNode.insertBefore(t,e.nextSibling),ElementListener=function(e){var t=e.listener,n=e.element,r=e.depth;this.depth=r+1;this.pointer=document.createTextNode('');this.pointer.isPointer=!0;this.pointer.destroy=()=>{if(this.listenerAsNode&&this.listenerAsNode.length){for(var e=0;e<this.listenerAsNode.length;e++)this.listenerAsNode[e]&&fuseDom.destroy(this.listenerAsNode[e])}this.listenerAsNode=null;this.pointer&&this.pointer.remove&&this.pointer.remove();this.pointer=null};this.listener=t;this.element=n.real||n;this.listenerAsNode=[];this.attached=!1};ElementListener.prototype.insert=function(e,t){for(var n=0;n<t.length;n++)insertAfter(t[n-1]||e,t[n])};ElementListener.prototype.handleValueChange=function(e){if(!this.attached||this.listenerAsNode===null){return!1}var t=document.createDocumentFragment();listenerToNode(e,this.element instanceof SVGElement,this.depth,this.pointer,e=>{t.appendChild(e);return e});var n=Array.from(t.childNodes),r=Math.min(n.length,this.listenerAsNode.length);for(var o=0;o<r;o++)n[o]=fuseDom.fuse(this.listenerAsNode[o],n[o]);var a=this.listenerAsNode.length-n.length;if(a>0){for(var l=o;l<o+a;l++)fuseDom.destroy(this.listenerAsNode[l])}else a<0&&this.insert(o>0?n[o-1]:this.pointer,n.slice(o,n.length));this.listenerAsNode=n};ElementListener.prototype.attach=function(e){e===void 0&&(e=this.element);e.appendChild(this.pointer);e.listeners||(e.listeners=[]);e.listeners.push(this);this.listener.applyDepth(this.depth).init();this.attached=!0;this.listener.onValueChange(e=>this.handleValueChange(e));return this};ElementListener.prototype.deattach=function(){this.listener.deattach();this.listener=null;this.element=null;if(this.listenerAsNode&&this.listenerAsNode.length){for(var e=0;e<this.listenerAsNode.length;e++)this.listenerAsNode[e]&&fuseDom.destroy(this.listenerAsNode[e])}this.listenerAsNode=null;this.pointer&&this.pointer.remove&&this.pointer.remove();this.pointer=null;this.attached=!1;this.handleValueChange=()=>{}};var appendListenerToElement=(e,t,n)=>new ElementListener({listener:e,element:t,depth:n}).attach(),appendChild=(e,t,n)=>r=>{!r&&typeof r!=='number'&&(r='');if(typeof r.buildNode==='function'){appendChild(e,t,n)(r.buildNode(t,n));return}if(r instanceof Component){mount(r,e,t,n);return}if(r.isComponent){mount(new r,e,t,n);return}if(r instanceof Listener){appendListenerToElement(r.applyDepth(n),e,n);return}if(Array.isArray(r)){appendChildren(e,r,t,n);return}if(typeof r==='function'){appendChild(e,t,n)(r());return}if(r instanceof Promise||r.constructor.name==='LazyPromise'){var o=document.createElement('section');o.__async=!0;var a=e.appendChild(o);r.then(e=>{e.default?appendChild(a,t,n)(e.default):appendChild(a,t,n)(e)}).catch(console.warn);return}if(r instanceof Node){e.appendChild(r);return}e.appendChild(document.createTextNode(r))},appendChildren=(e,t,n,r)=>{t.forEach(appendChild(e,n,r))},htmlCache={},svgCache={},memoizeHTML=e=>htmlCache[e]||(htmlCache[e]=getElementFromQuery(e,!1)),memoizeSVG=e=>svgCache[e]||(svgCache[e]=getElementFromQuery(e,!0)),buildNode=(e,t,n,r,...o)=>{if(typeof n==='function'&&n.isComponent){return new n(o).setProps(r||{})}if(typeof n==='function'){var a=r||{};a.children=o;return n(a)}var l=e||n==='svg',s=(l?memoizeSVG(n):memoizeHTML(n)).cloneNode(!1);r!==null&&setAttributes(s,r,t);appendChildren(s,o,l,t);s.onload&&s.onload(s);return s},buildNode$1={html:e=>(...t)=>buildNode(!1,e,...t),svg:e=>(...t)=>buildNode(!0,e,...t)},r=(e,t,...n)=>({buildNode:(r,o)=>{o===void 0&&(o=0);return buildNode$1[r?'svg':'html'](o)(e,t,...n)}}),listen=(e,...t)=>new Listener(e,...t),remountActiveComponents=()=>{Object.values(GLOBALS.ACTIVE_COMPONENTS).forEach(e=>{typeof e.onMount==='function'&&e.onMount(e)})};function createWorker(e){var t=()=>{},n=new Blob([`self.onmessage = function(e) {
    self.postMessage((${e.toString()})(e.data));
  }`],{type:'text/javascript'}),r=window.URL.createObjectURL(n),o=new Worker(r);o.onmessage=e=>{t(e.data,null)};o.onerror=e=>{t(null,e.data)};return e=>new Promise((n,r)=>{t=(e,t)=>!t?n(e):r(e),o.postMessage(e)})}function worker(e,t,n){var r=n.value,o=createWorker(r);n.value=function(...e){o(...e).then(e=>{this.setState.call(this,e)})};return n}function action(e,t,n){var r=n.value;n.value=function(...e){return this.setState.call(this,r.call(this,...e))};return n}function subscribe(e,t,n){return function(n,r,o){var a='on'+(t||r),l=function(...e){return o.value.call(this,...e)};e[a]=l;return o}}var Radi={version:GLOBALS.VERSION,activeComponents:GLOBALS.ACTIVE_COMPONENTS,r,listen,l:listen,worker,component:Component,Component,action,subscribe,headless:(e,t)=>{var n='$'.concat(e),r=new t;r.mount();Component.prototype[n]=r;return GLOBALS.HEADLESS_COMPONENTS[n]=r},mount,freeze:()=>{GLOBALS.FROZEN_STATE=!0},unfreeze:()=>{GLOBALS.FROZEN_STATE=!1,remountActiveComponents()}};Radi.plugin=(e,...t)=>e(Radi,...t);window&&(window.Radi=Radi);module.exports=Radi