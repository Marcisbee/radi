var GLOBALS={VERSION:'0.5.0',CURRENT_COMPONENT:null,CUSTOM_ATTRIBUTES:{},CUSTOM_TAGS:{},IS_UPDATE:!1,SERVICES:{}};function capitalise(n){return n.charAt(0).toUpperCase()+n.substr(1)}function flatten(n){return n.reduce(function(n,e){return n.concat(Array.isArray(e)?flatten(e):e)},[])}function ensureArray(n){return flatten([n])}var isValidElement=function(n){return n.name&&(n.value||n.value==='')},isValidValue=function(n){return!['checkbox','radio'].includes(n.type)||n.checked},isCheckbox=function(n){return n.type==='checkbox'},isMultiSelect=function(n){return n.options&&n.multiple},getSelectValues=function(n){return[].reduce.call(n,function(n,e){return e.selected?n.concat(e.value):n},[])},formToJSON=function(n,e){e===void 0&&(e=function(n,e){return e});return[].reduce.call(n,function(n,t){isValidElement(t)&&(isCheckbox(t)?(typeof n[t.name]==='undefined'&&(n[t.name]=[]),isValidValue(t)&&(n[t.name]=n[t.name].concat(e(t,t.value)))):isValidValue(t)&&(isMultiSelect(t)?(n[t.name]=e(t,getSelectValues(t))):(n[t.name]=e(t,t.value))));return n},{})},Component=function(n){this.type=n.type;this.name=n.type.name;this.pointer=n.pointer;this.update=n.update;this.__$events={}};Component.prototype.on=function(n,e){var t=this.__$events,r="on"+(capitalise(n));t[r]||(t[r]=[]);t[r].push(e);return e};Component.prototype.trigger=function(n){var e,t=[],r=arguments.length-1;while(r-->0)t[r]=arguments[r+1];var u="on"+(capitalise(n));(this.__$events[u]||[]).map(function(n){return n.apply(void 0,t)});typeof this[u]==='function'&&(e=this)[u].apply(e,t)};var Service=function(){};Service.prototype.add=function(n,e){var t=[],r=arguments.length-2;while(r-->0)t[r]=arguments[r+2];if(typeof n!=='string'){throw new Error('[Radi.js] Service first argument has to be string')}if(typeof this[n]!=='undefined'||typeof Component.prototype[n]!=='undefined'){throw new Error('[Radi.js] Service "'+n+'" is already in use')}if(typeof e!=='function'){throw new Error('[Radi.js] Service second argument has to be function')}var u=e.apply(void 0,t);Component.prototype[n]=this[n]=u;return GLOBALS.SERVICES[n]=u};var service=new Service;function customAttribute(n,e,t){t===void 0&&(t={});var r=t.allowedTags,u=t.addToElement;return GLOBALS.CUSTOM_ATTRIBUTES[n]={name:n,caller:e,allowedTags:r||null,addToElement:u}}function customTag(n,e){return GLOBALS.CUSTOM_TAGS[n]={name:n,render:e||(function(){})}}function destroyTree$$1(n){fireEvent('destroy',n);n.__radiRef=void 0;if(n.nodeType===1){var e=n.firstChild;while(e)destroyTree$$1(e),e=e.nextSibling}}var TYPE={NODE:0,TEXT:1,COMPONENT:2};function insertAfter(n,e,t){t||(t=e.parentNode);if(n instanceof Node){if(e===null||e===void 0){return t.insertBefore(n,e)}if(e instanceof Node){return t.insertBefore(n,e.nextSibling)}}return n}function fireEvent(n,e,t){t===void 0&&(t=e);var r=document.createEvent('Event');r.initEvent(n,!1,!0);typeof e.dispatchEvent==='function'&&(e._eventFired=!0,e.dispatchEvent(r,t));return e}function mount(n,e){var t=flatten([evaluate(n)]),r=render$$1(t,e);r.forEach(function(n){e.appendChild(n);fireEvent('mount',n)});return{nodes:t,dom:r}}function render$$1(n,e){if(Array.isArray(n)){return n.map(function(n){return render$$1(n,e)})}if(n.type===TYPE.TEXT){return document.createTextNode(n.query)}if(n.type===TYPE.NODE){var t;n.query==='svg'||e instanceof SVGElement?(t=document.createElementNS('http://www.w3.org/2000/svg',n.query)):(t=document.createElement(n.query));mount(n.children,t);setProps(t,n.props);return t}if(n.type===TYPE.COMPONENT){n.pointer||(n.pointer=document.createTextNode(''),n.pointer.__radiPoint=n);n.source=new Component(n);var r;n.pointer.addEventListener('mount',function(e){n.update();typeof n.source.style==='string'&&(r=document.createElement('style'),r.innerHTML=n.source.style,document.head.appendChild(r));n.source.trigger('mount',e);n.mounted=!0},{passive:!0,once:!0},!1);n.pointer.addEventListener('destroy',function(e){n.source.trigger('destroy',e);r instanceof Node&&document.head.removeChild(r);n.mounted=!1},{passive:!0,once:!0},!1);return n.pointer}return document.createTextNode(n.toString())}function beforeDestroy(n,e){if(typeof n.beforedestroy==='function'){return n.beforedestroy(e)}return e()}function destroy(n){var e=ensureArray(n);e.forEach(function(n){if(!(n instanceof Node)){return}n.__radiPoint&&n.__radiPoint.dom&&n.__radiPoint.dom.length>0&&n.__radiPoint.dom.forEach(destroy);var e=n.parentNode;n instanceof Node&&e instanceof Node&&beforeDestroy(n,function(){destroyTree$$1(n);e.removeChild(n)})})}var renderQueue=[];function addToRenderQueue(n){var e=n.update&&(function(){return n.update()})||n;renderQueue.indexOf(e)<0&&renderQueue.push(e);return e}function clearRenderQueue(){renderQueue=[]}var Dependencies=function(){this.dependencies={}};Dependencies.prototype.add=function(n,e){var t=n[0];typeof this.dependencies[t]==='undefined'&&(this.dependencies[t]=[]);this.dependencies[t]=this.dependencies[t].filter(function(n){if(n===GLOBALS.CURRENT_COMPONENT.query||n.query===GLOBALS.CURRENT_COMPONENT.query){return!0}if(n.pointer instanceof Node){if(n.mounted){return!0}return n.pointer.isConnected}return!0});this.dependencies[t].indexOf(e)<0&&this.dependencies[t].push(e)};Dependencies.prototype.remove=function(n,e){var t=n[0],r=(this.dependencies[t]||[]).indexOf(e);r>=0&&this.dependencies[t].splice(r,1)};Dependencies.prototype.component=function(n,e){var t=this;e&&(this.add(n,e),e.__onDestroy=function(){t.remove(n,e)});return e};Dependencies.prototype.trigger=function(n,e,t){this.dependencies[n]&&this.dependencies[n].forEach(function(n){return(addToRenderQueue(n)(e,t))})};var noop=function(n){return n},Listener=function(n,e){this.map=n;this.getValue=this.getValue.bind(this);this.update=this.update.bind(this);this.store=e;this.dep=e.event};Listener.prototype.link=function(n){this.subbed||(this.subbed=this.store.subscribe(n));return this.subbed};Listener.prototype.getValue=function(n){var e=this.store.get();this.subbed||(this.subbed=this.store.subscribe(n));return this.cached=this.map(e)};Listener.prototype.update=function(){var n=this.store.get();return this.cached=this.map(n)};function isObject(n){return n&&(n.constructor===Object||n.constructor===Array)}function evalState(n,e,t){t===void 0&&(t=[]);if(e){if(isObject(e)){var r=Array.isArray(e)?[]:{};for(var u in e)r[u]=evalState(n,e[u],t.concat(u));return r}if(e instanceof Store){e.subscribe.call(e,function(e){n.update(n.setPartial(t,e))});return e.get()}}return e}function mapState(n,e,t){if(n&&isObject(n)){var r=Array.isArray(n)?[].concat(n):Object.assign({},n);r[e]=t;return r}return n}var storeMiddleware=noop,Store=function(n,e){this.dependencies=new Dependencies;this.transform=noop;this.willDispatch=this.willDispatch.bind(this);this.dispatch=this.dispatch.bind(this);this.subscribe=this.subscribe.bind(this);this.update=this.update.bind(this);this.get=this.get.bind(this);this.listener=this.listener.bind(this);this.storedState=evalState(this,n);this.name=e},prototypeAccessors={state:{configurable:!0},bind:{configurable:!0}};prototypeAccessors.state.get=function(){GLOBALS.CURRENT_COMPONENT&&this.dependencies.component('*',GLOBALS.CURRENT_COMPONENT);return this.get()};prototypeAccessors.bind.get=function(){var n=this;return{value:this.get(),onInput:function(e){return n.update(e.target.value)}}};Store.prototype.get=function(){return this.transform(this.storedState)};Store.prototype.map=function(n){var e=this.transform;this.transform=function(t){return n(e(t))};return this};Store.prototype.setPartial=function(n,e,t){t===void 0&&(t=this.storedState);if(t&&n&&n.length){var r=n[0],u=n.slice(1);return mapState(t,r,this.setPartial(u,e,t[r]))}return e};Store.prototype.update=function(n){var e=evalState(this,n),t=this.get();this.storedState=e;this.dependencies.trigger('*',this.get(),t);clearRenderQueue();return this.get()};Store.prototype.subscribe=function(n){this.dependencies.add('*',n);n(this.get(),null);return this};Store.prototype.unsubscribe=function(n){this.dependencies.remove('*',n)};Store.prototype.dispatch=function(n){var e=[],t=arguments.length-1;while(t-->0)e[t]=arguments[t+1];var r=n.apply(void 0,[this.storedState].concat(e));this.name&&n.name&&storeMiddleware({store:this,action:n.name,args:e,payload:r});return this.update(r)};Store.prototype.willDispatch=function(n){var e=this,t=[],r=arguments.length-1;while(r-->0)t[r]=arguments[r+1];return function(){var r,u=[],i=arguments.length;while(i--)u[i]=arguments[i];return(r=e).dispatch.apply(r,[n].concat(t,u))}};Store.prototype.listener=function(n){n===void 0&&(n=function(n){return n});return new Listener(n,this)};Store.middleware=function(n){return storeMiddleware=n};Object.defineProperties(Store.prototype,prototypeAccessors);function autoUpdate(n,e){if(n instanceof Listener){return e(n.getValue(function(t){return e(n.map(t))}))}return e(n)}function setBooleanProp(n,e,t){t?(n.setAttribute(e,t),n[e]=!0):(n[e]=!1)}function removeBooleanProp(n,e){n.removeAttribute(e);n[e]=!1}function isEventProp(n){return /^on/.test(n)}function extractEventName(n){return n.replace(/^on/,'').toLowerCase()}function isCustomProp(n){return isEventProp(n)}function setProp(n,e,t){e==='style'&&typeof t!=='string'?setStyles(n,t):isCustomProp(e)?addEventListener(n,e,t):e==='className'?n.setAttribute('class',t):typeof t==='boolean'?setBooleanProp(n,e,t):(e==='value'&&document.activeElement!==n&&(n[e]=t),n.setAttribute(e,t))}function removeProp(n,e,t){isCustomProp(e)||(e==='className'?n.removeAttribute('class'):typeof t==='boolean'?removeBooleanProp(n,e):n.removeAttribute(e))}function setStyles(n,e){Object.keys(e).forEach(function(t){autoUpdate(e[t],function(e){n.style[t]=e})})}function setProps(n,e){(Object.keys(e||{})).forEach(function(t){if(typeof GLOBALS.CUSTOM_ATTRIBUTES[t]!=='undefined'){var r=GLOBALS.CUSTOM_ATTRIBUTES[t],u=r.allowedTags,i=r.addToElement,o=r.caller;if(!u||u&&u.length>0&&u.indexOf(n.localName)>=0){typeof o==='function'&&(e[t]=o(n,e[t]));if(!i){return}}}autoUpdate(e[t],function(e){t==='model'?(t='value'):(t==='class'||t==='className')&&(Array.isArray(e)&&(e=e.filter(function(n){return n&&typeof n!=='function'}).join(' ')));setProp(n,t,e)})})}function isRemovableProp(n){return typeof n==='undefined'||n===!1||n===null}function updateProp(n,e,t,r){isRemovableProp(t)?removeProp(n,e,r):(!r||t!==r)&&setProp(n,e,t)}function updateProps(n,e,t){t===void 0&&(t={});var r=Object.assign({},e,t);typeof n.__radiHandlers!=='undefined'&&(n.__radiHandlers.forEach(function(e){n.removeEventListener.apply(n,e)}),n.__radiHandlers=[]);Object.keys(r).forEach(function(r){autoUpdate(e[r],function(e){r==='model'&&(r='value');updateProp(n,r,e,t[r])})})}function addEventListener(n,e,t){var r=['mount','destroy'];if(isEventProp(e)){typeof n.__radiHandlers==='undefined'&&(n.__radiHandlers=[]);var u=[extractEventName(e),function(u){r.indexOf(e)>=0?(n===u.target&&t(u)):typeof t==='function'&&t(u)}];n.__radiHandlers.push(u);n.addEventListener(u[0],u[1],!1)}}function attributesToObject(n){return[].reduce.call(n,function(n,e){var t;return(Object.assign({},n,(t={}, t[e.name]=e.value, t)))},{})}function withoutInnerChilds(n){var e=Array.prototype.filter.call(n.childNodes,function(n){return typeof n.__radiPoint!=='undefined'}).reduce(function(n,e){return n.concat(e.__radiPoint.dom)},[]);return Array.prototype.filter.call(n.childNodes,function(n){return e.indexOf(n)<0})}function patch(n,e,t,r){var u,i;if(!e)r=i=fireEvent('mount',insertAfter(render$$1(u=n),r,t));else if(!n)destroy(e);else{if(n.type===TYPE.NODE){var o=n,c=e,a=withoutInnerChilds(e);if(c.nodeName===o.query.toUpperCase()){var d=attributesToObject(c.attributes);if(a||o.children){var s=Math.max(a.length,o.children.length);for(var f=s-1;f>=0;f--)patch(o.children[f],a[f],c)}updateProps(c,o.props,d);u=n;i=e;return{newDom:i,newStucture:u,last:r}}}if(n.type===TYPE.TEXT&&e.nodeType===3&&!e.__radiPoint){e.textContent!=n.query&&(e.textContent=n.query);u=n;i=e;return{newDom:i,newStucture:u,last:r}}if(n.type===TYPE.COMPONENT){if(e.__radiPoint&&e.__radiPoint.query===n.query){e.__radiPoint.update(n.props,n.children);u=e.__radiPoint;i=e;return{newDom:i,newStucture:u,last:r}}}r=i=fireEvent('mount',insertAfter(render$$1(u=n),e,t));r.__radiPoint&&r.__radiPoint&&r.__radiPoint.dom&&(r=r.__radiPoint.dom[r.__radiPoint.dom.length-1]);destroy(e)}return{newDom:i,newStucture:u,last:r}}function renderComponent(n,e){var t=this;n===void 0&&(n=this.props);e===void 0&&(e=this.children);n&&(this.props=n);e&&(this.children=e);var r=flatten([evaluate(this.query.call(this.source,Object.assign({},this.props,{children:this.children})))]);if(!this.dom){var u=render$$1(this.domStructure=r);return this.dom=u.reverse().map(function(n){return fireEvent('mount',insertAfter(n,t.pointer))}).reverse()}var i=document.activeElement;if(this.pointer.parentNode===null){return this.dom}var o=Math.max(this.dom.length,r.length),c=this.pointer,a=[],d=[];for(var s=0;s<=o-1;s++){var f=patch(r[s],t.dom[s],t.pointer.parentNode,c);f.last&&(c=f.last);f.newDom&&(a[s]=f.newDom);f.newStucture&&(d[s]=f.newStucture)}i.focus();this.domStructure=d;return this.dom=a}function isNode(n){return n&&typeof n==='object'&&typeof n.query!=='undefined'&&typeof n.props!=='undefined'&&typeof n.children!=='undefined'}function updater(n){return function(){var e=[],t=arguments.length;while(t--)e[t]=arguments[t];var r=GLOBALS.CURRENT_COMPONENT;GLOBALS.CURRENT_COMPONENT=n;var u=renderComponent.call.apply(renderComponent,[n].concat(e));GLOBALS.CURRENT_COMPONENT=r;return u}}function evaluate(n){if(Array.isArray(n)){return flatten(n).map(evaluate)}if(typeof n==='function'){return evaluate(n())}if(n instanceof Promise||n&&n.constructor.name==='LazyPromise'){return evaluate({query:'await',props:{src:n},children:[]})}if(n instanceof Listener){var e={query:n.update,type:TYPE.COMPONENT,props:{},children:[],pointer:null,dom:null};e.update=updater(e);n.link(function(){return e.dom!==null&&e.update()});return e}if(n&&typeof n.type==='number'){return n}if(isNode(n)){if(typeof n.query==='function'){var t=Object.assign({},n,{type:TYPE.COMPONENT,pointer:null,dom:null});t.update=updater(t);return t}if(typeof GLOBALS.CUSTOM_TAGS[n.query]!=='undefined'){var r=Object.assign({},n,{query:GLOBALS.CUSTOM_TAGS[n.query].render,type:TYPE.COMPONENT,pointer:null,dom:null});r.update=updater(r);return r}return Object.assign({},n,{type:TYPE.NODE,children:evaluate(flatten(n.children))})}if(!n&&typeof n!=='string'&&typeof n!=='number'){return{query:'',type:TYPE.TEXT}}return{query:n.toString(),type:TYPE.TEXT}}function html(n,e){var t=[],r=arguments.length-2;while(r-->0)t[r]=arguments[r+2];var u=typeof n==='number'?""+n:n,i=e||{},o=flatten(t);(u instanceof Promise||u&&u.constructor.name==='LazyPromise')&&(u='await',i={src:n});return{query:u,props:i,children:o}}function Subscribe(n,e){e===void 0&&(e=n.name);var t=function(n,e){return e};Object.defineProperty(t,'name',{value:e});var r=new Store(null,'Subscriber');function u(e){r.dispatch(t,e);n(e,u);return r}return u}function Event(n,e,t){n===void 0&&(n=document);t===void 0&&(t=function(n){return n});var r=e.trim().split(' '),u=function(){},i=!0,o=[];if(typeof t!=='function'){throw new Error(("[Radi.js] Subscription `"+e+"` must be transformed by function"))}function c(){r.forEach(function(e){function r(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];u(t.apply(void 0,n.concat([e])))}o.push([e,r]);n.addEventListener(e,r)})}c();function a(n,e){u=e}Object.defineProperty(a,'name',{value:e?'event:'+e:'event'});function d(n){return Subscribe(a)(n)}d.on=function(){if(i){return}o=[];c();i=!0};d.off=function(){if(!i){return}o.forEach(function(e){var t=e[0],r=e[1];return n.removeEventListener(t,r)});i=!1};return d}function Fetcher(n,e,t,r){r===void 0&&(r=!1);var u=!1,i=function(){},o=null;if(typeof n!=='function'){throw new Error("[Radi.js] Fetcher first parameter must be function that returns promise")}function c(n,e){i=e;r&&!u&&(u=!0,a.fetch())}Object.defineProperty(c,'name',{value:n.name?'fetcher:'+n.name:'fetcher'});function a(n){return Subscribe(c)(n)}a.fetch=function(){var r=[],u=arguments.length;while(u--)r[u]=arguments[u];if(o!==null){return}i({loading:!0});n.apply(void 0,r).then(e||(function(n){o=n;i(n)})).catch(t||(function(n){i({error:n});console.error(n)}))};return a}var animate=function(n,e,t,r){var u=t[e];if(typeof u!=='function'){console.warn(("[Radi.js] Animation `"+e+"` for node `"+n.nodeName.toLowerCase+"` should be function"));return}return u(n,r)};customAttribute('animation',function(n,e){animate(n,'in',e,function(){});n.beforedestroy=function(t){return animate(n,'out',e,t)}});customAttribute('html',function(n,e){n.addEventListener('mount',function(){n.escape?(n.textContent=e):(n.innerHTML=e)})});customAttribute('loadfocus',function(n){n.addEventListener('mount',function(){return setTimeout(function(){return n.focus()},0)})});customAttribute('onsubmit',function(n,e){return function(t){n.prevent&&t.preventDefault();e(t,formToJSON(n.elements||{}))}},{allowedTags:['form'],addToElement:!0});var errorsStore=new Store({}),setErrors=function(n,e,t){var r;return(Object.assign({},n,(r={}, r[e]=t, r)))};function extractValue(n){return Array.isArray(n)?n.map(function(n){return n.value}):n.value}function extractTouched(n,e){return Array.isArray(n)?[].reduce.call(e,function(n,e){return e.touched&&!0||n},!1):n.touched}function fullValidate(n,e,t){var r=formToJSON(n,function(n,e){var t=n.touched;return({touched:t,value:e})}),u=Object.keys(r).reduce(function(n,e){var t;return(Object.assign({},n,(t={}, t[e]=extractValue(r[e]), t)))},{}),i=[];for(var o in r){var c=r[o];if(typeof e[o]==='function'){var a=e[o](extractValue(c),u),d=a&&typeof a.check==='function'&&a.check()||a||o+' field is invalid';d!==!0&&i.push({field:o,touched:Boolean(extractTouched(c,n[o])),error:d})}}t(i)}var formCount=0;customAttribute('onvalidate',function(n,e){var t=n.name||'defaultForm'+formCount++,r;function u(n){errorsStore.dispatch(setErrors,t,n)}errorsStore.subscribe(function(n){r&&(r.disabled=n[t].length>0)});n.addEventListener('mount',function(t){var i=e(t),o=n.elements;if(i&&typeof i==='object'&&o){for(var c of o){var a=c.name;if(!c.__radiValidate&&typeof a==='string'&&typeof i[a]==='function'){c.addEventListener('input',function(){fullValidate(o,i,u)});c.__radiValidate=!0;c.touched=!1;var d=function(n){var e=n.target;e.touched=!0;e.removeEventListener('change',d);fullValidate(o,i,u)};c.addEventListener('change',d)}c.type==='submit'&&c.disabled===!0&&(r=c)}fullValidate(o,i,u)}},!1)},{allowedTags:['form']});function ensureFn(n){if(typeof n==='function'){return n}return function(e){return n||e}}function Await(n){var e=this,t,r=n.src,u=n.waitMs,i=n.transform;i===void 0&&(i=function(n){return n});var o=n.error;o===void 0&&(o=function(n){return n});var c=n.placeholder;c===void 0&&(c='Loading..');var a=n.value;a===void 0&&(a=null);var d=n.loaded;d===void 0&&(d=!1);if(!(r&&(r instanceof Promise||r.constructor.name==='LazyPromise'))){console.warn('[Radi] <await/> must have `src` as a Promise');return null}d||(c!==a&&(u?(t=setTimeout(function(){e.update(Object.assign({},n,{value:c}))},u)):(a=c)),r.then(function(r){r&&typeof r==='object'&&typeof r.default==='function'&&(r=html(r.default));clearTimeout(t);e.update(Object.assign({},n,{value:ensureFn(i)(r),loaded:!0}))}).catch(function(r){console.error(r);clearTimeout(t);e.update(Object.assign({},n,{value:ensureFn(o)(r),loaded:!0}))}));return a}customTag('await',Await);function Errors(n){var e=n.name,t=n.onrender;t===void 0&&(t=function(n){return n});var r=errorsStore.state;typeof e==='undefined'&&console.warn('[Radi.js] Warn: Every <errors> tag needs to have `name` attribute!');typeof t!=='function'&&console.warn('[Radi.js] Warn: Every <errors> tag needs to have `onrender` attribute!');if(!r[e]){return null}return t(r[e])}var h=html,ModalStore=new Store({}),registerModal=function(n,e){var t;return(Object.assign({},n,(t={}, t[e]=!1, t)))},switchModal=function(n,e,t){var r;return(Object.assign({},n,(r={}, r[e]=t, r)))},ModalService=service.add('modal',function(){return{open:function(n){return ModalStore.dispatch(switchModal,n,!0)},close:function(n){return ModalStore.dispatch(switchModal,n,!1)},onOpen:function(n,e){return ModalStore.subscribe(function(t,r){return t[n]===!0&&t[n]!==r[n]&&e()})},onClose:function(n,e){return ModalStore.subscribe(function(t,r){return t[n]===!1&&t[n]!==r[n]&&e()})}}});function Modal(n){var e=n.name;e===void 0&&(e='default');var t=n.children,r=ModalStore.state;typeof e==='undefined'&&console.warn('[Radi.js] Warn: Every <modal> tag needs to have `name` attribute!');this.onMount=function(n){r[e]||ModalStore.dispatch(registerModal,e)};return h('portal',{},r[e]&&h('div',{class:'radi-modal',name:e},h('div',{class:'radi-modal-backdrop',onclick:function(){return service.modal.close(e)}}),h.apply(void 0,['div',{class:'radi-modal-content'}].concat((t.slice())))))}customTag('modal',Modal);function Portal(n){var e=n.children,t=n.parent;t===void 0&&(t=n.on||document.body);this.pointer&&this.pointer.__radiUpdateChild&&this.pointer.__radiUpdateChild(void 0,e);this.onMount=function(n){mount(html(function(t){var r=this;this.onMount=function(e){n.target.__radiUpdateChild=r.update;n.target.__radiPoint.dom[0].__radiRef=e.target.__radiPoint};return t.children.length>0?t.children:e}),t)};this.onDestroy=function(n){destroy(n.target.__radiPoint.dom[0].__radiRef.dom)};return null}customTag('portal',Portal);var Radi={v:GLOBALS.VERSION,version:GLOBALS.VERSION,h:html,html:html,customTag:customTag,customAttribute:customAttribute,destroy:destroy,patch:patch,mount:mount,service:service,Service:service,Event:Event,Fetcher:Fetcher,Store:Store,Subscribe:Subscribe,Await:Await,Errors:Errors,Modal:Modal,Portal:Portal};Radi.plugin=function(n){var e=[],t=arguments.length-1;while(t-->0)e[t]=arguments[t+1];return n.apply(void 0,[Radi].concat(e))};window&&(window.Radi=Radi);export default Radi