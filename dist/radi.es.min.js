var GLOBALS={HEADLESS_COMPONENTS:{},FROZEN_STATE:!1,VERSION:'0.4.1',ACTIVE_COMPONENTS:{},CUSTOM_ATTRIBUTES:{},CUSTOM_TAGS:{}},flatten=function e(t){return t.reduce((t,n)=>t.concat(Array.isArray(n)?e(n):n),[])},generateId=()=>{var e='';for(var t=0;t<32;t++){var n=Math.random()*16|0;(t===8||t===12||t===16||t===20)&&(e+='-');e+=(t===12?4:t===16?n&3|8:n).toString(16)}return e},PrivateStore=function(){this.store={}};PrivateStore.prototype.addListener=function(e,t,n){typeof this.store[e]==='undefined'&&this.createItemWrapper(e);this.store[e].listeners[n]=(this.store[e].listeners[n]||[]).filter(e=>e.attached);this.store[e].listeners[n].push(t);return t};PrivateStore.prototype.removeListeners=function(){var e=Object.keys(this.store);for(var t=0;t<e.length;t++)this.store[e[t]].listeners={},this.store[e[t]].value=null};PrivateStore.prototype.setState=function(e){for(var t of Object.keys(e))typeof this.store[t]==='undefined'&&this.createItemWrapper(t),this.store[t].value=e[t],this.triggerListeners(t);return e};PrivateStore.prototype.createItemWrapper=function(e){return this.store[e]={listeners:{},value:null}};PrivateStore.prototype.triggerListeners=function(e){var t=this.store[e];if(t){var n=Object.keys(t.listeners).sort().map(e=>(t.listeners[e].map(e=>e)));for(var r=0;r<n.length;r++){for(var o=n[r].length-1;o>=0;o--)n[r][o].attached&&n[r][o].handleUpdate(t.value)}}};var clone=e=>{if(typeof e!=='object'){return e}if(e===null){return e}if(Array.isArray(e)){return e.map(clone)}var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=clone(e[n]));return t},skipInProductionAndTest=e=>{if(typeof process==='undefined'||(process.env.NODE_ENV==='production'||process.env.NODE_ENV==='test')){return!1}return e&&e()},Listener=function(e,...t){var n;this.component=e;(n=t, this.key=n[0]);this.path=t.slice(1,t.length);this.depth=0;this.attached=!0;this.processValue=e=>e;this.changeListener=()=>{};this.addedListeners=[]};Listener.prototype.init=function(){this.value=this.getValue(this.component.state[this.key]);this.component.addListener(this.key,this,this.depth);this.handleUpdate(this.component.state[this.key]);return this};Listener.prototype.unlink=function(){this.value instanceof Node||this.value instanceof Listener&&this.value.deattach()};Listener.prototype.clone=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var o in t)n[o]=t[o];return n};Listener.prototype.setPartialState=function(e,t,n){var r={};if(e.length){r[e[0]]=e.length>1?this.setPartialState(e.slice(1),t,n[e[0]]):t;return this.clone(n,r)}return t};Listener.prototype.updateValue=function(e){var t=this.component.state[this.key];return this.component.setState({[this.key]:this.setPartialState(this.path,e,t)})};Listener.prototype.extractListeners=function(e){if(e instanceof Listener){var t={depth:e.depth,attached:!0,processValue:e=>e,handleUpdate:()=>{this.component&&this.handleUpdate(this.getValue(this.component.state[this.key])),t.attached=!1},changeListener:()=>{}};this.addedListeners.push(t);e.component.addListener(e.key,t,e.depth);var n=e.processValue(e.getValue(e.component.state[e.key]));e.deattach();return this.extractListeners(n)}return e};Listener.prototype.handleUpdate=function(e){var t=this.processValue(this.getValue(e));if(t instanceof Listener){for(var n=0;n<this.addedListeners.length;n++)this.addedListeners[n].attached=!1;this.addedListeners=[];this.value=this.extractListeners(t);this.changeListener(this.value)}else this.unlink(),this.value=t,this.changeListener(this.value)};Listener.prototype.getValue=function(e){var t=0;while(t<this.path.length)e===null||!e[this.path[t]]&&typeof e[this.path[t]]!=='number'?(e=null):(e=e[this.path[t]]),t+=1;return e};Listener.prototype.applyDepth=function(e){this.depth=e;return this};Listener.prototype.onValueChange=function(e){this.changeListener=e;this.changeListener(this.value)};Listener.prototype.process=function(e){this.processValue=e;return this};Listener.prototype.deattach=function(){this.component=null;this.attached=!1;this.key=null;this.childPath=null;this.path=null;this.unlink();this.value=null;this.changeListener=()=>{};this.processValue=()=>{}};var onMountEvent=document.createEvent('Event');onMountEvent.initEvent('mount',!0,!0);var onLoadEvent=document.createEvent('Event');onLoadEvent.initEvent('load',!0,!0);var append=(e,t,n)=>{typeof e.dispatchEvent==='function'&&e.dispatchEvent(onLoadEvent);if(n&&t){t.parentNode&&(t.parentNode.insertBefore(e,t),typeof e.dispatchEvent==='function'&&e.dispatchEvent(onMountEvent));return e}t.appendChild(e);typeof e.dispatchEvent==='function'&&e.dispatchEvent(onMountEvent);return e},getLast=e=>{if(e.$redirect&&e.$redirect[e.$redirect.length-1]){return getLast(e.$redirect[e.$redirect.length-1])}return e},mountChildren=(e,t,n)=>{n===void 0&&(n=0);if(!e){return}e.$redirect&&e.$redirect.length>0?mountChildren(getLast(e),t,n+1):e.children&&e.children.length>0&&(e.html&&e.html.length===1?mount(e.children,e.html[0],e.html[0].nodeType!==1,e.$isSvg,e.$depth):mount(e.children,e.$pointer,!0,e.$isSvg,e.$depth))},textNode=e=>(document.createTextNode((typeof e==='object'?JSON.stringify(e):e))),mount=(e,t,n,r,o)=>{n===void 0&&(n=!1);r===void 0&&(r=!1);o===void 0&&(o=0);t=typeof t==='string'?document.getElementById(t):t;var i=flatten([e]).map(filterNode),s=function(e){var s=i[e];s instanceof Node?append(s,t,n):s&&typeof s.render==='function'&&(s.$pointer=textNode(''),append(s.$pointer,t,n),i[e].render(e=>{if(s.$pointer===!1){return!1}for(var r=0;r<e.length;r++)s.$pointer?append(e[r],s.$pointer,!0):append(e[r],t,n);mountChildren(s,s.$isSvg,o+1)},s,o,r))};for(var u=0;u<i.length;u++)s(u);return i},getElementFromQuery=(e,t)=>{if(typeof e==='string'||typeof e==='number'){return e!=='template'?t||e==='svg'?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e):document.createDocumentFragment()}console.warn('[Radi.js] Warn: Creating a JSX element whose query is not of type string, automatically converting query to string.');return document.createElement(e.toString())},explode=(e,t,n,r,o)=>{r===void 0&&(r=0);var i=flatten([e]).map(filterNode);for(var s=0;s<i.length;s++)(i[s] instanceof Structure||i[s].isStructure)&&!i[s].html&&(t.children.length<=0&&(t.$redirect?t.$redirect.push(i[s]):(t.$redirect=[i[s]])),!t.$redirect&&i[s].children&&(t.children=t.children.concat(i[s].children)),typeof i[s].render==='function'&&i[s].render(e=>{n(e)},i[s],r+1,o));return},parseValue=e=>typeof e==='number'&&!Number.isNaN(e)?`${e}px`:e,setStyles=(e,t,n)=>{t===void 0&&(t={});n===void 0&&(n={});if(!e.html||!e.html[0]){return t}var r=e.html[0];if(t instanceof Listener){if(typeof e.$styleListeners.general!=='undefined'){return r.style}e.$styleListeners.general=t;e.$styleListeners.general.applyDepth(e.depth).init();e.$styleListeners.general.onValueChange(t=>{setStyles(e,t,{})});return r.style}if(typeof t==='string'){r.style=t;return r.style}var o=Object.keys(n).filter(e=>typeof t[e]==='undefined'),i=function(o){if(t.hasOwnProperty(o)){if(typeof n!=='undefined'&&n[o]===t[o]){return}if(!t[o]&&typeof t[o]!=='number'){r.style[o]=null;return}if(t[o] instanceof Listener){if(typeof e.$styleListeners[o]!=='undefined'){return}e.$styleListeners[o]=t[o];e.$styleListeners[o].applyDepth(e.depth).init();e.$styleListeners[o].onValueChange(t=>{setStyles(e,{[o]:t},{})});t[o]=e.$styleListeners[o].value;return}r.style[o]=parseValue(t[o])}};for(var s in t)i(s);for(var u=0;u<o.length;u++)r.style[o[u]]=null;return r.style},parseClass=e=>{if(Array.isArray(e)){return e.filter(e=>e).join(' ')}return e},setAttributes=(e,t,n)=>{t===void 0&&(t={});n===void 0&&(n={});var r=t||{},o=n||{};if(!e.html||!e.html[0]){return e}var i=e.html[0];if(!(i instanceof Node&&i.nodeType!==3)){return e}var s=Object.keys(o).filter(e=>typeof r[e]==='undefined'),u=function(t){if(r.hasOwnProperty(t)){if(typeof o!=='undefined'&&o[t]===r[t]){return}t==='checked'&&(i.checked=r[t]);if(!r[t]&&typeof r[t]!=='number'&&typeof r[t]!=='string'){i.removeAttribute(t);return}if(r[t] instanceof Listener){if(typeof e.$attrListeners[t]!=='undefined'){return}e.$attrListeners[t]=r[t];r[t].applyDepth(e.depth).init();(t.toLowerCase()==='model'||t.toLowerCase()==='checked')&&(i.getAttribute('type')==='radio'?(i.addEventListener('input',n=>{e.$attrListeners[t].updateValue(n.target.checked&&n.target.value||n.target.checked)},!1),e.$attrListeners[t].onValueChange(t=>{setAttributes(e,{checked:i.value===t&&Boolean(t)},{})})):i.getAttribute('type')==='checkbox'?(i.addEventListener('input',n=>{e.$attrListeners[t].updateValue(Boolean(n.target.checked))},!1),e.$attrListeners[t].onValueChange(t=>{setAttributes(e,{checked:Boolean(t)},{})})):i.addEventListener('input',n=>{e.$attrListeners[t].updateValue(n.target.value)},!1));/(checkbox|radio)/.test(i.getAttribute('type'))||e.$attrListeners[t].onValueChange(n=>{setAttributes(e,{[t]:n},{})});r[t]=e.$attrListeners[t].value;return}(t==='value'||t==='model')&&(i.value=r[t]);if(typeof GLOBALS.CUSTOM_ATTRIBUTES[t]!=='undefined'){var n=GLOBALS.CUSTOM_ATTRIBUTES[t],s=n.allowedTags;if(!s||s&&s.length>0&&s.indexOf(i.localName)>=0){typeof GLOBALS.CUSTOM_ATTRIBUTES[t].caller==='function'&&GLOBALS.CUSTOM_ATTRIBUTES[t].caller(i,r[t]);if(!GLOBALS.CUSTOM_ATTRIBUTES[t].addToElement){return}}}if(t.toLowerCase()==='style'){typeof r[t]==='object'?setStyles(e,r[t],o&&o.style||{}):(i.style=r[t]);return}if(t.toLowerCase()==='class'||t.toLowerCase()==='classname'){i.setAttribute('class',parseClass(r[t]));return}if(t.toLowerCase()==='loadfocus'){i.addEventListener('mount',()=>{i.focus()},!1);return}if(t.toLowerCase()==='html'){i.innerHTML=r[t];return}if(t.substring(0,2).toLowerCase()==='on'&&typeof r[t]==='function'){var u=r[t];t.substring(0,8).toLowerCase()==='onsubmit'?(i[t]=t=>{r.prevent&&t.preventDefault();var n=[],o=t.target.elements||[];for(var i of o){if(i.name!==''&&(i.type!=='radio'&&i.type!=='checkbox')||i.checked){var s={name:i.name,el:i,type:i.type,default:i.defaultValue,value:i.value,set(t){e.el.value=t},reset(t){e.el.value=t;e.el.defaultValue=t}};n.push(s);n[s.name]||Object.defineProperty(n,s.name,{value:s})}}return u(t,n)}):(i[t]=(e,...t)=>u(e,...t));return}i.setAttribute(t,r[t])}};for(var a in r)u(a);for(var l=0;l<s.length;l++)i.removeAttribute(s[l]);e.props=r;return e},Structure=function(e,t,n,r){t===void 0&&(t={});r===void 0&&(r=0);this.query=e;this.props=Boolean!==t?t:{};isComponent(e)||e instanceof Component?(this.$compChildren=flatten(n||[]).map(filterNode),this.children=[]):(this.children=flatten(n||[]).map(filterNode),this.$compChildren=[]);this.html=null;this.$attrListeners=[];this.$styleListeners=[];this.$pointer=null;this.$component=null;this.$listener=null;this.$redirect=null;this.$destroyed=!1;this.$isSvg=e==='svg';this.$depth=r};Structure.prototype.mount=function(){this.$destroyed=!1;this.$component instanceof Component&&this.$component.mount();typeof this.onMount==='function'&&this.onMount()};Structure.prototype.destroy=function(e){e===void 0&&(e=!0);if(this.$destroyed){return!1}for(var t in this.$styleListeners)this.$styleListeners[t]&&typeof this.$styleListeners[t].deattach==='function'&&this.$styleListeners[t].deattach();for(var n in this.$attrListeners)this.$attrListeners[n]&&typeof this.$attrListeners[n].deattach==='function'&&this.$attrListeners[n].deattach();if(this.$redirect){for(var r=0;r<this.$redirect.length;r++)typeof this.$redirect[r].destroy==='function'&&this.$redirect[r].destroy()}if(e&&this.children){for(var o=0;o<this.children.length;o++)typeof this.children[o].destroy==='function'&&this.children[o].destroy()}if(this.html){var i=this.html,s=function(e){if(i[e].parentNode){var t=()=>i[e].parentNode.removeChild(i[e]);typeof i[e].beforedestroy==='function'?i[e].beforedestroy(t):t()}};for(var u=0;u<this.html.length;u++)s(u)}this.$component instanceof Component&&this.$component.destroy();this.$listener instanceof Listener&&this.$listener.deattach();this.$pointer&&this.$pointer.parentNode&&this.$pointer.parentNode.removeChild(this.$pointer);typeof this.onDestroy==='function'&&this.onDestroy();this.$pointer=null;this.$redirect=null;this.$component=null;this.render=()=>{};this.html=null;this.$destroyed=!0;return!0};Structure.prototype.render=function(e,t,n,r){n===void 0&&(n=0);r===void 0&&(r=!1);this.$depth=Math.max(this.$depth,n);this.$isSvg=r||t&&t.$isSvg||this.query==='svg';if(this.query==='#text'){this.html=[textNode(this.props)];return e(this.html)}if(typeof this.query==='string'||typeof this.query==='number'){this.html=[getElementFromQuery(this.query,this.$isSvg)];setAttributes(this,this.props,{});return e(this.html)}if(this.query instanceof Listener){this.$listener||(this.$listener=this.query.applyDepth(this.$depth).init(),this.mount());return this.query.onValueChange(n=>{if(this.html){var r=this.html[0];this.$pointer?(this.$redirect=patch(this.$redirect,n,this.$pointer,!0,this.$isSvg,this.$depth+1)):(this.$redirect=patch(this.$redirect,n,r,!0,this.$isSvg,this.$depth+1))}else explode(n,t||this,t=>{this.html=t,e(t)},this.$depth+1,this.$isSvg)})}if(this.query instanceof Promise||this.query.constructor.name==='LazyPromise'){return this.query.then(n=>{var r=n.default||n;explode(r,t||this,t=>{this.html=t,e(t)},this.$depth,this.$isSvg)})}if(this.query instanceof Component&&typeof this.query.render==='function'){this.$component=this.query;return explode(this.$component.render(),t||this,t=>{this.html=t,e(t),this.mount()},this.$depth,this.$isSvg)}if(isComponent(this.query)){this.$component||(this.$component=new this.query(this.$compChildren).setProps(this.props));typeof this.$component.render==='function'&&(explode(this.$component.render(),t||this,t=>{this.html=t,e(t)},this.$depth,this.$isSvg),this.mount());return null}if(typeof this.query==='function'){return explode(this.query(this.props),t||this,t=>{this.html=t,e(t)},this.$depth,this.$isSvg)}return e(textNode(this.query))};Structure.prototype.isStructure=function(){return!0};var patch=(e,t,n,r,o,i)=>{r===void 0&&(r=!1);o===void 0&&(o=!1);i===void 0&&(i=0);var s=flatten([e]),u=flatten([t]).map(filterNode),a=Math.max(s.length,u.length),l=function(e){if(typeof s[e]==='undefined'){mount(u[e],n,r,o,i);return}if(typeof u[e]==='undefined'){typeof s[e].destroy==='function'&&s[e].destroy();return}u[e].$depth=i;if((s[e] instanceof Structure||s[e].isStructure)&&(u[e] instanceof Structure||u[e].isStructure)&&s[e]!==u[e]){if(s[e].html&&s[e].query==='#text'&&u[e].query==='#text'){for(var t=0;t<s[e].html.length;t++)s[e].props!==u[e].props&&(s[e].html[t].textContent=s[e].props=u[e].props);u[e].html=s[e].html;s[e].html=null;s[e].$pointer&&(u[e].$pointer&&u[e].$pointer.parentNode&&u[e].$pointer.parentNode.removeChild(u[e].$pointer),u[e].$pointer=s[e].$pointer,s[e].$pointer=null);s[e].destroy();return}if(s[e].html&&typeof s[e].query==='string'&&typeof u[e].query==='string'&&s[e].query===u[e].query){u[e].html=s[e].html;s[e].html=null;s[e].$pointer&&(u[e].$pointer&&u[e].$pointer.parentNode&&u[e].$pointer.parentNode.removeChild(u[e].$pointer),u[e].$pointer=s[e].$pointer,s[e].$pointer=null);setAttributes(u[e],u[e].props,s[e].props);u[e].html[0]&&u[e].children&&u[e].children.length>0&&(u[e].children=patch(s[e].children,u[e].children,u[e].html[0],!1,u[e].$isSvg,u[e].$depth+1));s[e].destroy();return}var a=s[e],l=u[e];l.$pointer=textNode('');append(l.$pointer,n,r);l.render(t=>{a.$pointer&&(l.$pointer&&l.$pointer.parentNode&&l.$pointer.parentNode.removeChild(l.$pointer),l.$pointer=a.$pointer,a.$pointer=null);for(var n=0;n<t.length;n++)a.html&&!a.html[e]||!a.html?append(t[n],l.$pointer,!0):append(t[n],a.html[e],!0);mountChildren(l,o,i+1);a.destroy(!1)},l,i,o)}};for(var p=0;p<a;p++)l(p);return u},capitalise=e=>e.charAt(0).toUpperCase()+e.substr(1),Component=function(e,t){this.addNonEnumerableProperties({$id:generateId(),$name:this.constructor.name,$config:typeof this.config==='function'?this.config():{listen:!0},__$events:{},__$privateStore:new PrivateStore});if(typeof this.on!=='function'||typeof this.on==='function'&&typeof this.on()==='object'){throw new Error('[Radi.js] Using `on.eventName()` is deprecated. Please use `onEventName()`.')}this.children=[];for(var n in GLOBALS.HEADLESS_COMPONENTS)this[n]&&typeof this[n].on==='function'&&this[n].on('update',()=>this.setState());this.state=typeof this.state==='function'?this.state():(this.state||{});skipInProductionAndTest(()=>Object.freeze(this.state));e&&this.setChildren(e);t&&this.setProps(t)};Component.prototype.render=function(){if(typeof this.view!=='function'){return null}return this.html=this.view()};Component.prototype.setProps=function(e){var t={},n=this,r=function(r){typeof e[r]==='function'&&r.substr(0,2)==='on'?n.on(r.substring(2,r.length),e[r]):e[r] instanceof Listener?(t[r]=e[r].init().value,e[r].changeListener=(e=>{n.setState({[r]:e})})):(t[r]=e[r])};for(var o in e)r(o);this.setState(t);return this};Component.prototype.setChildren=function(e){this.children=e;this.setState();for(var t=0;t<this.children.length;t++)typeof this.children[t].on==='function'&&this.children[t].on('update',()=>this.setState());return this};Component.prototype.addNonEnumerableProperties=function(e){for(var t in e){if(typeof this[t]!=='undefined'){continue}Object.defineProperty(this,t,{value:e[t]})}};Component.prototype.addListener=function(e,t,n){this.__$privateStore.addListener(e,t,n)};Component.prototype.mount=function(){this.trigger('mount')};Component.prototype.destroy=function(){this.html=null;this.trigger('destroy');this.__$privateStore.removeListeners()};Component.prototype.when=function(){throw new Error('[Radi.js] Using `.when(\'Event\')` is deprecated. Use `.on(\'Event\')` instead.')};Component.prototype.on=function(e,t){typeof this.__$events[e]==='undefined'&&(this.__$events[e]=[]);this.__$events[e].push(t);return t};Component.prototype.trigger=function(e,...t){var n=this[`on${capitalise(e)}`];typeof n==='function'&&n.call(this,...t);if(typeof this.__$events[e]!=='undefined'){for(var r in this.__$events[e])this.__$events[e][r].call(this,...t)}};Component.prototype.setState=function(e,t){if(typeof e==='object'){var n=this.state;skipInProductionAndTest(()=>n=clone(this.state));this.state=Object.assign(n,e);skipInProductionAndTest(()=>Object.freeze(this.state));this.$config.listen&&this.__$privateStore.setState(e)}!this.$config.listen&&typeof this.view==='function'&&this.html&&(this.html=patch(this.html,this.view()));typeof t==='string'&&typeof this[t]==='function'&&this.trigger(`after${capitalise(t)}`,e);this.trigger('update');return e};Component.isComponent=function(){return!0};var isComponent=e=>{if(e){if(e.prototype instanceof Component){return!0}if(e.isComponent){return!0}}return!1},filterNode=e=>{if(Array.isArray(e)){return e.map(filterNode)}if(typeof e==='string'||typeof e==='number'){return r('#text',e)}if(!e||typeof e==='boolean'){return r('#text','')}if(e instanceof Listener){return r(e)}if(isComponent(e)||e instanceof Component){return r(e)}if(typeof e==='function'){return r(e)}if(e instanceof Promise||e.constructor.name==='LazyPromise'){return r(e)}return e},r=(e,t,...n)=>{if(typeof GLOBALS.CUSTOM_TAGS[e]!=='undefined'){return GLOBALS.CUSTOM_TAGS[e].onmount(t||{},n&&flatten([n]).map(filterNode)||[],filterNode,t=>GLOBALS.CUSTOM_TAGS[e].saved=t)||null}if(e==='await'){var r=null;t.src&&t.src instanceof Promise&&t.src.then(e=>{var n=filterNode(typeof t.transform==='function'?t.transform(e):e);r?(r=patch(r,n,r.html[0].parentNode)):(r=n)}).catch(e=>{var n=filterNode(typeof t.error==='function'?t.error(e):t.error);r?(r=patch(r,n,r.html[0].parentNode)):(r=n)});r||(r=filterNode(t.placeholder));return r}if(e==='template'){return new Structure('section',t,flatten([n]).map(filterNode))}return new Structure(e,t,flatten([n]).map(filterNode))},listen=(e,...t)=>new Listener(e,...t),headless=(e,t)=>{var n='$'.concat(e),r=new t;r.mount();Component.prototype[n]=r;return GLOBALS.HEADLESS_COMPONENTS[n]=r},action=(e,t,n)=>{var r=n.value;return{configurable:!0,value(...e){return this.setState.call(this,r.call(this,...e),t)}}},createWorker=e=>{var t=()=>{},n=new window.Blob([`self.onmessage = function(e) {
    self.postMessage((${e.toString()})(e.data));
  }`],{type:'text/javascript'}),r=window.URL.createObjectURL(n),o=new window.Worker(r);o.onmessage=e=>{t(e.data,null)};o.onerror=e=>{t(null,e.data)};return e=>new Promise((n,r)=>{t=(e,t)=>!t?n(e):r(e),o.postMessage(e)})},worker=(e,t,n)=>{var r=n.value,o=createWorker(r);n.value=function(...e){o(...e).then(e=>{this.setState.call(this,e)})};return n},subscribe=(e,t)=>(n,r,o)=>{var i=o.value,s=()=>{};if(typeof i!=='function'){throw new Error(`@subscribe decorator can only be applied to methods not: ${typeof i}`)}var u=!1;e[t]=(...e)=>s(...e);return{configurable:!0,get(){if(u||this===n.prototype||this.hasOwnProperty(r)||typeof i!=='function'){return i}s=i.bind(this);u=!0;Object.defineProperty(this,r,{configurable:!0,get(){return s},set(e){i=e;delete this[r]}});u=!1;return s},set(e){i=e}}},customTag=(e,t,n)=>GLOBALS.CUSTOM_TAGS[e]={name:e,onmount:t||(()=>{}),ondestroy:n||(()=>{}),saved:null},customAttribute=(e,t,n)=>{n===void 0&&(n={});var r=n.allowedTags,o=n.addToElement;return GLOBALS.CUSTOM_ATTRIBUTES[e]={name:e,caller:t,allowedTags:r||null,addToElement:o}},remountActiveComponents=()=>{Object.values(GLOBALS.ACTIVE_COMPONENTS).forEach(e=>{typeof e.onMount==='function'&&e.onMount(e)})},animate=(e,t,n,r)=>{var o=n[t];if(typeof o!=='function'){console.warn(`[Radi.js] Animation \`${t}\` for node \`${e.nodeName.toLowerCase}\` should be function`);return}return o(e,r)};customAttribute('animation',(e,t)=>{animate(e,'in',t,()=>{}),e.beforedestroy=n=>animate(e,'out',t,n)});var Modal=(function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.state=function(){return{registry:{}}};t.prototype.register=function(e,t){if(typeof this.state.registry[e]!=='undefined'){console.warn(`[Radi.js] Warn: Modal with name "${e}" is already registerd!`);return}this.setState({registry:Object.assign({},this.state.registry,{[e]:{status:!1,element:t}})},'register')};t.prototype.exists=function(e){if(typeof this.state.registry[e]==='undefined'){console.warn(`[Radi.js] Warn: Modal with name "${e}" is not registerd!`);return!1}return!0};t.prototype.open=function(e){if(!this.exists(e)||this.state.registry[e].status){return}return this.setState({registry:Object.assign({},this.state.registry,{[e]:{status:!0,element:this.state.registry[e].element}})},'open')};t.prototype.close=function(e){if(!this.exists(e)||!this.state.registry[e].status){return}return this.setState({registry:Object.assign({},this.state.registry,{[e]:{status:!1,element:this.state.registry[e].element}})},'close')};t.prototype.closeAll=function(){var e=Object.keys(this.state.registry),t=e.reduce((e,t)=>Object.assign(e,{[t]:{status:!1,element:this.state.registry[t].element}}),{});return this.setState({registry:t},'closeAll')};return t}(Component)),$modal=headless('modal',Modal);customTag('modal',(e,t,n)=>{var o=e.name||'default';$modal.register(o,null);typeof e.name==='undefined'&&console.warn('[Radi.js] Warn: Every <modal> tag needs to have `name` attribute!');var i=mount(listen($modal,'registry',o).process(e=>e.status&&r('div',{class:'radi-modal',name:o},r('div',{class:'radi-modal-backdrop',onclick:()=>$modal.close(o)}),r('div',{class:'radi-modal-content'},...(t.slice())))),document.body),s=n(null);s.onDestroy=()=>{for(var e=0;e<i.length;e++)typeof i[e].destroy==='function'&&i[e].destroy()};return s},()=>{});var Radi={version:GLOBALS.VERSION,activeComponents:GLOBALS.ACTIVE_COMPONENTS,r,listen,l:listen,worker,Component,component:Component,action,subscribe,customTag,customAttribute,headless,update:patch,patch,mount,freeze:()=>{GLOBALS.FROZEN_STATE=!0},unfreeze:()=>{GLOBALS.FROZEN_STATE=!1,remountActiveComponents()}};Radi.plugin=(e,...t)=>e(Radi,...t);window&&(window.Radi=Radi);export default Radi