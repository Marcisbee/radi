{"version":3,"sources":["node_modules/process/browser.js","node_modules/radi/dist/radi.js","node_modules/radi-router/src/index.js","app/helpers/globals.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/bundle-loader.js","app/routes.js","App.radi","index.js","node_modules/@babel/helper-plugin-utils/lib/index.js","node_modules/babel-plugin-transform-radi-listen/src/index.js","app/helpers/radi-compiler-browser.js","app/helpers/search.js","app/helpers/docs-bundle.js","app/helpers/docs.js","Header.radi","DocsLayout.radi"],"names":["global","factory","exports","module","define","amd","GLOBALS","HEADLESS_COMPONENTS","FROZEN_STATE","VERSION","ACTIVE_COMPONENTS","getElementAttributes","el","attributes","fuseAttributes","toEl","elAttributes","toElAttributes","i","l","length","toElAttr","item","toElAttrNamespaceURI","namespaceURI","elAttr","getNamedItemNS","name","getNamedItem","style","value","setAttributeNS","setAttribute","i$1","elAttr$1","elAttrNamespaceURI","removeAttributeNS","removeAttribute","destroy","node","Node","treeWalker","document","createTreeWalker","NodeFilter","SHOW_ALL","bulk","nextNode","listeners","deattach","attributeListeners","styleListeners","push","parentNode","removeChild","bind","fuse","toNode","fromNode","childOnly","Array","isArray","nt1","nodeType","nt2","isPointer","insertBefore","nodeValue","tagName","__async","replaceWith","a1","childNodes","a2","max","Math","appendChild","FuseDom","prototype","fuse$1","args","destroy$1","fuseDom","Listener","component","path","assign","key","slice","depth","attached","processValue","changeListener","init","getValue","state","addListener","handleUpdate","unlink","clone","target","source","out","setPartialState","updateValue","setState","newValue","applyDepth","onValueChange","process","childPath","AttributeListener","ref","attributeKey","listener","element","handleValueChange","attach","test","getAttribute","addEventListener","e","checked","setAttributes","StyleListener","styleKey","setStyle","updateElement","newElement","parseValue","Number","isNaN","property","undefined","setStyles","styles","parseClass","filter","join","loop","toLowerCase","onload","setTimeout","focus","innerHTML","onchange","oninput","substring","data","inputs","elements","input","type","default","defaultValue","set","val","reset","Object","defineProperty","getElementFromQuery","query","isSvg","createElementNS","createElement","createDocumentFragment","console","warn","toString","generateId","uuid","random","PrivateStore","store","createItemWrapper","removeListeners","o","keys","newState","triggerListeners","sort","map","n","obj","cloned","hasOwnProperty","skipInProductionAndTest","fn","Component","children","props","addNonEnumerableProperties","$id","$name","constructor","$config","config","listen","$events","$privateStore","on","when","freeze","setChildren","render","view","rendered","buildNode","html","setProps","mount","trigger","call","oldstate","isComponent","id","slot","getElementById","SVGElement","ensureArray","listenerToNode","after","customAppend","DocumentFragment","from","appendChildren","insertAfter","beforeNode","newNode","nextSibling","ElementListener","pointer","createTextNode","listenerAsNode","remove","real","insert","newNodeContainer","min","diff","appendListenerToElement","child","Promise","placeholder","then","catch","forEach","htmlCache","svgCache","memoizeHTML","memoizeSVG","Query","propsWithChildren","copyIsSvg","cloneNode","buildNode$1","svg","r","remountActiveComponents","values","onMount","createWorker","fire","blob","Blob","url","window","URL","createObjectURL","myWorker","Worker","onmessage","onerror","arg","resolve","reject","err","postMessage","worker","descriptor","act","promisedWorker","action","subscribe","container","eventName","triggerMount","Radi","version","activeComponents","headless","comp","concat","mountedComponent","unfreeze","plugin","routes","current","COLON","charCodeAt","SLASH","cr","crg","lr","ld","parseRoute","route","parts","split","end","p","substr","RegExp","parseAllRoutes","arr","len","ret","renderError","number","errors","writeUrl","location","hash","guard","before","active","last","deep","_router","extractChildren","extracted","nn","getRoute","curr","cahnged","Route","match","reduce","acc","m","cmp","params","RouterHead","activeComponent","onhashchange","hashChange","loc","a","scrollTo","inject","pulse","RouteComponent","WillRender","redirect","middleResolve","Link","to","core","class","title","href","$router","cls","Router","beforeEach","afterEach","write","github","slack","docs","repl","startingCode","bundleURL","getBundleURLCached","getBundleURL","Error","matches","stack","getBaseURL","replace","require","loadBundlesLazy","bundles","code","LazyPromise","loadBundles","all","loadBundle","bundleLoaders","registerBundleLoader","loader","load","register","bundle","lastIndexOf","bundleLoader","resolved","modules","executor","promise","onSuccess","onError","next","_radi_listen","App","loadJS","scriptTag","src","onreadystatechange","body","toDestroy","app","hot","accept","dispose","del","replaceChild","FINDTOKENS","definitions","comment","regex","extract","custom","method","matchToo","multiple","savedTokens","template","outside","trim","remapCode","output","rebuild","parse","cb","saveToken","contents","tokenize","CODE","replaced","splice","offset","find","mod","first","L","R","indexState","index","endIndex","tokenID","parsed","search","x","y","list","y2","score","step","strength","indexOf","introduction","installation","hyperscript","components","actions","events","headlessComponents","page","Header","DocsLayout","searchOverlay","results","onkeydown","keydown","metaKey","ctrlKey","keyCode","preventDefault","openSearch","searchKey","closeSearch","phrase","treshold","res","s","term","text","makeSearch","result","addHighlight"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxLC,WAAUA,MAAV,EAAkBC,OAAlB,EAA2B;AAC1B,SAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,WAAjD,GAA+DF,SAA/D,GACA,OAAOG,MAAP,KAAkB,UAAlB,IAAgCA,OAAOC,GAAvC,GAA6CD,OAAOH,OAAP,CAA7C,GACCA,SAFD;AAGD,CAJA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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"radi-website.map","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (factory());\n}(this, (function () { 'use strict';\n\n  var GLOBALS = {\n    HEADLESS_COMPONENTS: {},\n    FROZEN_STATE: false,\n    VERSION: '0.3.20',\n    // TODO: Collect active components\n    ACTIVE_COMPONENTS: {},\n  };\n\n  function getElementAttributes(el) {\n  \treturn el.attributes;\n  }\n\n  function fuseAttributes(el, toEl, elAttributes) {\n  \tvar toElAttributes = toEl.attributes;\n\n  \tfor (var i = 0, l = toElAttributes.length; i < l; i++) {\n  \t\tvar toElAttr = toElAttributes.item(i);\n  \t\tvar toElAttrNamespaceURI = toElAttr.namespaceURI;\n  \t\tvar elAttr = toElAttrNamespaceURI ?\n  \t\t\telAttributes.getNamedItemNS(toElAttrNamespaceURI, toElAttr.name) :\n  \t\t\telAttributes.getNamedItem(toElAttr.name);\n\n  \t\tif (elAttr && elAttr.name === 'style') {\n  \t\t\tfor (var style of toEl.style) {\n  \t\t\t\tif (el.style[style] !== toEl.style[style]) {\n  \t\t\t\t\tel.style[style] = toEl.style[style];\n  \t\t\t\t}\n  \t\t\t}\n  \t\t\tcontinue;\n  \t\t}\n\n  \t\tif (!elAttr || elAttr.value != toElAttr.value) {\n  \t\t\tif (toElAttrNamespaceURI) {\n  \t\t\t\tel.setAttributeNS(toElAttrNamespaceURI, toElAttr.name, toElAttr.value);\n  \t\t\t} else {\n  \t\t\t\tel.setAttribute(toElAttr.name, toElAttr.value);\n  \t\t\t}\n  \t\t}\n  \t}\n\n  \tfor (var i$1 = elAttributes.length; i$1;) {\n  \t\tvar elAttr$1 = elAttributes.item(--i$1);\n  \t\tvar elAttrNamespaceURI = elAttr$1.namespaceURI;\n\n  \t\tif (elAttrNamespaceURI) {\n  \t\t\tif (!toElAttributes.getNamedItemNS(elAttrNamespaceURI, elAttr$1.name)) {\n  \t\t\t\tel.removeAttributeNS(elAttrNamespaceURI, elAttr$1.name);\n  \t\t\t}\n  \t\t} else {\n  \t\t\tif (!toElAttributes.getNamedItem(elAttr$1.name)) {\n  \t\t\t\tel.removeAttribute(elAttr$1.name);\n  \t\t\t}\n  \t\t}\n  \t}\n  }\n\n  var destroy = node => {\n  \tif (!(node instanceof Node)) { return; }\n  \tvar treeWalker = document.createTreeWalker(\n  \t\tnode,\n  \t\tNodeFilter.SHOW_ALL,\n  \t\tel => true,\n  \t\tfalse\n  \t);\n\n  \tvar el;\n  \tvar bulk = [];\n  \twhile((el = treeWalker.nextNode())) {\n  \t\tif (el.listeners) {\n  \t\t\tfor (var i = 0; i < el.listeners.length; i++) {\n  \t\t\t\tel.listeners[i].deattach();\n  \t\t\t}\n  \t\t}\n  \t\tel.listeners = null;\n  \t\tif (el.attributeListeners) {\n  \t\t\tfor (var i = 0; i < el.attributeListeners.length; i++) {\n  \t\t\t\tel.attributeListeners[i].deattach();\n  \t\t\t}\n  \t\t}\n  \t\tel.attributeListeners = null;\n  \t\tif (el.styleListeners) {\n  \t\t\tfor (var i = 0; i < el.styleListeners.length; i++) {\n  \t\t\t\tel.styleListeners[i].deattach();\n  \t\t\t}\n  \t\t}\n  \t\tel.styleListeners = null;\n  \t\tbulk.push((el => {\n  \t\t\tif (el && el.destroy) { el.destroy(); }\n  \t\t\tif (el && el.parentNode) {\n  \t\t\t\tel.parentNode.removeChild(el);\n  \t\t\t}\n  \t\t}).bind(null, el));\n  \t}\n  \tif (node.listeners) {\n  \t\tfor (var i = 0; i < node.listeners.length; i++) {\n  \t\t\tnode.listeners[i].deattach();\n  \t\t}\n  \t}\n  \tnode.listeners = null;\n  \tif (node.attributeListeners) {\n  \t\tfor (var i = 0; i < node.attributeListeners.length; i++) {\n  \t\t\tnode.attributeListeners[i].deattach();\n  \t\t}\n  \t}\n  \tnode.attributeListeners = null;\n  \tif (node.styleListeners) {\n  \t\tfor (var i = 0; i < node.styleListeners.length; i++) {\n  \t\t\tnode.styleListeners[i].deattach();\n  \t\t}\n  \t}\n  \tnode.styleListeners = null;\n\n  \tnode.styleListeners = null;\n  \tif (node.destroy) { node.destroy(); }\n  \tif (node.parentNode) {\n  \t\tnode.parentNode.removeChild(node);\n  \t\t// node.remove()\n  \t}\n\n  \t// Removes all dom elements\n  \tfor (var i = 0; i < bulk.length; i++) {\n  \t\tbulk[i]();\n  \t}\n  \tbulk = null;\n  };\n\n  /**\n   * @param {HTMLElement} newNode\n   * @param {HTMLElement} oldNode\n   * @returns {ElementListener}\n   */\n  var fuse = (toNode, fromNode, childOnly) => {\n  \tif (Array.isArray(fromNode) || Array.isArray(toNode)) { childOnly = true; }\n\n  \tif (!childOnly) {\n  \t\tvar nt1 = toNode.nodeType;\n  \t\tvar nt2 = fromNode.nodeType;\n\n  \t\tif (toNode.isPointer || fromNode.isPointer || toNode.destroy || fromNode.destroy) {\n  \t\t\ttoNode.parentNode.insertBefore(fromNode, toNode);\n  \t\t\tdestroy(toNode);\n  \t\t\treturn fromNode;\n  \t\t}\n\n  \t\tif (nt1 === nt2 && (nt1 === 3 || nt2 === 8)) {\n  \t\t\tif (toNode.nodeValue !== fromNode.nodeValue) {\n  \t\t\t\ttoNode.nodeValue = fromNode.nodeValue;\n  \t\t\t\tdestroy(fromNode);\n  \t\t\t}\n  \t\t\treturn toNode;\n  \t\t}\n\n  \t\t// if (nt1 === 1 || nt2 === 1) {\n  \t\t// \ttoNode.replaceWith(fromNode);\n  \t\t// \tdestroy(toNode);\n  \t\t// \treturn fromNode;\n  \t\t// }\n  \t\tif ((nt1 === 1 || nt2 === 1)\n  \t\t\t&& (toNode.tagName !== fromNode.tagName)\n  \t\t\t|| (toNode.__async || fromNode.__async)\n  \t\t\t|| (toNode.listeners && toNode.listeners.length || fromNode.listeners && fromNode.listeners.length)) {\n  \t\t\tif (toNode.parentNode) {\n  \t\t\t\ttoNode.parentNode.insertBefore(fromNode, toNode);\n  \t\t\t\tdestroy(toNode);\n  \t\t\t\treturn fromNode;\n  \t\t\t} else {\n  \t\t\t\ttoNode.replaceWith(fromNode);\n  \t\t\t\tdestroy(toNode);\n  \t\t\t\treturn fromNode;\n  \t\t\t}\n  \t\t}\n\n  \t\tfuseAttributes(toNode, fromNode, getElementAttributes(toNode));\n  \t}\n\n  \tvar a1 = [ ...toNode.childNodes || toNode ];\n  \tvar a2 = [ ...fromNode.childNodes || fromNode ];\n  \tvar max = Math.max(a1.length, a2.length);\n\n  \tfor (var i = 0; i < max; i++) {\n  \t\tif (a1[i] && a2[i]) {\n  \t\t\t// Fuse\n  \t\t\tfuse(a1[i], a2[i]);\n  \t\t} else\n  \t\tif (a1[i] && !a2[i]) {\n  \t\t\t// Remove\n  \t\t\tdestroy(a1[i]);\n  \t\t} else\n  \t\tif (!a1[i] && a2[i]) {\n  \t\t\t// Add\n  \t\t\ttoNode.appendChild(a2[i]);\n  \t\t}\n  \t}\n\n  \tdestroy(fromNode);\n  \treturn toNode;\n  };\n\n  var FuseDom = function FuseDom () {};\n\n  FuseDom.prototype.fuse = function fuse$1 (...args) {\n  \treturn fuse(...args);\n  };\n  FuseDom.prototype.destroy = function destroy$1 (...args) {\n  \treturn destroy(...args);\n  };\n\n  var fuseDom = new FuseDom();\n\n  /* eslint-disable no-param-reassign */\n\n  var Listener = function Listener(component, ...path) {\n    var assign;\n\n    this.component = component;\n    (assign = path, this.key = assign[0]);\n    this.path = path.slice(1, path.length);\n    this.depth = 0;\n    this.attached = true;\n    this.processValue = value => value;\n    this.changeListener = () => {};\n  };\n\n  /**\n   * Applies values and events to listener\n   */\n  Listener.prototype.init = function init () {\n    this.value = this.getValue(this.component.state[this.key]);\n    this.component.addListener(this.key, this, this.depth);\n    this.handleUpdate(this.component.state[this.key]);\n    return this;\n  };\n\n  /**\n   * Removes last active value with destroying listeners and\n   * @param {*} value\n   */\n  Listener.prototype.unlink = function unlink () {\n    if (this.value instanceof Node) {\n      // Destroy this Node\n      fuseDom.destroy(this.value);\n    } else\n    if (this.value instanceof Listener) {\n      // Deattach this Listener\n      this.value.deattach();\n    }\n  };\n\n\n  Listener.prototype.clone = function clone (target, source) {\n    var out = {};\n\n    for (var i in target) {\n      out[i] = target[i];\n    }\n    for (var i$1 in source) {\n      out[i$1] = source[i$1];\n    }\n\n    return out;\n  };\n\n  Listener.prototype.setPartialState = function setPartialState (path, value, source) {\n    var target = {};\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? this.setPartialState(path.slice(1), value, source[path[0]])\n          : value;\n      return this.clone(source, target);\n    }\n    return value;\n  };\n\n  /**\n   * Updates state value\n   * @param {*} value\n   */\n  Listener.prototype.updateValue = function updateValue (value) {\n    var source = this.component.state[this.key];\n    return this.component.setState({\n      [this.key]: this.setPartialState(this.path, value, source),\n    });\n  };\n\n  /**\n   * @param {*} value\n   */\n  Listener.prototype.handleUpdate = function handleUpdate (value) {\n    var newValue = this.processValue(this.getValue(value));\n    if (this.value instanceof Listener && newValue instanceof Listener) {\n      this.value.processValue = newValue.processValue;\n      this.value.handleUpdate(this.value.component.state[this.value.key]);\n      newValue.deattach();\n    } else {\n      this.unlink();\n      this.value = newValue;\n      this.changeListener(this.value);\n    }\n  };\n\n  /**\n   * @param {*} source\n   * @returns {*}\n   */\n  Listener.prototype.getValue = function getValue (source) {\n    var i = 0;\n    while (i < this.path.length) {\n      if (source === null\n        || (!source[this.path[i]]\n        && typeof source[this.path[i]] !== 'number')) {\n        source = null;\n      } else {\n        source = source[this.path[i]];\n      }\n      i += 1;\n    }\n    return source;\n  };\n\n  /**\n   * @param {number} depth\n   * @returns {Listener}\n   */\n  Listener.prototype.applyDepth = function applyDepth (depth) {\n    this.depth = depth;\n    return this;\n  };\n\n  /**\n   * @param {function(*)} changeListener\n   */\n  Listener.prototype.onValueChange = function onValueChange (changeListener) {\n    this.changeListener = changeListener;\n    this.changeListener(this.value);\n  };\n\n  /**\n   * @param {function(*): *} processValue\n   * @returns {function(*): *}\n   */\n  Listener.prototype.process = function process (processValue) {\n    this.processValue = processValue;\n    return this;\n  };\n\n  Listener.prototype.deattach = function deattach () {\n    this.component = null;\n    this.attached = false;\n    this.key = null;\n    this.childPath = null;\n    this.path = null;\n    this.unlink();\n    this.value = null;\n    this.processValue = () => {};\n  };\n\n  var AttributeListener = function AttributeListener(ref) {\n    var attributeKey = ref.attributeKey;\n    var listener = ref.listener;\n    var element = ref.element;\n    var depth = ref.depth;\n\n    this.depth = depth + 1;\n    this.attributeKey = attributeKey;\n    this.listener = listener;\n    this.element = element;\n    this.attached = false;\n    this.handleValueChange = this.handleValueChange.bind(this);\n  };\n\n  /**\n   * Attaches attribute listener to given element and starts listening.\n   * @returns {AttributeListener}\n   */\n  AttributeListener.prototype.attach = function attach () {\n    if (!this.element.attributeListeners) { this.element.attributeListeners = []; }\n    this.element.attributeListeners.push(this);\n    this.listener.applyDepth(this.depth).init();\n    this.listener.onValueChange(this.handleValueChange);\n    this.attached = true;\n\n    if (this.attributeKey === 'model') {\n      if (/(checkbox|radio)/.test(this.element.getAttribute('type'))) {\n        this.element.addEventListener('change', (e) => {\n          this.listener.updateValue(e.target.checked);\n        });\n      } else {\n        this.element.addEventListener('input', (e) => {\n          this.listener.updateValue(e.target.value);\n        });\n      }\n    }\n    return this;\n  };\n\n  /**\n   * @param {*} value\n   */\n  AttributeListener.prototype.handleValueChange = function handleValueChange (value) {\n    if (this.attributeKey === 'value' || this.attributeKey === 'model') {\n      if (/(checkbox|radio)/.test(this.element.getAttribute('type'))) {\n        this.element.checked = value;\n      } else {\n        this.element.value = value;\n      }\n    } else {\n      setAttributes(this.element, { [this.attributeKey]: value });\n    }\n  };\n\n  AttributeListener.prototype.deattach = function deattach () {\n    this.attributeKey = null;\n    this.listener.deattach();\n    this.listener = null;\n    this.element = null;\n    this.attached = false;\n    this.handleValueChange = () => {};\n  };\n\n  var StyleListener = function StyleListener(ref) {\n    var styleKey = ref.styleKey;\n    var listener = ref.listener;\n    var element = ref.element;\n    var depth = ref.depth;\n\n    this.depth = depth + 1;\n    this.styleKey = styleKey;\n    this.listener = listener;\n    this.element = element;\n    this.attached = false;\n    this.handleValueChange = this.handleValueChange.bind(this);\n  };\n\n  /**\n   * Attaches style listener to given element and starts listening.\n   * @returns {StyleListener}\n   */\n  StyleListener.prototype.attach = function attach () {\n    if (!this.element.styleListeners) { this.element.styleListeners = []; }\n    this.element.styleListeners.push(this);\n    this.listener.applyDepth(this.depth).init();\n    this.listener.onValueChange(this.handleValueChange);\n    this.attached = true;\n    return this;\n  };\n\n  /**\n   * @param {*} value\n   */\n  StyleListener.prototype.handleValueChange = function handleValueChange (value) {\n    setStyle(this.element, this.styleKey, value);\n  };\n\n  /**\n   * @param {Node} newElement\n   */\n  StyleListener.prototype.updateElement = function updateElement (newElement) {\n    this.element = newElement;\n    return this.element;\n  };\n\n  StyleListener.prototype.deattach = function deattach () {\n    this.listener.deattach();\n    this.styleKey = null;\n    this.listener = null;\n    this.element = null;\n    this.attached = false;\n    this.handleValueChange = null;\n  };\n\n  /**\n   * @param {*} value\n   * @return {*}\n   */\n  var parseValue = value =>\n    typeof value === 'number' && !Number.isNaN(value) ? `${value}px` : value;\n\n  /* eslint-disable no-param-reassign */\n\n  /**\n   * @param {HTMLElement} element\n   * @param {string} property\n   * @param {string} value\n   * @param {number} depth\n   * @returns {*}\n   */\n  var setStyle = (element, property, value, depth) => {\n    if (typeof value === 'undefined') { return undefined; }\n\n    if (value instanceof Listener) {\n      new StyleListener({\n        styleKey: property,\n        listener: value,\n        element,\n        depth,\n      }).attach();\n      return element[property];\n    }\n\n    return element.style[property] = parseValue(value);\n  };\n\n  /**\n   * @param {HTMLElement} element\n   * @param {string|object|Listener} styles\n   * @returns {CSSStyleDeclaration}\n   */\n  var setStyles = (element, styles) => {\n    if (typeof styles === 'string') {\n      element.style = styles;\n    }\n\n    if (typeof styles !== 'object' || Array.isArray(styles)) {\n      return element.style;\n    }\n\n    if (styles instanceof Listener) {\n      new AttributeListener({\n        attributeKey: 'style',\n        listener: styles,\n        element,\n      }).attach();\n      return element.style;\n    }\n\n    for (var property in styles) {\n      setStyle(element, property, styles[property]);\n    }\n\n    return element.style;\n  };\n\n  /**\n   * @param {*} value\n   * @return {*}\n   */\n  var parseClass = value => {\n    if (Array.isArray(value)) {\n      return value.filter(item => item).join(' ')\n    }\n    return value;\n  };\n\n  /* eslint-disable guard-for-in */\n\n  /**\n   * @param {HTMLElement} element\n   * @param {object} attributes\n   * @param {number} depth\n   */\n  var setAttributes = (element, attributes, depth) => {\n    var loop = function ( key ) {\n      var value = attributes[key];\n\n      if (typeof value === 'undefined') { return; }\n\n      if (!value && typeof value !== 'number') {\n        // Need to remove falsy attribute\n        element.removeAttribute(key);\n        return;\n      }\n\n      if (key.toLowerCase() === 'style') {\n        setStyles(element, value, depth);\n        return;\n      }\n\n      if (value instanceof Listener) {\n        new AttributeListener({\n          attributeKey: key,\n          listener: value,\n          element,\n          depth,\n        }).attach();\n        return;\n      }\n\n      if (key.toLowerCase() === 'class' || key.toLowerCase() === 'classname') {\n        element.setAttribute('class', parseClass(value));\n        return;\n      }\n\n      if (key.toLowerCase() === 'loadfocus') {\n        element.onload = (el) => {\n          setTimeout(() => {\n            el.focus();\n          }, 10);\n        };\n      }\n\n      if (key.toLowerCase() === 'html') {\n        element.innerHTML = value;\n        return;\n      }\n\n      if (key.toLowerCase() === 'model') {\n        if (/(checkbox|radio)/.test(element.getAttribute('type'))) {\n          element.onchange = (e) => {\n            value.component[value.key] = e.target.checked;\n          };\n        } else {\n          element.oninput = (e) => {\n            value.component[value.key] = e.target.value;\n          };\n          element.value = value.value;\n        }\n        return;\n      }\n\n      // Handles events 'on<event>'\n      if (key.substring(0, 2).toLowerCase() === 'on') {\n        if (key.substring(0, 8).toLowerCase() === 'onsubmit') {\n          element[key] = (e) => {\n            var data = [];\n            var inputs = e.target.elements || [];\n            for (var input of inputs) {\n              if ((input.name !== ''\n                && (input.type !== 'radio' && input.type !== 'checkbox'))\n                || input.checked) {\n                var item = {\n                  name: input.name,\n                  el: input,\n                  type: input.type,\n                  default: input.defaultValue,\n                  value: input.value,\n                  set(val) {\n                    this.el.value = val;\n                  },\n                  reset(val) {\n                    this.el.value = val;\n                    this.el.defaultValue = val;\n                  },\n                };\n                data.push(item);\n                if (!data[item.name]) {\n                  Object.defineProperty(data, item.name, {\n                    value: item,\n                  });\n                }\n              }\n            }\n\n            return value(e, data);\n          };\n        } else {\n          element[key] = value;\n        }\n        return;\n      }\n\n      element.setAttribute(key, value);\n    };\n\n    for (var key in attributes) loop( key );\n  };\n\n  /**\n   * @param {*} query\n   * @returns {Node}\n   */\n  var getElementFromQuery = (query, isSvg) => {\n    if (typeof query === 'string' || typeof query === 'number')\n      { return query !== 'template'\n        ? isSvg || query === 'svg'\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              query\n            )\n          : document.createElement(query)\n        : document.createDocumentFragment(); }\n    console.warn(\n      '[Radi.js] Warn: Creating a JSX element whose query is not of type string, automatically converting query to string.'\n    );\n    return document.createElement(query.toString());\n  };\n\n  /**\n   * UUID v4 generator\n   * https://gist.github.com/jcxplorer/823878\n   * @returns {string}\n   */\n  var generateId = () => {\n    var uuid = '';\n    for (var i = 0; i < 32; i++) {\n      var random = (Math.random() * 16) | 0; // eslint-disable-line\n\n      if (i === 8 || i === 12 || i === 16 || i === 20) {\n        uuid += '-';\n      }\n      uuid += (i === 12 ? 4 : i === 16 ? (random & 3) | 8 : random).toString(16); // eslint-disable-line\n    }\n    return uuid;\n  };\n\n  var PrivateStore = function PrivateStore() {\n    this.store = {};\n  };\n\n  /**\n   * @param {string} key\n   * @param {Listener} listener\n   * @param {number} depth\n   */\n  PrivateStore.prototype.addListener = function addListener (key, listener, depth) {\n    if (typeof this.store[key] === 'undefined') {\n      this.createItemWrapper(key);\n    }\n    this.store[key].listeners[depth] = (this.store[key].listeners[depth] || []).filter(item => (\n      item.attached\n    ));\n    this.store[key].listeners[depth].push(listener);\n\n    return listener;\n  };\n\n  /**\n   * Removes all listeners for all keys\n   */\n  PrivateStore.prototype.removeListeners = function removeListeners () {\n    var o = Object.keys(this.store);\n    for (var i = 0; i < o.length; i++) {\n      this.store[o[i]].listeners = {};\n      this.store[o[i]].value = null;\n    }\n  };\n\n  /**\n   * setState\n   * @param {*} newState\n   * @returns {*}\n   */\n  PrivateStore.prototype.setState = function setState (newState) {\n    // Find and trigger changes for listeners\n    for (var key of Object.keys(newState)) {\n      if (typeof this.store[key] === 'undefined') {\n        this.createItemWrapper(key);\n      }\n      this.store[key].value = newState[key];\n\n      this.triggerListeners(key);\n    }\n    return newState;\n  };\n\n  /**\n   * createItemWrapper\n   * @private\n   * @param {string} key\n   * @returns {object}\n   */\n  PrivateStore.prototype.createItemWrapper = function createItemWrapper (key) {\n    return this.store[key] = {\n      listeners: {},\n      value: null,\n    };\n  };\n\n  /**\n   * triggerListeners\n   * @private\n   * @param {string} key\n   */\n  PrivateStore.prototype.triggerListeners = function triggerListeners (key) {\n    var item = this.store[key];\n    if (item) {\n      var clone = Object.keys(item.listeners)\n        .sort()\n        .map(key => (\n          item.listeners[key].map(listener => listener)\n        ));\n\n      for (var i = 0; i < clone.length; i++) {\n        for (var n = clone[i].length - 1; n >= 0; n--) {\n          if (clone[i][n].attached) { clone[i][n].handleUpdate(item.value); }\n        }\n      }\n    }\n  };\n\n  /**\n   * @param {*} obj\n   * @returns {*}\n   */\n  var clone = obj => {\n    if (typeof obj !== 'object') { return obj; }\n    if (obj === null) { return obj; }\n    if (Array.isArray(obj)) { return obj.map(clone); }\n\n    /*eslint-disable*/\n    // Reverted as currently throws some errors\n    var cloned = {};\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        cloned[key] = clone(obj[key]);\n      }\n    }\n    /* eslint-enable */\n\n    return cloned;\n  };\n\n  var skipInProductionAndTest = fn => {\n    if (typeof process === 'undefined'\n      || (process.env.NODE_ENV === 'production'\n      || process.env.NODE_ENV === 'test')) {\n      return false;\n    }\n    return fn && fn();\n  };\n\n  /* eslint-disable guard-for-in */\n\n  var Component = function Component(children, props) {\n    this.addNonEnumerableProperties({\n      $id: generateId(),\n      $name: this.constructor.name,\n      $config: (typeof this.config === 'function') ? this.config() : {\n        listen: true,\n      },\n      $events: {},\n      $privateStore: new PrivateStore(),\n    });\n\n    this.on = (typeof this.on === 'function') ? this.on() : {};\n    this.children = [];\n\n    // Links headless components\n    for (var key in GLOBALS.HEADLESS_COMPONENTS) {\n      this[key].when('update', () => this.setState());\n    }\n\n    this.state = Object.assign(\n      (typeof this.state === 'function') ? this.state() : {},\n      props || {}\n    );\n\n    skipInProductionAndTest(() => Object.freeze(this.state));\n\n    if (children) { this.setChildren(children); }\n  };\n\n  /**\n   * @returns {HTMLElement}\n   */\n  Component.prototype.render = function render (isSvg) {\n    if (typeof this.view !== 'function') { return ''; }\n    var rendered = this.view();\n    if (Array.isArray(rendered)) {\n      for (var i = 0; i < rendered.length; i++) {\n        if (typeof rendered[i].buildNode === 'function') {\n          rendered[i] = rendered[i].buildNode(isSvg, 0);\n        }\n        rendered[i].destroy = this.destroy.bind(this);\n      }\n    } else {\n      if (typeof rendered.buildNode === 'function') {\n        rendered = rendered.buildNode(isSvg, 0);\n      }\n      rendered.destroy = this.destroy.bind(this);\n    }\n\n    this.html = rendered;\n    return rendered;\n  };\n\n  /**\n   * @param {object} props\n   * @returns {Component}\n   */\n  Component.prototype.setProps = function setProps (props) {\n    var newState = {};\n    var loop = function ( key ) {\n      if (props[key] instanceof Listener) {\n        newState[key] = props[key].init().value;\n        props[key].changeListener = value => {\n          this.setState({\n            [key]: value,\n          });\n        };\n      } else {\n        newState[key] = props[key];\n      }\n    };\n\n      for (var key in props) loop( key );\n    this.setState(newState);\n    return this;\n  };\n\n  /**\n   * @param {Node[]|*[]} children\n   */\n  Component.prototype.setChildren = function setChildren (children) {\n    this.children = children;\n    this.setState();\n    for (var i = 0; i < this.children.length; i++) {\n      if (typeof this.children[i].when === 'function') {\n        this.children[i].when('update', () => this.setState());\n      }\n    }\n    return this;\n  };\n\n  /**\n   * @private\n   * @param {object} obj\n   */\n  Component.prototype.addNonEnumerableProperties = function addNonEnumerableProperties (obj) {\n    for (var key in obj) {\n      if (typeof this[key] !== 'undefined') { continue; }\n      Object.defineProperty(this, key, {\n        value: obj[key],\n      });\n    }\n  };\n\n  /**\n   * @param {string} key\n   * @param {Listener} listener\n   * @param {number} depth\n   */\n  Component.prototype.addListener = function addListener (key, listener, depth) {\n    this.$privateStore.addListener(key, listener, depth);\n  };\n\n  Component.prototype.mount = function mount () {\n    this.trigger('mount');\n  };\n\n  Component.prototype.destroy = function destroy () {\n    this.trigger('destroy');\n    this.$privateStore.removeListeners();\n  };\n\n  /**\n   * @param {string} key\n   * @param {function} fn\n   */\n  Component.prototype.when = function when (key, fn) {\n    if (typeof this.$events[key] === 'undefined') { this.$events[key] = []; }\n    this.$events[key].push(fn);\n  };\n\n  /**\n   * @param {string} key\n   * @param {*} value\n   */\n  Component.prototype.trigger = function trigger (key, ...args) {\n    if (typeof this.on[key] === 'function') {\n      this.on[key].call(this, ...args);\n    }\n\n    if (typeof this.$events[key] !== 'undefined') {\n      for (var i in this.$events[key]) {\n        this.$events[key][i].call(this, ...args);\n      }\n    }\n  };\n\n  /**\n   * @param {object} newState\n   */\n  Component.prototype.setState = function setState (newState) {\n    if (typeof newState === 'object') {\n      var oldstate = this.state;\n\n      skipInProductionAndTest(() => oldstate = clone(this.state));\n\n      this.state = Object.assign(oldstate, newState);\n\n      skipInProductionAndTest(() => Object.freeze(this.state));\n\n      if (this.$config.listen) {\n        this.$privateStore.setState(newState);\n      }\n    }\n\n    if (!this.$config.listen && typeof this.view === 'function' && this.html) {\n      fuseDom.fuse(this.html, this.view());\n    }\n    this.trigger('update');\n    return newState;\n  };\n\n  /**\n   * @returns {boolean}\n   */\n  Component.isComponent = function isComponent () {\n    return true;\n  };\n\n  /**\n   * @param {Component} component\n   * @param {string} id\n   * @param {boolean} isSvg\n   * @param {number} depth\n   * @returns {HTMLElement|Node}\n   */\n  var mount = (component, id, isSvg, depth) => {\n    if ( depth === void 0 ) depth = 0;\n\n    var slot = typeof id === 'string' ? document.getElementById(id) : id;\n    isSvg = isSvg || slot instanceof SVGElement;\n    var rendered =\n      (component instanceof Component || component.render) ? component.render(isSvg) : component;\n\n    if (Array.isArray(rendered)) {\n      for (var i = 0; i < rendered.length; i++) {\n        mount(rendered[i], slot, isSvg, depth);\n      }\n    } else {\n      appendChild(slot, isSvg, depth)(rendered);\n    }\n\n    if (typeof slot.destroy !== 'function') {\n      slot.destroy = () => {\n        for (var i = 0; i < rendered.length; i++) {\n          fuseDom.destroy(rendered[i]);\n        }\n      };\n    }\n\n    if (typeof component.mount === 'function') { component.mount(); }\n\n    return slot;\n  };\n\n  /**\n   * @param {*} value\n   * @returns {*[]}\n   */\n  var ensureArray = value => {\n    if (Array.isArray(value)) { return value; }\n    return [value];\n  };\n\n  /**\n   * @param {*} value - Value of the listener\n   * @param {boolean} isSvg\n   * @param {number} depth\n   * @param {HTMLElement} after - Element after to append\n   * @param {function} customAppend\n   * @returns {Node[]}\n   */\n  var listenerToNode = (value, isSvg, depth, after, customAppend) => {\n    if (value instanceof DocumentFragment) {\n      return Array.from(value.childNodes);\n    }\n\n    var element = after || document.createDocumentFragment();\n    if (after instanceof Node) {\n      element.appendChild = customAppend;\n    }\n    appendChildren(element, ensureArray(value), isSvg, depth);\n    return Array.from(element.childNodes);\n  };\n\n  /**\n   * @param {HTMLElement} beforeNode\n   * @param {HTMLElement} newNode\n   * @returns {HTMLElement}\n   */\n  var insertAfter = (beforeNode, newNode) => (\n    beforeNode.parentNode && beforeNode.parentNode.insertBefore(newNode, beforeNode.nextSibling)\n  );\n\n  var ElementListener = function ElementListener(ref) {\n    var listener = ref.listener;\n    var element = ref.element;\n    var depth = ref.depth;\n\n    this.depth = depth + 1;\n    this.pointer = document.createTextNode('');\n    this.pointer.isPointer = true;\n    this.pointer.destroy = () => {\n      if (this.listenerAsNode && this.listenerAsNode.length) {\n        for (var i = 0; i < this.listenerAsNode.length; i++) {\n          if (this.listenerAsNode[i]) { fuseDom.destroy(this.listenerAsNode[i]); }\n        }\n      }\n      this.listenerAsNode = null;\n      if (this.pointer && this.pointer.remove) { this.pointer.remove(); }\n      this.pointer = null;\n    };\n    this.listener = listener;\n    this.element = element.real || element;\n    this.listenerAsNode = [];\n    this.attached = false;\n  };\n\n  /**\n   * Inserts new nodes after pointer.\n   * @param {Node} after\n   * @param {[*]} value\n   * @returns {Node}\n   */\n  ElementListener.prototype.insert = function insert (after, value) {\n    for (var i = 0; i < value.length; i++) {\n      insertAfter(value[i - 1] || after, value[i]);\n    }\n  };\n\n  /**\n   * @param {*} value\n   */\n  ElementListener.prototype.handleValueChange = function handleValueChange (value) {\n    if (!this.attached || this.listenerAsNode === null) { return false; }\n    var newNodeContainer = document.createDocumentFragment();\n    listenerToNode(value, this.element instanceof SVGElement, this.depth, this.pointer, element => {\n      newNodeContainer.appendChild(element);\n      return element;\n    });\n    var newNode = Array.from(newNodeContainer.childNodes);\n\n    var length = Math.min(newNode.length, this.listenerAsNode.length);\n\n    for (var i = 0; i < length; i++) {\n      newNode[i] = fuseDom.fuse(this.listenerAsNode[i], newNode[i]);\n    }\n\n    var diff = this.listenerAsNode.length - newNode.length;\n\n    if (diff > 0) {\n      for (var n = i; n < i + diff; n++) {\n        fuseDom.destroy(this.listenerAsNode[n]);\n      }\n    } else\n    if (diff < 0) {\n      this.insert(i > 0 ? newNode[i - 1] : this.pointer, newNode.slice(i, newNode.length));\n    }\n\n    this.listenerAsNode = newNode;\n  };\n\n  /**\n   * Attaches listener to given element and starts listening.\n   * @returns {ElementListener}\n   */\n  ElementListener.prototype.attach = function attach (element) {\n      if ( element === void 0 ) element = this.element;\n\n    element.appendChild(this.pointer);\n    if (!element.listeners) { element.listeners = []; }\n    element.listeners.push(this);\n    this.listener.applyDepth(this.depth).init();\n    this.attached = true;\n    this.listener.onValueChange(value => this.handleValueChange(value));\n    return this;\n  };\n\n  /**\n   * Deattaches and destroys listeners\n   */\n  ElementListener.prototype.deattach = function deattach () {\n    this.listener.deattach();\n    this.listener = null;\n    this.element = null;\n    if (this.listenerAsNode && this.listenerAsNode.length) {\n      for (var i = 0; i < this.listenerAsNode.length; i++) {\n        if (this.listenerAsNode[i]) { fuseDom.destroy(this.listenerAsNode[i]); }\n      }\n    }\n    this.listenerAsNode = null;\n    if (this.pointer && this.pointer.remove) { this.pointer.remove(); }\n    this.pointer = null;\n    this.attached = false;\n    this.handleValueChange = () => {};\n  };\n\n  /**\n   * @param {Listener} listener\n   * @param {HTMLElement} element\n   * @param {number} depth\n   * @returns {ElementListener}\n   */\n  var appendListenerToElement = (listener, element, depth) =>\n    new ElementListener({\n      listener,\n      element,\n      depth,\n    }).attach();\n\n  /* eslint-disable no-param-reassign */\n\n  /**\n   * @param {HTMLElement} element\n   * @param {boolean} isSvg\n   * @param {number} depth\n   * @returns {function(*)}\n   */\n  var appendChild = (element, isSvg, depth) => child => {\n    if (!child && typeof child !== 'number') {\n      // Needs to render every child, even empty ones to preserve dom hierarchy\n      child = '';\n    }\n\n    if (typeof child.buildNode === 'function') {\n      appendChild(element, isSvg, depth)(child.buildNode(isSvg, depth));\n      return;\n    }\n\n    if (child instanceof Component) {\n      mount(child, element, isSvg, depth);\n      return;\n    }\n\n    if (child.isComponent) {\n      /*eslint-disable*/\n      mount(new child(), element, isSvg, depth);\n      /* eslint-enable */\n      return;\n    }\n\n    if (child instanceof Listener) {\n      appendListenerToElement(child.applyDepth(depth), element, depth);\n      return;\n    }\n\n    if (Array.isArray(child)) {\n      appendChildren(element, child, isSvg, depth);\n      return;\n    }\n\n    if (typeof child === 'function') {\n      appendChild(element, isSvg, depth)(child());\n      return;\n    }\n\n    // Handles lazy loading components\n    if (child instanceof Promise || child.constructor.name === 'LazyPromise') {\n      var placeholder = document.createElement('section');\n      placeholder.__async = true;\n      var el = element.appendChild(placeholder);\n      child.then(data => {\n        if (data.default) {\n          appendChild(el, isSvg, depth)(data.default);\n        } else {\n          appendChild(el, isSvg, depth)(data);\n        }\n      }).catch(console.warn);\n      return;\n    }\n\n    if (child instanceof Node) {\n      element.appendChild(child);\n      return;\n    }\n\n    element.appendChild(document.createTextNode(child));\n  };\n\n  /**\n   * @param {HTMLElement} element\n   * @param {*[]} children\n   * @param {boolean} isSvg\n   * @param {number} depth\n   */\n  var appendChildren = (element, children, isSvg, depth) => {\n    children.forEach(appendChild(element, isSvg, depth));\n  };\n\n  var htmlCache = {};\n  var svgCache = {};\n\n  var memoizeHTML = query => htmlCache[query]\n    || (htmlCache[query] = getElementFromQuery(query, false));\n  var memoizeSVG = query => svgCache[query]\n    || (svgCache[query] = getElementFromQuery(query, true));\n\n  /**\n   * @param {boolean} isSvg\n   * @param {*} query\n   * @param {object} props\n   * @param {...*} children\n   * @returns {(HTMLElement|Component)}\n   */\n  var buildNode = (isSvg, depth, Query, props, ...children) => {\n    if (typeof Query === 'function' && Query.isComponent) {\n      return new Query(children).setProps(props || {});\n    }\n\n    if (typeof Query === 'function') {\n      var propsWithChildren = props || {};\n      propsWithChildren.children = children;\n      return Query(propsWithChildren);\n    }\n\n    var copyIsSvg = isSvg || Query === 'svg';\n\n    var element = (copyIsSvg ? memoizeSVG(Query) : memoizeHTML(Query))\n      .cloneNode(false);\n\n    if (props !== null) { setAttributes(element, props, depth); }\n    appendChildren(element, children, copyIsSvg, depth);\n\n    if (element.onload) { element.onload(element); }\n\n    return element;\n  };\n\n  var buildNode$1 = {\n    html: depth => (...args) => buildNode(false, depth, ...args),\n    svg: depth => (...args) => buildNode(true, depth, ...args),\n  };\n\n  /**\n   * @param {*} query\n   * @param {object} props\n   * @param {...*} children\n   * @returns {(HTMLElement|Component)}\n   */\n  var r = (Query, props, ...children) => ({\n    buildNode: (isSvg, depth) =>\n      {\n        if ( depth === void 0 ) depth = 0;\n\n        return buildNode$1[isSvg ? 'svg' : 'html'](depth)(Query, props, ...children);\n    },\n  });\n\n  /**\n   * The listen function is used for dynamically binding a component property\n   * to the DOM. Also commonly imported as 'l'.\n   * @param {Component} component\n   * @param {...string} path\n   * @returns {Listener}\n   */\n  var listen = (component, ...path) =>\n    new Listener(component, ...path);\n\n  var remountActiveComponents = () => {\n    Object.values(GLOBALS.ACTIVE_COMPONENTS).forEach(component => {\n      if (typeof component.onMount === 'function') {\n        component.onMount(component);\n      }\n    });\n  };\n\n  function createWorker(fn) {\n    var fire = () => {};\n\n    var blob = new Blob([`self.onmessage = function(e) {\n    self.postMessage((${fn.toString()})(e.data));\n  }`], { type: 'text/javascript' });\n\n    var url = window.URL.createObjectURL(blob);\n    var myWorker = new Worker(url);\n\n    myWorker.onmessage = e => { fire(e.data, null); };\n    myWorker.onerror = e => { fire(null, e.data); };\n\n    return arg => new Promise((resolve, reject) => {\n      fire = (data, err) => !err ? resolve(data) : reject(data);\n      myWorker.postMessage(arg);\n    })\n  }\n\n  // Descriptor for worker\n  function worker(target, key, descriptor) {\n    var act = descriptor.value;\n\n    var promisedWorker = createWorker(act);\n\n    descriptor.value = function (...args) {\n      promisedWorker(...args).then(newState => {\n        this.setState.call(this, newState);\n      });\n    };\n    return descriptor;\n  }\n\n  // Descriptor for actions\n  function action(target, key, descriptor) {\n    var act = descriptor.value;\n    descriptor.value = function (...args) {\n      return this.setState.call(this, act.call(this, ...args));\n    };\n    return descriptor;\n  }\n\n  // Descriptor for subscriptions\n  function subscribe(container, eventName, triggerMount) {\n    // TODO: Remove event after no longer needed / Currently overrides existing\n    // TODO: Do not override existing event - use EventListener\n    // TODO: triggerMount should trigger this event on mount too\n    return function (target, key, descriptor) {\n      var name = 'on' + (eventName || key);\n      var fn = function (...args) {\n        return descriptor.value.call(this, ...args);\n      };\n\n      container[name] = fn;\n      // if (container && container.addEventListener) {\n      //   container.addEventListener(name, fn);\n      //   self.when('destroy', () => {\n      //     container.removeEventListener(name, fn);\n      //   });\n      // }\n      // console.log(target, key, descriptor, container[name], name, fn, fn.radiGlobalEvent);\n      return descriptor;\n    }\n  }\n\n  var Radi = {\n    version: GLOBALS.VERSION,\n    activeComponents: GLOBALS.ACTIVE_COMPONENTS,\n    r,\n    listen,\n    l: listen,\n    worker,\n    component: Component,\n    Component,\n    action,\n    subscribe,\n    headless: (key, comp) => {\n      // TODO: Validate component and key\n      var name = '$'.concat(key);\n      var mountedComponent = new comp();\n      mountedComponent.mount();\n      Component.prototype[name] = mountedComponent;\n      return GLOBALS.HEADLESS_COMPONENTS[name] = mountedComponent;\n    },\n    mount,\n    freeze: () => {\n      GLOBALS.FROZEN_STATE = true;\n    },\n    unfreeze: () => {\n      GLOBALS.FROZEN_STATE = false;\n      remountActiveComponents();\n    },\n  };\n\n  // Pass Radi instance to plugins\n  Radi.plugin = (fn, ...args) => fn(Radi, ...args);\n\n  if (window) { window.Radi = Radi; }\n  // export default Radi;\n  module.exports = Radi;\n\n})));\n//# sourceMappingURL=radi.js.map\n","export const version = '0.3.5';\n\n// Pass routes to initiate things\nexport default ({\n    r,\n    l,\n    mount,\n    headless,\n    Component,\n  }, routes) => {\n  let current = {};\n\n  const COLON = ':'.charCodeAt(0);\n  const SLASH = '/'.charCodeAt(0);\n  var cr, crg, lr, ld;\n\n  const parseRoute = route => {\n    var parts = route.split('/'),\n      end = [],\n      p = [];\n    for (var i = 0; i < parts.length; i++) {\n      if (COLON === parts[i].charCodeAt(0)) {\n        end.push('([^/]+?)');\n        p.push(parts[i].substr(1));\n      } else if (parts[i] !== '') {\n        end.push(parts[i]);\n      }\n    }\n    return [new RegExp('^/' + end.join('/') + '(?:[/])?(?:[?&].*)?$', 'i'), p];\n  };\n\n  const parseAllRoutes = arr => {\n    var len = arr.length,\n      ret = new Array(len);\n    for (var i = len - 1; i >= 0; i--) {\n      ret[i] = parseRoute(arr[i]);\n    }\n    return ret;\n  };\n\n  const renderError = number => {\n    return current.config.errors[number]();\n  };\n\n  const writeUrl = url => {\n    window.location.hash = url;\n    return true;\n  };\n\n  const guard = (before, comp, active, last, resolve, reject, deep, _router) => {\n    return before.call(_router, active, last, act => {\n      if (typeof act === 'undefined' || act === true) {\n        if (typeof deep === 'function') {\n          return guard(deep, comp, active, last, resolve, reject, null, _router);\n        } else {\n          resolve(comp);\n        }\n      } else if (typeof act === 'string' && act.charCodeAt(0) === SLASH) {\n        writeUrl(act);\n        return reject();\n      } else {\n        resolve(renderError(403));\n      }\n\n      // Fire afterEach event in routes\n      if (current.after) current.after(active, last);\n    });\n  };\n\n  const extractChildren = routes => {\n    let children = routes;\n    for (let child in routes) {\n      if (routes.hasOwnProperty(child) && routes[child].children) {\n        let extracted = extractChildren(routes[child].children);\n        for (var nn in extracted) {\n          if (extracted.hasOwnProperty(nn)) {\n            children[child + nn] = extracted[nn];\n          }\n        }\n      }\n    }\n    return children;\n  };\n\n  const getRoute = curr => {\n    if (lr === curr) return ld;\n    if (!cr) cr = Object.keys(current.routes);\n    if (!crg) crg = parseAllRoutes(cr);\n    var cahnged = false;\n\n    for (var i = 0; i < crg.length; i++) {\n      if (crg[i][0].test(curr)) {\n        ld = new Route(curr, crg[i], current.routes, cr[i]);\n        cahnged = true;\n        break;\n      }\n    }\n\n    lr = curr;\n    return !cahnged ? { key: null } : ld;\n  };\n\n  class Route {\n    constructor(curr, match, routes, key) {\n      const query = curr\n        .split(/[\\?\\&]/)\n        .slice(1)\n        .map(query => query.split('='))\n        .reduce(\n          (acc, key) =>\n            Object.assign(acc, {\n              [key[0]]: key[1]\n            }),\n          {}\n        );\n      var m = curr.match(match[0]);\n      this.path = curr;\n      this.key = key;\n      this.query = query;\n      this.cmp = routes[key];\n      this.params = this.cmp.data || {};\n      for (var i = 0; i < match[1].length; i++) {\n        this.params[match[1][i]] = m[i + 1];\n      }\n    }\n  }\n\n  class RouterHead extends Component {\n    state() {\n      return {\n        location: window.location.hash.substr(1) || '/',\n        params: {},\n        query: {},\n        last: null,\n        active: null,\n        activeComponent: null\n      };\n    }\n\n    on() {\n      return {\n        mount() {\n          window.onhashchange = () => this.setState(this.hashChange());\n          this.setState(this.hashChange());\n        }\n      }\n    }\n\n    hashChange() {\n      var loc = window.location.hash.substr(1) || '/';\n      var a = getRoute(loc);\n\n      // console.log('[radi-router] Route change', a, this.state.location);\n\n      window.scrollTo(0, 0);\n\n      this.resolve(this.inject(a.key || '', this.state.active))\n\n      return {\n        last: this.state.active,\n        location: loc,\n        params: a.params || {},\n        query: a.query || {},\n        active: a.key || '',\n      }\n    }\n\n    resolve(pulse) {\n      if (typeof pulse === 'function' && pulse.isComponent) {\n        return this.resolve(r(pulse))\n      }\n\n      if (typeof pulse === 'function') {\n        return this.resolve(pulse())\n      }\n\n      if (pulse instanceof Promise) {\n        return pulse.then(() => {}).catch(console.warn)\n      }\n\n      this.setState({\n        activeComponent: pulse,\n      })\n    }\n\n    // Triggers when route is changed\n    inject(active, last) {\n      // const { active, last } = this.state\n      const RouteComponent = current.routes[active];\n      const WillRender =\n        typeof RouteComponent === 'object'\n          ? RouteComponent.component\n          : RouteComponent;\n\n      // Route not found or predefined error\n      if (\n        (typeof WillRender === 'undefined' ||\n          typeof WillRender === 'number' ||\n          !WillRender) &&\n        typeof RouteComponent === 'undefined'\n      )\n        return renderError(WillRender || 404);\n\n      // Plain redirect\n      if (typeof RouteComponent.redirect === 'string')\n        return writeUrl(RouteComponent.redirect);\n\n      // Check if has any guards to check\n      if (\n        typeof current.before === 'function' ||\n        typeof RouteComponent.before === 'function'\n      ) {\n        return () =>\n          new Promise((resolve, reject) => {\n            const middleResolve = type => comp => {\n              if (comp && comp.default) {\n                this.setState({\n                  activeComponent: comp.default,\n                })\n              } else {\n                this.setState({\n                  activeComponent: comp,\n                })\n              }\n              type(comp)\n            }\n            // Global guard\n            if (typeof current.before === 'function') {\n              guard(\n                current.before,\n                WillRender,\n                active,\n                last,\n                middleResolve(resolve),\n                middleResolve(reject),\n                RouteComponent.before,\n                this\n              );\n            } else if (typeof RouteComponent.before === 'function') {\n              guard(\n                RouteComponent.before,\n                WillRender,\n                active,\n                last,\n                middleResolve(resolve),\n                middleResolve(reject),\n                null,\n                this\n              );\n            }\n          });\n      }\n\n      if (typeof WillRender === 'function') {\n        // Route is component\n        if (WillRender.isComponent && WillRender.isComponent())\n          return r(WillRender);\n\n        // Route is plain function\n        return WillRender;\n      }\n\n      // Route is plain text/object\n      return WillRender;\n    }\n  }\n\n  class Link extends Component {\n    state() {\n      return {\n        to: '/',\n        active: 'active',\n        core: false,\n        class: '',\n        id: null,\n        title: null,\n      };\n    }\n    view() {\n      return r(\n        'a',\n        {\n          href: l(this, 'to').process(url => '#'.concat(url)),\n          class: l(this, 'to').process(to =>\n            l(this.$router, 'active').process(active =>\n              l(this, 'class').process(cls => ([\n                (active === to || (this.state.core && new RegExp('^' + to).test(active)))\n                  && this.state.active,\n                cls\n              ]))\n            )\n          ),\n          id: l(this, 'id'),\n          title: l(this, 'title'),\n        },\n        ...this.children\n      );\n    }\n  }\n\n  class Router extends Component {\n\n    view() {\n      // return [\n      //   l(this.$router, 'active').process(() => r('div', {}, this.inject(this.$router.state))),\n      //   ...this.children,\n      // ];\n      return r(\n        'template',\n        {},\n        l(this.$router, 'activeComponent').process(comp => comp),\n        this.children,\n      );\n    }\n  }\n\n  const before = routes.beforeEach;\n  const after = routes.afterEach;\n\n  current = {\n    config: {\n      errors: {\n        404: () => r('div', {}, 'Error 404: Not Found'),\n        403: () => r('div', {}, 'Error 403: Forbidden')\n      }\n    },\n    before,\n    after,\n    routes: extractChildren(routes.routes),\n    write: writeUrl,\n    Link,\n    Router\n  };\n\n  // Initiates router component\n  headless('router', RouterHead);\n\n  return current;\n};\n","// import logo from '../../assets/img/llwhite.png'\n// import logoColor from '../../assets/img/llcolor.png'\n\nexport default {\n  github: 'https://github.com/radi-js/radi',\n  slack: 'https://join.slack.com/t/radijs/shared_invite/enQtMjk3NTE2NjYxMTI2LWFmMTM5NTgwZDI5NmFlYzMzYmMxZjBhMGY0MGM2MzY5NmExY2Y0ODBjNDNmYjYxZWYxMjEyNjJhNjA5OTJjNzQ',\n  docs: '/docs',\n  repl: '/fiddle',\n  startingCode: `state: {\n  count: 0\n}\n\n@action change(diff) {\n  return {\n    count: this.state.count + diff\n  }\n}\n\n<template>\n  <h2>{ this.state.count }</h2>\n\n  <button\n    class=\"btn\"\n    disabled={ this.state.count <= 0 }\n    onclick={ () => -1 |> this.change }>\n    -\n  </button>\n\n  <button\n    class=\"btn\"\n    onclick={ () => 1 |> this.change }>\n    +\n  </button>\n</template>`,\n}\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles)\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  var id = bundles[bundles.length - 1];\n\n  return Promise.all(bundles.slice(0, -1).map(loadBundle))\n    .then(function () {\n      return require(id);\n    });\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.modules[id] = [function (require, module) {\n            module.exports = resolved;\n          }, {}];\n        }\n\n        return resolved;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  return this.promise || (this.promise = new Promise(this.executor).then(onSuccess, onError));\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  return this.promise || (this.promise = new Promise(this.executor).catch(onError));\n};\n","import globals from './helpers/globals';\n// import docs from './helpers/docs';\n\nexport default {\n  routes: {\n    '/': {\n      component: () => import('./pages/Index.radi'),\n    },\n    [globals.repl]: {\n      component: () => import('./pages/Repl.radi'),\n      children: {\n        '/:code': {\n          component: () => import('./pages/Repl.radi'),\n        },\n      },\n    },\n    [globals.docs]: {\n      component: () => import('./pages/docs/Introduction.radi'),\n      // children: docs.list.reduce((acc, value) => {\n      //   return Object.assign(acc, {\n      //     [value.link]: {\n      //       component: () => import('./pages/docs/' + value.name + '.radi'),\n      //     },\n      //   });\n      // }, {}),\n      children: {\n        '/installation': {\n          component: () => import('./pages/docs/Installation.radi'),\n        },\n        '/hyperscript': {\n          component: () => import('./pages/docs/Hyperscript.radi'),\n        },\n        '/components': {\n          component: () => import('./pages/docs/Components.radi'),\n        },\n        '/state': {\n          component: () => import('./pages/docs/State.radi'),\n        },\n        '/actions': {\n          component: () => import('./pages/docs/Actions.radi'),\n        },\n        '/view': {\n          component: () => import('./pages/docs/View.radi'),\n        },\n        '/listener': {\n          component: () => import('./pages/docs/Listener.radi'),\n        },\n        '/events': {\n          component: () => import('./pages/docs/Events.radi'),\n        },\n        '/headless-components': {\n          component: () => import('./pages/docs/HeadlessComponents.radi'),\n        },\n        '/plugin': {\n          component: () => import('./pages/docs/Plugin.radi'),\n        },\n        '/mount': {\n          component: () => import('./pages/docs/Mount.radi'),\n        },\n      },\n    },\n  },\n  beforeEach(to, from, next) {\n    if (to === '/restricted') {\n      next(false)\n    } else {\n      next()\n    }\n  },\n  // afterEach(to, from) {\n  //   console.log('This triggers after every route change', to, from)\n  // },\n}\n","/** @jsx _radi.r **/\n  /** @radi-listen _radi_listen **/\n\n  import _radi from 'radi';\n  const action = _radi.action;\n  const subscribe = _radi.subscribe;\n  const worker = _radi.worker;\n  const _radi_listen = _radi.listen;\n\n  import RadiRouter from 'radi-router'\nimport routes from './routes.js'\n\nconst { Router, Link } = _radi.plugin(RadiRouter, routes);\nwindow.Link = Link;\n\n{}\n\n  export default class App extends _radi.Component {\n    constructor(...args) {\n      super(...args);\n      this.state = {};\n      this.on = {};\n    }\n\n    \n\n    view() {\n        const component = this;\n        return [\n<Router></Router>];\n      }\n\n  };","import App from './app/App.radi';\nimport { r, mount } from 'radi';\n\nimport './assets/stylus/main.styl'\n\nwindow.loadJS = function(url, fn){\n  var scriptTag = document.createElement('script');\n  scriptTag.src = url;\n\n  scriptTag.onload = fn;\n  scriptTag.onreadystatechange = fn;\n\n  document.body.appendChild(scriptTag);\n};\n\n// var a = new App()\n\n// console.log(a, a.render())\n\n// var toDestroy = mount([\n//   r('div', { id: 'hell' },\n//     r(App),\n//     r('h1', { style: 'font-size: 20px;' }, 'Hello World 1'),\n//     r('h1', {}, 'Hello World 2'),\n//     r('button', {onclick: () => { console.log('lel') }}, 'Hello World 2'),\n//   )]\n// , app);\n\nvar toDestroy = mount(r(App)\n, app);\n\nif (module.hot) {\n  module.hot.accept();\n  module.hot.dispose(() => {\n    // Before restarting the app, we create a new root element and dispose the old one\n    toDestroy.destroy();\n    var del = document.getElementById('app');\n    del.parentNode.replaceChild(del.cloneNode(false), del);\n  });\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.declare = declare;\n\nfunction declare(builder) {\n  return function (api, options, dirname) {\n    if (!api.assertVersion) {\n      api = Object.assign(copyApiObject(api), {\n        assertVersion: function assertVersion(range) {\n          throwVersionError(range, api.version);\n        }\n      });\n    }\n\n    return builder(api, options || {}, dirname);\n  };\n}\n\nfunction copyApiObject(api) {\n  var proto = null;\n\n  if (typeof api.version === \"string\" && /^7\\./.test(api.version)) {\n    proto = Object.getPrototypeOf(api);\n\n    if (proto && (!has(proto, \"version\") || !has(proto, \"transform\") || !has(proto, \"template\") || !has(proto, \"types\"))) {\n      proto = null;\n    }\n  }\n\n  return Object.assign({}, proto, api);\n}\n\nfunction has(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nfunction throwVersionError(range, version) {\n  if (typeof range === \"number\") {\n    if (!Number.isInteger(range)) {\n      throw new Error(\"Expected string or integer value.\");\n    }\n\n    range = \"^\" + range + \".0.0-0\";\n  }\n\n  if (typeof range !== \"string\") {\n    throw new Error(\"Expected string or integer value.\");\n  }\n\n  var limit = Error.stackTraceLimit;\n\n  if (typeof limit === \"number\" && limit < 25) {\n    Error.stackTraceLimit = 25;\n  }\n\n  var err;\n\n  if (version.slice(0, 2) === \"7.\") {\n    err = new Error(\"Requires Babel \\\"^7.0.0-beta.41\\\", but was loaded with \\\"\" + version + \"\\\". \" + \"You'll need to update your @babel/core version.\");\n  } else {\n    err = new Error(\"Requires Babel \\\"\" + range + \"\\\", but was loaded with \\\"\" + version + \"\\\". \" + \"If you are sure you have a compatible version of @babel/core, \" + \"it is likely that something in your build process is loading the \" + \"wrong version. Inspect the stack trace of this error to look for \" + \"the first entry that doesn't mention \\\"@babel/core\\\" or \\\"babel-core\\\" \" + \"to see what is calling Babel.\");\n  }\n\n  if (typeof limit === \"number\") {\n    Error.stackTraceLimit = limit;\n  }\n\n  throw Object.assign(err, {\n    code: \"BABEL_VERSION_UNSUPPORTED\",\n    version: version,\n    range: range\n  });\n}","const { declare } = require(\"@babel/helper-plugin-utils\");\n\nmodule.exports = declare(({types: t}, options) => {\n\n  const PRAGMA_DEFAULT = options.pragma || 'l';\n  const LISTEN_ANNOTATION_REGEX = /\\*?\\s*@radi-listen\\s+([^\\s]+)/;\n\n  let pragma = PRAGMA_DEFAULT;\n\n  function listener() {\n    const expr = t.identifier(pragma);\n    expr.isClean = true;\n    return expr;\n  }\n\n  let args = [];\n\n  let variables = {\n    prefix: '_$',\n    count: 0,\n  }\n\n  const getvar = () => variables.prefix.concat(variables.count++);\n\n  const makeListener = (variable, expression) => {\n    let newVariable = variable.slice(1)\n    if (variable[0].process) {\n      return t.callExpression(\n        t.memberExpression(\n          t.callExpression(\n            listener(),\n            variable[0].props\n          ),\n          t.identifier('process')\n        ),\n        [\n          t.functionExpression(\n            null,\n            [variable[0].var],\n            t.blockStatement([\n              t.returnStatement(\n                newVariable.length > 0 ? makeListener(newVariable, expression) : expression\n              )\n            ])\n          )\n        ]\n      )\n    } else {\n      return t.callExpression(\n        listener(),\n        variable[0].props\n      )\n    }\n  }\n\n  Array.prototype.extract = function (path) {\n    if (!path) return;\n    if (t.isIdentifier(path.node.property)) {\n      this.unshift(t.stringLiteral(path.node.property.name));\n    } else {\n      this.unshift(path.node.property);\n    }\n    if (t.isIdentifier(path.node.object)) {\n      this.unshift(path.node.object);\n    }\n  }\n\n  return {\n    visitor: {\n      Program(path) {\n        for (const comment of path.container.comments) {\n          const matches = LISTEN_ANNOTATION_REGEX.exec(comment.value);\n          if (matches) {\n            pragma = matches[1];\n          }\n        }\n      },\n      JSXExpressionContainer(path) {\n        if (!path) return;\n        path.traverse({\n          ThisExpression(thisPath) {\n            thisPath.replaceWith(t.identifier('component'));\n          }\n        });\n        // Handle object attribute like { style: { color: ... } }\n        if (t.isObjectExpression(path.node.expression) && t.isJSXAttribute(path.parent)) {\n\n          path.traverse({\n            ObjectProperty(path) {\n              // This isn't root member of Object\n              if (!t.isObjectExpression(path.parent)) return;\n              let gathered = [];\n              path.traverse({\n                MemberExpression(path) {\n                  // This isn't root member of Object\n                  if (t.isMemberExpression(path.parent)) return;\n\n                  const isRoot = t.isJSXExpressionContainer(path.parent);\n\n                  let extracted = [];\n\n                  extracted.extract(path);\n                  if (t.isMemberExpression(path.node.object)) {\n                    path.traverse({\n                      MemberExpression(path) {\n                        extracted.extract(path);\n                      },\n                      ThisExpression(path) {\n                        extracted.unshift(path.node);\n                      },\n                    });\n                  }\n\n                  // console.log('extracted', path.parentKey === callee);\n                  let fn = (t.isCallExpression(path.parent) && path.parentKey === 'callee') && extracted.pop();\n\n                  const DOLLAR = '$'.charCodeAt(0);\n\n                  if (extracted[0]\n                    && !t.isThisExpression(extracted[0])\n                    && extracted[0].name !== 'component') return;\n                  if (extracted[1] && extracted[1].value\n                    && extracted[1].value.charCodeAt(0) === DOLLAR) {\n                    extracted[0] = t.memberExpression(\n                      extracted[0],\n                      t.identifier(extracted[1].value),\n                    );\n                    extracted.splice(1, 1);\n                  }\n                  if (extracted[1] && extracted[1].name !== 'state') {\n                    extracted.splice(1, 1);\n                  }\n\n                  if (extracted.length < 2) return;\n\n                  // console.log('extracted', extracted);\n                  // console.log('extracted', extracted.map(item => item.value || item.name));\n\n                  // Should replace\n\n                  let newvar = t.identifier(getvar());\n\n                  if (t.isIdentifier(path.node.property)) {\n                    path.node.property = t.stringLiteral(path.node.property.name);\n                  }\n\n                  gathered.push({\n                    process: !(!fn && isRoot),\n                    var: newvar,\n                    props: extracted\n                  })\n\n                  path.replaceWith(t.expressionStatement(\n                    fn ? t.memberExpression(newvar, t.identifier(fn.value)) : newvar,\n                  ));\n                }\n              });\n\n              if (gathered.length > 0) {\n            \t  path.replaceWith(\n                  t.ObjectProperty(\n                    path.node.key,\n                    makeListener(gathered, path.node.value),\n                  )\n                );\n              }\n            }\n          });\n\n        } else {\n          let gathered = [];\n\n          path.traverse({\n            JSXExpressionContainer(path) {\n              path.skip();\n            },\n            MemberExpression(path) {\n              // This isn't root member of Object\n              if (t.isMemberExpression(path.parent)) return;\n\n              const isRoot = t.isJSXExpressionContainer(path.parent);\n\n              let extracted = [];\n\n              extracted.extract(path);\n              if (t.isMemberExpression(path.node.object)) {\n                path.traverse({\n                  MemberExpression(path) {\n                    extracted.extract(path);\n                  },\n                  ThisExpression(path) {\n                    extracted.unshift(path.node);\n                  },\n                });\n              }\n\n              // console.log('extracted', path.parentKey === callee);\n              let fn = (t.isCallExpression(path.parent) && path.parentKey === 'callee') && extracted.pop();\n\n              const DOLLAR = '$'.charCodeAt(0);\n\n              if (extracted[0]\n                && !t.isThisExpression(extracted[0])\n                && extracted[0].name !== 'component') return;\n              if (extracted[1] && extracted[1].value\n                && extracted[1].value.charCodeAt(0) === DOLLAR) {\n                extracted[0] = t.memberExpression(\n                  extracted[0],\n                  t.identifier(extracted[1].value),\n                );\n                extracted.splice(1, 1);\n              }\n              if (extracted[1] && extracted[1].name !== 'state') {\n                extracted.splice(1, 1);\n              }\n\n              if (extracted.length < 2) return;\n\n              // console.log('extracted', extracted);\n              // console.log('extracted', extracted.map(item => item.value || item.name));\n\n              // Should replace\n\n              let newvar = t.identifier(getvar());\n\n              if (t.isIdentifier(path.node.property)) {\n                path.node.property = t.stringLiteral(path.node.property.name);\n              }\n\n              gathered.push({\n                process: !(!fn && isRoot),\n                var: newvar,\n                props: extracted\n              })\n\n              path.replaceWith(t.expressionStatement(\n                fn ? t.memberExpression(newvar, t.identifier(fn.value)) : newvar,\n              ));\n            }\n          });\n\n          if (gathered.length > 0) {\n            if (t.isJSXAttribute(path.parent)) {\n          \t  path.replaceWith(\n                t.JSXExpressionContainer(\n                  makeListener(gathered, path.node.expression)\n                )\n              );\n            } else {\n          \t  path.replaceWith(\n                makeListener(gathered, path.node.expression)\n              );\n            }\n          }\n\n        }\n      }\n    }\n  }\n\n})\n","const FINDTOKENS = /__RTOKEN-([A-Za-z0-9-_]+):([0-9]+);/g;\n\nconst definitions = {\n  comment: {\n    regex: /((?:\\/\\*(?:[^*]|[\\r\\n]|(?:\\*+([^*\\/]|[\\r\\n])))*\\*+\\/)|(?:(^|[^\\:])\\/\\/.*))/,\n  },\n  state: {\n    regex: /(?:^|\\s)state(?:\\s|:|)+\\{/,\n    extract: [-1, '{', '}'],\n  },\n  on: {\n    regex: /(?:^|\\s)on(?:\\s|:|)+\\{/,\n    extract: [-1, '{', '}'],\n  },\n  node: {\n    // regex: /(?:{\\/\\*[^\\*]+?\\*\\/\\}|<([A-Za-z][A-Za-z0-9-_]*?)(?:\\/>|\\b[^>]*>([^<\\/]*?|[\\s\\S]+?)<\\/\\1>))/,\n    regex: /(?:{\\/\\*[^\\*]+?\\*\\/\\}|<([A-Za-z][A-Za-z0-9-_]*?)(?:\\/>|\\b[^>]*>(?:[^{]+({[\\s\\S]*[^}]+})[^<\\\\]+|([^<\\/]*?|[\\s\\S]+?))<\\/\\1>))/,\n    custom: input => input.replace(/this\\.state/g, 'component.state'),\n  },\n  method: {\n    // regex: /(?:(@[\\w]+|[\\w]+)*[^\\b])(\\w+)\\s*\\([^)]*\\)\\s*({(?:{[^{}]*(?:{[^{}]*}|[\\s\\S])*?[^{}]*}|[\\s\\S])*?})/,\n    regex: /(?:(?:@[\\w]+|[\\w]+)*[^\\b])(?:\\w+)\\s*\\([^)]*\\)\\s*\\{/,\n    extract: [-1, '{', '}'],\n    matchToo: true,\n    multiple: true,\n  },\n  // method: /(?:(@[\\w]+|[\\w]+)*[^\\b])(\\w+)\\s*\\([^)]*\\)\\s*({(?:{[^{}]*(?:{[^{}]*}|[\\s\\S])*?[^{}]*}|[\\s\\S])*?})/,\n  // function: /(\\w+)\\s*\\([^)]*\\)\\s*({(?:{[^{}]*(?:{[^{}]*}|[\\s\\S])*?[^{}]*}|[\\s\\S])*?})/,\n}\n\nlet savedTokens = {}\n\nconst template = ({\n    on,\n    state,\n    method,\n    node,\n  }, name, outside) => (`\n  /** @jsx Radi.r **/\n  /** @radi-listen Radi_listen **/\n\n  const action = Radi.action;\n  const subscribe = Radi.subscribe;\n  const Radi_listen = Radi.listen;\n\n  ${outside || ''}\n\n  class ${name || ''} extends Radi.Component {\n    constructor(...args) {\n      super(...args);\n      this.state = ${state || '{}'};\n      this.on = ${on || '{}'};\n    }\n\n    ${method ? method.join('\\n\\n') : ''}\n\n    ${node && (\n      `view() {\n        const component = this;\n        return [${node.join(', ')}];\n      }`\n    ) || ''}\n\n  }\n`).trim()\n\nconst remapCode = input => {\n  let output = input.replace(FINDTOKENS, (match, type, id) => {\n    return savedTokens[type][id].match\n  })\n  return output === input ? output : remapCode(output)\n}\n\nconst rebuild = (code, name) => {\n  let out = {}\n  let output = code.replace(FINDTOKENS, (match, type, id) => {\n    if (typeof out[type] === 'undefined') out[type] = []\n    out[type].push(\n      remapCode(savedTokens[type][id].match)\n    )\n    return ''\n  }).trim()\n\n  return template(out, name, output)\n}\n\nconst parse = (name, code, cb) => {\n\n  savedTokens = {}\n\n  const saveToken = (type, contents, match, input) => {\n    if (typeof savedTokens[type] === 'undefined') savedTokens[type] = []\n    if (typeof definitions[type].custom === 'function') {\n      match = definitions[type].custom(match);\n      input = definitions[type].custom(input);\n    }\n    let i = savedTokens[type].push({\n      type,\n      contents: contents,\n      match,\n      input,\n    });\n    return `__RTOKEN-${type}:${i-1};`;\n  }\n\n  const tokenize = (type, CODE) => {\n    let replaced = CODE.replace(definitions[type].regex, (match, ...contents) => {\n      let input = contents.splice(-1)[0]\n      let offset = contents.splice(-1)[0]\n      return saveToken(type, [...contents], match, input)\n    })\n    return replaced === CODE ? CODE : tokenize(type, replaced)\n  }\n\n  // Extracts classes and contents from code\n  const extract = (type, CODE) => {\n    const find = definitions[type].regex\n    const [\n      mod,\n      first,\n      last,\n    ] = definitions[type].extract\n\n    var L = first.charCodeAt(0)\n    var R = last.charCodeAt(0)\n\n    var match = CODE.match(find)\n    if (!match) return CODE\n    var indexState = match.index + (match[0]).length\n\n    var diff = 1\n    var endIndex = -1\n\n    for (var i = indexState; i <= CODE.length; i++) {\n      if (CODE.charCodeAt(i) === L) diff += 1\n      else if (CODE.charCodeAt(i) === R) diff -= 1\n\n      if (diff === 0) {\n        endIndex = i + 1\n        break;\n      }\n    }\n    if (endIndex < 0) {\n      throw(new Error('Cannot find end for ' + type + ' in \"' + name + '\": ' + match[0].replace(/\\n/g, '') + '...'))\n      return CODE\n    }\n\n    let out = CODE.substring(indexState + (definitions[type].matchToo ? -(match[0]).length : mod), endIndex)\n\n    let tokenID = saveToken(type, ['state'], out, out)\n\n    let input = CODE.substr(0, match.index).concat(tokenID).concat(CODE.substring(endIndex, CODE.length))\n\n    if (definitions[type].multiple && CODE.match(find)) {\n      input = extract(type, input)\n    }\n\n    return input\n  }\n\n  for (let type of Object.keys(definitions)) {\n    code = (typeof definitions[type].extract !== 'undefined')\n      ? extract(type, code)\n      : tokenize(type, code)\n  }\n\n  const parsed = rebuild(code, name)\n\n  if (typeof cb === 'function') cb(savedTokens, code, parsed);\n  return parsed\n}\n\nmodule.exports = parse\n","export default function search(x,y) {\n  var list = x.toLowerCase().replace(/  /g, ' ').replace(/[^a-zA-z\\d]+/g, ' ').trim().split(' ')\n  var y2 = y.toLowerCase()\n  var score = 0\n  var step = 100 / list.length / 2\n  for (var i = 0; i < list.length; i++) {\n    var strength = 2 - (2 / list.length * i)\n    if (y2.indexOf(list[i]) >= 0) score += step * strength\n    if ((new RegExp('(^|\\\\b)' + list[i] + '($|\\\\b)', 'g')).test(y2)) score += step * strength\n  }\n  return score\n}\n","import introduction from 'radi/docs/readme.md'\nimport installation from 'radi/docs/installation.md'\nimport hyperscript from 'radi/docs/hyperscript.md'\nimport components from 'radi/docs/components.md'\nimport state from 'radi/docs/state.md'\nimport actions from 'radi/docs/actions.md'\nimport view from 'radi/docs/view.md'\nimport listener from 'radi/docs/listener.md'\nimport events from 'radi/docs/events.md'\nimport headlessComponents from 'radi/docs/headless-components.md'\nimport plugin from 'radi/docs/plugin.md'\nimport mount from 'radi/docs/mount.md'\n\nexport default {\n  introduction,\n  installation,\n  hyperscript,\n  components,\n  state,\n  actions,\n  view,\n  listener,\n  events,\n  headlessComponents,\n  plugin,\n  mount\n}\n","import docs from './docs-bundle.js'\n\nexport default [\n  {\n    page: '/docs',\n    title: 'Introduction',\n    html: docs.introduction,\n    p: docs.introduction.replace(/<\\/?[^>]+(>|$)/g, '').split('. '),\n  },\n  {\n    page: '/docs/installation',\n    title: 'Installation',\n    html: docs.installation,\n    p: docs.installation.replace(/<\\/?[^>]+(>|$)/g, '').split('. '),\n  },\n  {\n    page: '/docs/hyperscript',\n    title: 'Hyperscript',\n    html: docs.hyperscript,\n    p: docs.hyperscript.replace(/<\\/?[^>]+(>|$)/g, '').split('. '),\n  },\n  {\n    page: '/docs/components',\n    title: 'Components',\n    html: docs.components,\n    p: docs.components.replace(/<\\/?[^>]+(>|$)/g, '').split('. '),\n  },\n  {\n    page: '/docs/state',\n    title: 'State',\n    html: docs.state,\n    p: docs.state.replace(/<\\/?[^>]+(>|$)/g, '').split('. '),\n  },\n  {\n    page: '/docs/actions',\n    title: 'Actions',\n    html: docs.actions,\n    p: docs.actions.replace(/<\\/?[^>]+(>|$)/g, '').split('. '),\n  },\n  {\n    page: '/docs/view',\n    title: 'View',\n    html: docs.view,\n    p: docs.view.replace(/<\\/?[^>]+(>|$)/g, '').split('. '),\n  },\n  {\n    page: '/docs/listener',\n    title: 'Listener',\n    html: docs.listener,\n    p: docs.listener.replace(/<\\/?[^>]+(>|$)/g, '').split('. '),\n  },\n  {\n    page: '/docs/events',\n    title: 'Events',\n    html: docs.events,\n    p: docs.events.replace(/<\\/?[^>]+(>|$)/g, '').split('. '),\n  },\n  {\n    page: '/docs/headless-components',\n    title: 'Headless Components',\n    html: docs.headlessComponents,\n    p: docs.headlessComponents.replace(/<\\/?[^>]+(>|$)/g, '').split('. '),\n  },\n  {\n    page: '/docs/plugin',\n    title: 'Plugin',\n    html: docs.plugin,\n    p: docs.plugin.replace(/<\\/?[^>]+(>|$)/g, '').split('. '),\n  },\n  {\n    page: '/docs/mount',\n    title: 'Mount',\n    html: docs.mount,\n    p: docs.mount.replace(/<\\/?[^>]+(>|$)/g, '').split('. '),\n  },\n]\n","/** @jsx _radi.r **/\n  /** @radi-listen _radi_listen **/\n\n  import _radi from 'radi';\n  const action = _radi.action;\n  const subscribe = _radi.subscribe;\n  const worker = _radi.worker;\n  const _radi_listen = _radi.listen;\n\n  import globals from '../helpers/globals';\nimport logo from '../../assets/img/logo-l-white.png';\n\n  export default class Header extends _radi.Component {\n    constructor(...args) {\n      super(...args);\n      this.state = {\n  location: null,\n};\n      this.on = {};\n    }\n\n    \n\n    view() {\n        const component = this;\n        return [\n<header class={ component.state.location }>\n  <div class=\"wrapper\">\n    <div id=\"logo\">\n      <Link to=\"/\"><img src={ logo } alt=\"\"/></Link>\n    </div>\n    <ul id=\"main-menu\">\n      <li>\n        <Link to={ globals.docs } core={ true }>Docs</Link>\n      </li>\n      <li>\n        <Link to={ globals.repl }>Try online</Link>\n      </li>\n      <li>\n        <a href={ globals.slack } target=\"_blank\">Slack</a>\n      </li>\n      <li>\n        <a href={ globals.github } target=\"_blank\">GitHub</a>\n      </li>\n    </ul>\n  </div>\n</header>];\n      }\n\n  };","/** @jsx _radi.r **/\n  /** @radi-listen _radi_listen **/\n\n  import _radi from 'radi';\n  const action = _radi.action;\n  const subscribe = _radi.subscribe;\n  const worker = _radi.worker;\n  const _radi_listen = _radi.listen;\n\n  import 'github-markdown-css'\nimport '../../assets/stylus/docs.styl';\nimport globals from '../helpers/globals';\nimport search from '../helpers/search';\nimport searchTerms from '../helpers/docs';\nimport Header from '../components/Header';\n\n  export default class DocsLayout extends _radi.Component {\n    constructor(...args) {\n      super(...args);\n      this.state = {\n  searchOverlay: false,\n  search: '',\n  results: [],\n};\n      this.on = {\n  mount() {\n    document.onkeydown = e => this.trigger('keydown', e)\n  },\n  // @subscribe(document)\n  keydown(e) {\n    if ((e.metaKey === true || e.ctrlKey === true)\n      && e.keyCode === 70) {\n      e.preventDefault();\n      this.openSearch();\n      return false;\n    } else {\n      this.searchKey(e);\n    }\n  },\n};\n    }\n\n    \nsearchKey(e) {\n  if (e.keyCode === 27) {\n    this.closeSearch()\n  }\n}\n\n@action makeSearch(e) {\n  let phrase = e.target.value\n\n  if (phrase === '') {\n    // this.noresults = phrase !== '' && this.results.length <= 0\n    return { results: [] }\n  }\n\n  var treshold = 100\n  var res = []\n  for (var i = 0; i < searchTerms.length; i++) {\n    for (var n = 0; n < searchTerms[i].p.length; n++) {\n      var s = search(phrase, searchTerms[i].p[n])\n      if (s >= treshold)\n        res.push({\n          term: searchTerms[i].p[n],\n          score: s,\n          page: searchTerms[i].page,\n          title: searchTerms[i].title,\n        })\n    }\n  }\n\n  if (res.length <= 0) {\n    return { results: [] }\n  }\n\n  return { results: res }\n}\n\n@action closeSearch() {\n  return { searchOverlay: false }\n}\n\n@action openSearch() {\n  return { searchOverlay: true }\n}\n\n\naddHighlight(text) {\n  return text.replace(new RegExp(this.state.search.trim().replace(/  /g, ' ').split(' ').join('|'), 'ig'), (match) => (\n      // '{' + match + '}'\n      '<span class=\"mark\">' + match + '</span>'\n    ));\n}\n\n    view() {\n        const component = this;\n        return [\n<template>\n  <Header location=\"at-docs\" />\n  <div id=\"docs-menu\">\n    <div class=\"docs-logo\">\n      <Link to=\"/\"><img src={ require('../../assets/img/llcolor.png') } alt=\"\"/></Link>\n    </div>\n    <ul>\n      <li class=\"search-btn-wrap\">\n        <button onclick={ e => this.openSearch(e) } class=\"search-btn\">\n          <i class=\"material-icons\">&#xE8B6;</i>\n          Search docs\n        </button>\n      </li>\n      {/* <li>\n        <strong>\n          <i class=\"material-icons\">&#xE869;</i>\n          Getting started\n        </strong>\n      </li> */}\n      <li>\n        <Link to={ globals.docs }>Introduction</Link>\n      </li>\n      <li>\n        <Link to={ globals.docs + '/installation' }>Installation</Link>\n      </li>\n      <li>\n        <Link to={ globals.docs + '/hyperscript' }>Hyperscript</Link>\n      </li>\n      {/* <li>\n        <strong>\n          <i class=\"material-icons\">&#xE8EB;</i>\n          Components\n        </strong>\n      </li> */}\n      <li>\n        <Link to={ globals.docs + '/components' }>Components</Link>\n      </li>\n      <li>\n        <Link to={ globals.docs + '/state' }>State</Link>\n      </li>\n      <li>\n        <Link to={ globals.docs + '/actions' }>Actions</Link>\n      </li>\n      <li>\n        <Link to={ globals.docs + '/view' }>View</Link>\n      </li>\n      <li>\n        <Link to={ globals.docs + '/listener' }>Listener</Link>\n      </li>\n      {/* <li>\n        <strong>\n          <i class=\"material-icons\">&#xE8BF;</i>\n          Events\n        </strong>\n      </li> */}\n      <li>\n        <Link to={ globals.docs + '/events' }>Events</Link>\n      </li>\n      <li>\n        <Link to={ globals.docs + '/headless-components' }>Headless Components</Link>\n      </li>\n      <li>\n        <Link to={ globals.docs + '/plugin' }>Plugin</Link>\n      </li>\n      <li>\n        <Link to={ globals.docs + '/mount' }>Mount</Link>\n      </li>\n      <hr/>\n      <li>\n        <Link to={ globals.repl }>Try online</Link>\n      </li>\n      <li>\n        <a href={ globals.slack } target=\"_blank\">Slack</a>\n      </li>\n      <li>\n        <a href={ globals.github } target=\"_blank\">GitHub</a>\n      </li>\n    </ul>\n  </div>\n  <div class=\"docs-wrapper\">\n    { component.state.searchOverlay && (\n      <div class=\"docs-search-wrapper\">\n        <div class=\"docs-search-wrapper-bg\" onclick={ e => component.closeSearch() }></div>\n        <div class=\"wrapper\">\n          <input type=\"search\" autofocus=\"true\" onkeyup={ e => component.makeSearch(e) } onkeydown={ e => component.searchKey(e) } placeholder=\"Search..\" model={ component.state.search }/>\n          {/* <h2>Search results</h2> */}\n          {\n            component.state.results.length > 0\n              ? <ul class=\"search-results\">\n                  { component.state.results.map(result => (\n                        <li>\n                          <Link to={ result.page }>\n                            <strong>{ result.title }</strong>\n                            <span html={ component.addHighlight(result.term) }></span>\n                          </Link>\n                        </li>\n                      ))\n                  }\n                </ul>\n              : <div>No results</div>\n          }\n        </div>\n      </div>\n    ) }\n    {/* <div class=\"under-hero-repl\">\n      <MiniRepl code={ globals.startingCode } />\n    </div> */}\n    { this.children }\n    <footer>\n      <p>Edit this page on <a href=\"https://github.com/radi-js/radi/docs\" target=\"_blank\">Github</a></p>\n    </footer>\n  </div>\n</template>];\n      }\n\n  };"]}